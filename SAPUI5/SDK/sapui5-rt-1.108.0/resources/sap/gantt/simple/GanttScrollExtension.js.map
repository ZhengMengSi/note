{"version":3,"file":"GanttScrollExtension.js","names":["sap","ui","define","jQuery","Core","Device","Format","TimeHorizon","GanttExtension","RenderUtils","GanttUtils","AggregationUtils","fnScrollLeft","$elem","fValue","bRTL","getConfiguration","getRTL","sScrollLeftFn","sNamespace","sScrollEvent","HorizontalScrollingHelper","onHSBScroll","oEvent","this","_iScrollTimer","clearTimeout","setTimeout","_getScrollExtension","updateVisibleHorizonIfNecessary","bind","onMouseWheelScrolling","iSpinY","detail","wheelDelta","wheelDeltaY","bSpinY","Math","abs","iHorizontalDelta","deltaX","iVerticalDelta","deltaY","bHorizontalDelta","oScrollExtension","bHorizontalScrolling","shiftKey","iScrollDelta","bScrollingForward","bScrolledToEnd","oHSb","getGanttHsb","scrollLeft","scrollWidth","offsetWidth","preventDefault","stopPropagation","getEventListenerTargets","oGantt","aEventListenerTargets","getDomRef","filter","oEventListenerTarget","onTouchStart","type","pointerType","oTouchObject","touches","_mTouchSessionData","initialPageX","pageX","initialPageY","pageY","initialScrollLeft","initialScrolledToEnd","onTouchMoveHorizontalScrolling","mTouchSessionData","iTouchDistanceX","iTouchDistanceY","bScrollingPerformed","bHorizontalScroll","addEventListeners","oExtension","removeEventListeners","on","_mTouchEventListener","addTouchEventListener","_mMouseWheelEventListener","addMouseWheelEventListener","off","removeScrollEventListeners","fnOnMouseWheelEventHandler","i","length","addEventListener","wheel","fnOnTouchStartEventHandler","fnOnTouchMoveEventHandler","mListeners","support","pointer","system","desktop","browser","chrome","passive","touch","pointerdown","pointermove","touchstart","touchmove","aEventTargets","removeEventListener","oTarget","mEventListenerMap","sEventName","fnListener","GanttScrollExtension","extend","_init","mSettings","oGanttHsb","_bSuppressSetVisibleHorizon","mOffsetWidth","_attachEvents","getGantt","_detachEvents","destroy","_delegate","prototype","apply","arguments","_updateVisibleHorizonForce","getAggregation","renderElement","scrollTimer","window","isDynamicText","getTable","rerender","oDragExtension","_getDragDropExtension","_bEnableRowHighlight","isDragging","getShapeDndRowHighlightIndex","toggleDnDRowHighlight","oTimeHorizon","_scrollLeftToVisibleHorizon","_updateVisibleHorizon","getVisibleWidth","jumpToVisibleHorizon","sReasonCode","getAxisTimeStrategy","getVisibleHorizon","_getGanttHsbScrollLeft","getContentWidth","oAxisTime","getAxisTime","oRange","getViewRange","ceil","updateGanttScrollWidth","getSyncedControl","setInnerWidth","document","getElementById","getId","width","scrollGanttChartToVisibleHorizon","nScrollLeft","_visibleHorizonToScrollLeft","nScrollPosition","svgOffset","mDom","getDomRefs","$gantt","gantt","$header","header","_iDiff","oHsb","_getConnectExtension","updateShapeConnectEffect","clearOffsetWidth","setViewOffset","needRerenderGantt","fnRedrawGanttChart","bToolbarSettingsItemChanged","doesSvgScrollWithinBuffer","getRowsHeightChanged","_scrollTableToVisibleHorizon","scrollContentIfNecessary","updateSvgOffsetWidth","bSuppress","$hsb","iCurrentScrollLeft","iExpectScrollLeft","calcSvgLatestOffsetWidth","iGanttRenderedWidth","svgWidth","iVisibleWidth","iContentWidth","iContentScrollLeft","iSvgOffset","iSvgWidth","bInBuffer","iSVGWidth","getGanttRenderWidth","iOffset","RENDER_EXTEND_FACTOR","sTime","getStartTime","iScrollLeft","timeToView","abapTimestampToDate","oStartTime","viewToTime","oEndTime","undefined","startTime","endTime"],"sources":["GanttScrollExtension-dbg.js"],"mappings":"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"}