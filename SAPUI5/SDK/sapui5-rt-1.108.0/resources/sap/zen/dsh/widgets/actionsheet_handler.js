/*
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/zen/dsh/utils/BaseHandler"],function(jQuery,e){"use strict";var t=function(){e.apply(this,arguments);var t=this;this.oPlacementMapping={BOTTOM:sap.m.PlacementType.Bottom,LEFT:sap.m.PlacementType.Left,RIGHT:sap.m.PlacementType.Right,TOP:sap.m.PlacementType.Top,HORIZONTAL:sap.m.PlacementType.Horizontal,VERTICAL:sap.m.PlacementType.Vertical,AUTO:sap.m.PlacementType.Auto};this.oActionSheet=null;this.oAction=null;this.create=function(e,t){var n=t["id"];var o=this.createButton(n);this.init(o,t);o.setVisible(false);return o};this.update=function(e,t){if(t){this.init(e,t)}return e};this.init=function(n,o){var a=function(){if(t.oActionSheet){t.oActionSheet.destroyButtons();t.oActionSheet.destroy();t.oActionSheet=null}};if(o.open===true){a();t.oActionSheet=new sap.m.ActionSheet(n.getId()+"_rendered");if(o.placement){t.oActionSheet.setPlacement(t.oPlacementMapping[o.placement])}else{t.oActionSheet.setPlacement(sap.m.PlacementType.Auto)}var i=o.onClickCommand;var s=o.items;if(s){for(var c=0;c<s.length;c++){var l=s[c].item;var r=new sap.m.Button(t.oActionSheet.getId()+"_button_"+c);if(l.text){r.setText(l.text)}else{r.setText(l.value)}if(l.icon){r.setIcon(l.icon)}var u=i.replace("__VALUE__",l.value);r.data("onClickCommand",{value:u});r.attachPress(function(){t.oActionSheet.data("onActionCommand",this.data("onClickCommand"))});if(l.value==="TILE"){var m=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();if(m.enablePersonalization!==undefined){var p=m.enablePersonalization;r.setEnabled(p)}}t.oActionSheet.addButton(r)}}setTimeout(function(){var n=e.dispatcher.getRootControlForComponentId(o.openBy);if(n){t.oActionSheet.openBy(n);t.oActionSheet.attachAfterClose(null,function(){var e=null;if(o.closeCommand){e=new Function(o.closeCommand)}var t=null;if(this.data("onActionCommand")){t=new Function(this.data("onActionCommand").value)}a();if(e){e()}if(t){t()}})}},1)}};this.getDefaultProxyClass=function(){return[sap.m.ActionSheet,null]};this.getType=function(){return"actionsheet"}};var n=new t;e.dispatcher.addHandlers(n.getType(),n);return n});
//# sourceMappingURL=actionsheet_handler.js.map