{"version":3,"file":"VizAnnotationManager.js","names":["sap","ui","define","jQuery","Utils","CountMode","CardAnnotationHelper","NumberFormat","DateFormat","VizFormat","VizTooltip","CommonUtils","OVPCardAsAPIUtils","DimensionDefinition","MeasureDefinition","FeedItem","CoreElement","OvpResources","OVPUtils","each","merge","OVPLogger","isEmptyObject","AnalyticalCardHelper","constants","LABEL_KEY","LABEL_KEY_V4","TEXT_KEY","TEXT_KEY_V4","TEXT_ARRANGEMENT_ANNO","TYPE_KEY","DISPLAY_FORMAT_KEY","SEMANTICS_KEY","UNIT_KEY","UNIT_KEY_V4_ISOCurrency","UNIT_KEY_V4_Unit","CURRENCY_CODE","NAME_KEY","NAME_CAP_KEY","EDM_TYPE","EDM_INT32","EDM_INT64","SCATTER_CHARTTYPE","BUBBLE_CHARTTYPE","LINE_CHARTTYPE","COLUMNSTACKED_CHARTTYPE","VERTICALBULLET_CHARTTYPE","COLUMN_CHARTTYPE","BAR_CHARTTYPE","COMBINATION_CHARTTYPE","DONUT_CHARTTYPE","errorMessages","CARD_WARNING","CARD_ERROR","DATA_ANNO_ERROR","CARD_ANNO_ERROR","CHART_ANNO_ERROR","INVALID_CHART_ANNO","ANALYTICAL_CONFIG_ERROR","CACHING_ERROR","INVALID_MAXITEMS","NO_DATASET","SORTORDER_WARNING","BOOLEAN_ERROR","IS_MANDATORY","IS_MISSING","NOT_WELL_FORMED","MISSING_CHARTTYPE","CHART_ANNO","DATA_ANNO","CARD_ANNO","CARD_CONFIG","CARD_CONFIG_ERROR","CARD_CONTAINER_ERROR","DATA_UNAVAIALABLE","CONFIG_LOAD_ERROR","INVALID_CHARTTYPE","INVALID_CONFIG","CONFIG_JSON","ENTER_INTEGER","NO_CARD_MODEL","ANNO_REF","INVALID_REDUNDANT","CHART_IS","CARD_CONFIG_JSON","ALLOWED_ROLES","DIMENSIONS_MANDATORY","MEASURES_MANDATORY","CARD_LEAST","CARD_MOST","FEEDS","MIN_FEEDS","FEEDS_OBTAINED","FEEDS_REQUIRED","INVALID_SEMANTIC_MEASURES","INVALID_IMPROVEMENT_DIR","INVALID_CRITICALITY","INVALID_DIMMEAS","INVALID_FORECAST","INVALID_TARGET","ERROR_MISSING_AXISSCALES","aSupportedDateSemantics","aSupportedChartTypesForSemanticColors","aSupportedChartTypesForStableColors","oGlobalEntityType","oLogger","formatItems","iContext","oEntitySet","oSelectionVariant","oPresentationVariant","oDimensions","oMeasures","chartType","ret","getSetting","error","dataModel","chartEnumArr","EnumMember","split","setDefaultCountMode","Inline","undefined","dimensionsList","aExpand","aAssociationKeys","aTempAssociationKeyArr","measuresList","requestList","sorterList","bParams","Parameters","bSorter","SortOrder","maxItemTerm","MaxItems","maxItems","tmp","sExpand","textPath","entitySet","textKey","textKeyV4","unitKey","unitKey_v4_isoCurrency","unitKey_v4_unit","oSelectItems","Int32","Int","test","ovpCardProperties","aParameters","getProperty","oMetaModel","path","resolveParameterizedEntitySet","name","filters","oMetadata","getMetadata","cardLayout","colSpan","colSpanOffset","allConfig","getConfig","config","reference","key","virtualEntry","time","type","toLowerCase","bSupportsTimeSemantics","hasTimeSemantics","default","dataStep","resize","hasOwnProperty","isNaN","parseInt","getFilters","length","JSON","stringify","oSortAnnotationCollection","getSortAnnotationCollection","warning","sSorterValue","oSortOrder","sSortOrder","sSortBy","i","Property","PropertyPath","push","Descending","checkFlag","Bool","Boolean","substring","entityTypeObject","m","Measure","DataPoint","AnnotationPath","datapointAnnotationPath","ForecastValue","Path","forecastProperty","unitCode","Array","prototype","indexOf","call","TargetValue","targetProperty","String","d","Dimension","aParts","getNavigationPrefix","getAssociationKeys","concat","k","splice","join","oEntityType","getODataEntityType","entityType","requestFields","getRequestFields","r","modSortList","s","bCheckFilterPreference","checkFilterPreference","requiresIContext","sProperty","oAssociationEnd","getODataAssociationEnd","aKeyObjects","targetKey","propertyRef","j","checkForecastMeasure","aMeasure","boolflag","realMeasure","oDatapoint","checkTargetMeasure","getSapLabel","value","v","getMeasureDimCheck","feeds","boolFlag","getUid","getValues","formatByType","sProp","sVal","typeKey","aNumberTypes","currentType","Number","returnDateFormat","date","formatChartAxes","customFormatter","locale","format","pattern","patternArr","minFractionDigits","shortRef","numberFormat","getFloatInstance","style","maxFractionDigits","tooltipFormat","currencyCode","shortRefNumber","showScale","currencyFormat","getCurrencyInstance","search","percentFormat","getPercentInstance","constructor","Date","oDateFormat","getDateTimeInstance","getDateInstance","oMainController","getApp","bResetChartAxisFormatter","sLocaleTime","toLocaleTimeString","aLocaleTime","bUTC","numericFormatter","hideDateTimeAxis","vizFrame","feedName","getModel","getVizType","getFeeds","feedValues","setVizProperties","categoryAxis","title","visible","oCardsModel","sKey","getId","setVizPropertyMap","checkExists","term","annotation","bMandatory","logViewId","contentFragment","annoTerm","logger","ChartType","validateCardConfiguration","oController","selVar","chartAnno","preVar","idAnno","dPAnno","entityTypeData","oView","getView","getCardPropertiesModel","checkNoData","oEvent","cardContainer","oChartType","aDimensions","dimensionName","dimensionType","displayFormat","sapSemantics","sapSemanticsV4","index","lastIndexOf","unshift","getChartType","checkRolesForProperty","queue","feedtype","queuedNames","val","allowedRoles","map","f","role","grep","getPrimitiveValue","oValue","isLegend","getBooleanValue","getNumberValue","bDefault","Decimal","Double","Single","formThePathForCriticalityStateCalculation","oDataPoint","getPathOrPrimitiveValue","oItem","measureNames","CriticalityCalculation","ImprovementDirection","sImprovementDirection","deviationLow","DeviationRangeLowValue","deviationHigh","DeviationRangeHighValue","toleranceLow","ToleranceRangeLowValue","toleranceHigh","ToleranceRangeHighValue","_calculateCriticalityState","criticalityConstants","StateValues","state","Criticality","criticalTypeArr","mapMeasures","oContext","aMeasures","dataPointAnnotationPath","endsWith","sString","sSuffix","sImproveDirection","buildSemanticLegends","oMeasure","measureName","getLabelFromAnnotationPath","getText","checkNumberFormat","minValue","fractionDigits","fractionDigitsVal","ValueFormat","NumberOfFractionalDigits","getMaxScaleFactor","maxScaleValue","scaleF","ScaleFVal","ScaleFactor","isMeasureCurrency","sapUnit","checkEDMINT32Exists","checkEDMINT64Exists","buildVizAttributes","handler","chartTitle","chartContext","bShowDataLabel","bShowDataLabelCardsAsApi","oVizProperties","aQueuedProperties","aQueuedDimensions","aQueuedMeasures","aPropertyWithoutRoles","aDimensionWithoutRoles","aMeasureWithoutRoles","oDropdown","selectedKey","uiModel","oChartSettings","checkIfAPIIsUsed","getData","showDataLabel","DimensionAttributes","aNumberOfFractionalDigits","MeasureAttributes","dpNumberOfFractionalDigits","chartProps","byId","getSelectedKey","bErrors","tooltipFormatString","toString","oTooltip","formatString","connect","getVizUid","_oOvpVizFrameTooltip","dimensions","measures","forEach","entry","oProperty","typeCue","min","max","bHideAxisTitle","properties","bDatapointNavigation","bDonutChart","removeAllAggregation","legend","isScrollable","interaction","noninteractiveMode","selectability","legendSelection","axisLabelSelection","mode","plotLassoSelection","plotStdSelection","zoom","enablement","plotArea","window","start","end","dataLabel","dataPoint","invalidity","alignment","vertical","label","truncatedLabelRatio","general","groupData","showAsUTC","semanticColor","goodLegend","badLegend","criticalLegend","othersLegend","legends","dataPointStyle","rules","callback","criticality","sState","Positive","color","displayName","Critical","Negative","None","bEnableStableColors","oColorPalette","colorPaletteDimension","Object","keys","oDimension","Role","aColorValues","aLegendTexts","legendText","othersCustomLegend","badCustomLegend","criticalCustomLegend","goodCustomLegend","oDataPointStyleRulesCopy","rule","dataContext","bConsiderAnnotationScales","bIsMinMax","AxisScaling","RecordType","oAxisScaling","AutoScaleBehavior","oAutoScaleBehavior","ZeroAlwaysVisible","adjustScale","DataScope","ScaleBehavior","sEnumMember","sEnumMemberValue","sScaleType","aChartScales","sDataPointAnnotationPath","sDataPointPath","oMinMaxParams","MaximumValue","MinimumValue","feed","setVizScales","slice","minValCurr","maxScaleValueCurr","isCurrency","isNotCurrency","oVizPropertiesFeeds","measureArr","dimensionArr","uid","aFeedProperties","iPropertiesLength","propertyName","len","rolesByPrio","annotationRole","defaultRole","aFeeds","dataset","getDataset","property","textColumn","edmType","displayBindingPath","oDimensionMap","oTextArrangement","sTextArrangementType","setDimensionPath","cardId","dimensionDefinition","displayValue","isV4CalendarYear","setDataType","addDimension","addMeasure","addFeed","values","text","configi","confignumberOfProperties","vizProperties","configpathToUse","configvalue","configlengthOfPathToUse","configtmp","manifestTmp","configcurrent","configj","numberOfProperties","attributeValue","methodToUse","pathToUse","method","lengthOfPathToUse","current","semanticPattern","getType","selectedValue","valueLabel","actualMeasure","forecastMeasure","forecastValue","actualValue","forecastValueName","MeasureNamesDimension","lineType","lineColor","setValues","bColorRestriction","dimensionSettings","aDimensionPaths","sDimensionPath","oRules","aChartDimensions","bStableColoringByDimensionValue","sChartDimension","oColorRules","aDefinedRules","aColorRules","oRule","every","_fnCheckColorNotDefined","aRules","_sortColorsByIndex","sDimensionValue","dimensionValue","sColor","feedname","getFeednameByProperty","aDimensionsByOrder","_getDimensionValue","order","n","indexM","indexN","targetMeasure","targetValue","feedType","aFeedValues","isMeasureDecimal","aFeedValueContexts","filter","measureAttr","contextMeasure","scaleUnit","getScaleUnit","setScale","setFormattedChartTitle","fmtStr","feedFractionalDigits","currentFeedType","oVizPropertiesFeed","singleFeed","result","trim","aPropertiesLabels","propertyLabel","trimmedPropertyLabel","currentMeasure","measureObject","measureProperty","currentMeasureObject","currentMeasureDPPath","tempFractionalDigits","formatStr","finalMinValue","chartFmtStr","timeDimension","timeAxis","levels","oVizPropertiesCopy","setChartUoMTitle","vizData","measureList","results","unitType","bSetChartUoMTitle","feedMeasures","objData","chartUnitTitleTxt","setText","data","labelForVizFrame","updatedLabelForVizFrame","sResourceModelName","sPropertyName","aTemp","err","model","cacheODataMetadata","txt","measureStr","dimensionStr","num","scaledNum","getSelectedDataPoint","controller","attachSelectData","sNavMode","bCRTLPressed","explace","inplace","dimensionArrayNames","finalDimensions","aCustomContext","dimensionsArr","getDimensions","contextNumber","getName","allData","getBinding","getCurrentContexts","x","getObject","getParameter","_context_row_number","getContexts","oNavigationField","getEntityNavigationEntries","$isOthers","aOtherNavigationDimension","aFinalDimensions","donutIntent","payLoad","getOtherNavigationDimensions","checkAPINavigation","onContentClicked","doNavigation","match","oRb","this","getResourceBundle","sFiscalDate","includes","reverse","getAllData","checkBubbleChart","dimensionAttrCheck","measureAttrCheck","getEntitySet","getAnnotationQualifier","annotationPath","tokens","reprioritizeContent","newCardLayout","cardPropObject","getMaxItems","itemsLength","updateBindingForAnalyticalCard","presentationAnno","presentationContext","newAggrBinding","newBinding","finalMeasures","vizFrameParent","getParent","dataBinding","getPath","parameters","mParameters","select","custom","_requestFrom","aApplicationFilters","sorter","aSorters","template","bindAggregation","updateBindingContext","aColors","sort","oRule1","oRule2","oColor"],"sources":["VizAnnotationManager-dbg.js"],"mappings":"AAMAA,IAAIC,GAAGC,OAAO,CACV,2BACA,6BACA,+BACA,iCACA,kCACA,gCACA,6BACA,kCACA,4BACA,kCACA,uCACA,qCACA,6CACA,sBACA,wBACA,uBACA,qBACA,sBACA,0BACA,8BACA,oDACD,SACCC,OACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAGA,IAAIC,EAAY,CACZC,UAAW,YACXC,aAAc,uCACdC,SAAU,WACVC,YAAa,sCACbC,sBAAuB,6CACvBC,SAAU,OACVC,mBAAoB,qBACpBC,cAAe,gBACfC,SAAU,WACVC,wBAAyB,oCACzBC,iBAAkB,6BAClBC,cAAe,gBACfC,SAAU,OACVC,aAAc,OACdC,SAAU,OACVC,UAAW,YACXC,UAAW,YACXC,kBAAmB,+CACnBC,iBAAkB,8CAClBC,eAAgB,4CAChBC,wBAAyB,qDACzBC,yBAA0B,sDAC1BC,iBAAkB,8CAClBC,cAAe,2CACfC,sBAAuB,mDACvBC,gBAAiB,8CAIrB,IAAIC,EAAgB,CAChBC,aAAc,mCACdC,WAAY,gCACZC,gBAAiB,+BACjBC,gBAAiB,gCACjBC,iBAAkB,gCAClBC,mBAAoB,oDACpBC,wBAAyB,oCACzBC,cAAe,+CACfC,iBAAkB,wBAClBC,WAAY,oDACZC,kBAAmB,mFACnBC,cAAe,uDACfC,aAAc,gBACdC,WAAY,cACZC,gBAAiB,mCACjBC,kBAAmB,wBACnBC,WAAY,oBACZC,UAAW,kBACXC,UAAW,mBACXC,YAAa,sBACbC,kBAAmB,sCACnBC,qBAAsB,oCACtBC,kBAAmB,qBACnBC,kBAAmB,uCACnBC,kBAAmB,+BACnBC,eAAgB,oCAChBC,YAAa,iBACbC,cAAe,2BACfC,cAAe,gCACfC,SAAU,yCACVC,kBAAmB,yCACnBC,SAAU,gBACVC,iBAAkB,wBAClBC,cAAe,uBACfC,qBAAsB,qCACtBC,mBAAoB,mCACpBC,WAAY,wBACZC,UAAW,uBACXC,MAAO,WACPC,UAAW,wCACXC,eAAgB,oCAChBC,eAAgB,sBAChBC,0BAA2B,uDAC3BC,wBAAyB,iCACzBC,oBAAqB,6BACrBC,gBAAiB,2CACjBC,iBAAkB,kDAClBC,eAAgB,gDAChBC,yBAA0B,yEAG9B,IAAIC,EAA0B,CAAC,OAAQ,WAAY,YAAa,eAGhE,IAAIC,EAAwC,CACxC9E,EAAUqB,wBACVrB,EAAU0B,gBACV1B,EAAUuB,iBACVvB,EAAUwB,cACVxB,EAAUsB,yBACVtB,EAAUoB,eACVpB,EAAUyB,sBACVzB,EAAUmB,kBAId,IAAI4D,EAAsC,CAAC/E,EAAUqB,yBACrD,IAAI2D,EAEJ,IAAIC,EAAU,IAAIpF,EAAU,mCAI5B,SAASqF,EACLC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAM,IACV,IAAKP,IAAaA,EAASQ,WAAW,qBAAsB,CACxDV,EAAQW,MAAMjE,EAAcO,yBAC5BwD,GAAO,IACP,OAAOA,CACX,CACA,IAAIG,EAAYV,EAASQ,WAAW,aACpC,IAAIG,EACJ,GAAIL,GAAaA,EAAUM,WAAY,CACnCD,EAAeL,EAAUM,WAAWC,MAAM,KAC1C,GAAIF,GAAgBA,EAAa,KAAO,QAAS,CAC7CD,EAAUI,oBAAoBpH,EAAUqH,OAC5C,CACA,GAAIJ,GAAgBA,EAAa,IAAM,SAAWP,IAAgBY,UAAW,CACzE,OAAO,IACX,CACJ,CAEA,IAAIC,EAAiB,GACrB,IAAIC,EAAU,GACd,IAAIC,EAAmB,GACvB,IAAIC,EAAyB,GAC7B,IAAIC,EAAe,GACnB,IAAIC,EAAc,GAClB,IAAIC,EAAa,GACjB,IAAIC,EAAUtB,GAAqBA,EAAkBuB,WACrD,IAAIC,EAAUvB,GAAwBA,EAAqBwB,UAC3D,IAAIC,EAAczB,GAAwBA,EAAqB0B,SAC3DC,EAAW,KACf,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EAAY,KAChB,IAAIC,EAAUtH,EAAUG,SACxB,IAAIoH,EAAYvH,EAAUI,YAC1B,IAAIoH,EAAUxH,EAAUS,SACxB,IAAIgH,EAAyBzH,EAAUU,wBACvC,IAAIgH,EAAkB1H,EAAUW,iBAChC,IAAIgH,EAAe,CAAC,EAEpB,GAAIZ,EAAa,CACbE,EAAWF,EAAYa,MAAQb,EAAYa,MAAQb,EAAYc,GACnE,CAEA,GAAIZ,EAAU,CACV,GAAIA,IAAa,IAAK,CAClBhC,EAAQW,MAAM,0DAA4DqB,GAC1EvB,GAAO,IACP,OAAOA,CACX,CACA,IAAK,QAAQoC,KAAKb,GAAW,CACzBhC,EAAQW,MAAM,8EACdF,GAAO,IACP,OAAOA,CACX,CACJ,CAEA,IAAIqC,EAAoB5C,EAASQ,WAAW,qBACxCqC,EAAcD,EAAkBE,YAAY,eAC5CC,EAAaH,EAAkBE,YAAY,cAE/CtB,EAAUA,KAAaqB,EAEvB,GAAIrB,EAAS,CACT,IAAIwB,EAAOrJ,EAAqBsJ,8BAC5BvC,EACAT,EACAC,EACA2C,GAEJtC,GAAO,UAAYyC,EAAO,GAC9B,KAAO,CACHzC,GAAO,WAAaN,EAAWiD,KAAO,GAC1C,CAEA,IAAIC,EAAU,GAEdjB,EAAYlC,EAASQ,WAAW,qBAAqBsC,YAAY,cACjE,IAAKpC,IAAcwB,EAAW,CAC1B,OAAO3B,CACX,CACA,IAAI6C,EAAYC,GAAY3C,EAAWwB,GAEvC,IAAIoB,EAAatD,EAASQ,WAAW,qBAAqBsC,YAAY,eACtE,IAAIS,EAAU,EACVC,EACJ,IAAIC,EAAYC,IAChB,IAAIC,EACJ,IAAIC,GAEJ,GACIxD,GACAkD,GACAA,EAAWC,SACXD,EAAWC,QAAU,EACvB,CACEC,EAAgBF,EAAWC,QAAUA,EAErC,IAAK,IAAIM,MAAOJ,EAAW,CACvB,IAAKG,GAAYH,EAAUI,IAAKD,YAAcH,EAAUG,IAAY,CAChE,IAAIE,GAAerJ,EAAM,CAAC,EAAGgJ,EAAUG,KACvCH,EAAUI,IAAOC,EACrB,CACA,GACID,KAAQlD,EAAa,IACpB8C,EAAUI,IAAKE,MAAQN,EAAUI,IAAKE,KAAKC,OAASrD,EAAa,GAAGsD,cACvE,CACEN,EAASF,EAAUI,IACnB,KACJ,CACJ,CAEA,IAAIK,GAAyBC,EAAiB/D,EAAauD,EAAQjD,EAAWwB,GAC9E,GAAIgC,GAAwB,CACxBP,EAASA,EAAOI,IACpB,KAAO,CACHJ,EAASA,EAAOS,OACpB,CAEA,IAAIC,GAAWrE,EAASQ,WAAW,qBAAqBsC,YAAY,aACpE,IAAKuB,GAAU,CACX,GAAIV,EAAOW,QAAUX,EAAOW,OAAOC,eAAe,cAAgBC,MAAMb,EAAOW,OAAOD,UAAW,CAC7FA,GAAWV,EAAOW,OAAOD,QAC7B,CACJ,CAEAA,GAAWI,SAASJ,GAAU,IAE9B,GAAIb,EAAgB,GAAKa,KAAaG,MAAMH,IAAW,CACnDvC,EAAW2C,SAAS3C,EAAU,IAAMuC,GAAWb,CACnD,CACJ,CAIA,GAAItD,EAAmB,CACnB,IAAI0C,EAAoB5C,EAASQ,WAAW,qBAC5C2C,EAAUxJ,EAAqB+K,WAAW9B,EAAmB1C,EACjE,CAEA,GAAIiD,EAAQwB,OAAS,EAAG,CACpBpE,GAAO,cAAgBqE,KAAKC,UAAU1B,EAC1C,CAEA,GAAIzB,EAAS,CACT,IAAIoD,GAA4B3E,EAAqBwB,UACrD,IAAKmD,GAA0BH,OAAQ,CACnCG,GAA4BrL,EAAMsL,4BAC9BrE,EACAP,EACAF,EAER,CACA,GAAI6E,GAA0BH,OAAS,EAAG,CACtC7E,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAcW,kBAC/D,KAAO,CACH,IAAI8H,GAAe,GACnB,IAAIC,GACJ,IAAIC,GACJ,IAAIC,GACJ,IAAK,IAAIC,GAAI,EAAGA,GAAIP,GAA0BH,OAAQU,KAAK,CACvDH,GAAaJ,GAA0BO,IACvCD,GAAUF,GAAWI,SAASC,aAC9BhE,EAAWiE,KAAKJ,IAChB,UAAWF,GAAWO,aAAe,YAAa,CAC9CN,GAAa,MACjB,KAAO,CACH,IAAIO,GAAYR,GAAWO,WAAWE,MAAQT,GAAWO,WAAWG,QACpE,IAAKF,GAAW,CACZ5F,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAcY,eAC3D+H,GAAa,MACjB,KAAO,CACHA,GAAaO,GAAUzB,gBAAkB,OAAS,OAAS,OAC/D,CACJ,CACAgB,GAAeA,GAAe,WAAaG,GAAU,iBAAmBD,GAAa,IACzF,CAEA5E,GAAO,cAAgB0E,GAAaY,UAAU,EAAGZ,GAAaN,OAAS,GAAK,GAChF,CACJ,CAEA,IAAImB,GAAmB9F,EAASQ,WAAW,qBAAqBsC,YAAY,eAE5EtI,EAAK6F,EAAW,SAAUgF,EAAGU,GACzBhE,EAAMgE,EAAEC,QAAQT,aAChB,GAAIQ,EAAEE,WAAaF,EAAEE,UAAUC,eAAgB,CAC3C,IAAIC,EAA0BL,GAAiBC,EAAEE,UAAUC,eAAeL,UAAU,IACpF,GACIM,EAAwBC,gBACvBD,EAAwBC,cAAcb,cACnCY,EAAwBC,cAAcC,MAC5C,CACE,IAAIC,EAAmBH,EAAwBC,cAAcb,cACzDY,EAAwBC,cAAcC,KAC1ChF,EAAamE,KAAKc,GAClB,GAAIlD,GAAaA,EAAUkD,GAAmB,CAC1C,IAAIC,EACJ,GAAInD,EAAUkD,GAAkBhE,GAAyB,CAErDiE,EAAWnD,EAAUkD,GAAkBhE,GAAwB+D,KACzDjD,EAAUkD,GAAkBhE,GAAwB+D,KACpDrF,SACV,MAAO,GAAIoC,EAAUkD,GAAkB/D,GAAkB,CACrDgE,EAAWnD,EAAUkD,GAAkB/D,GAAiB8D,KAClDjD,EAAUkD,GAAkB/D,GAAiB8D,KAC7CrF,SACV,MAAO,GAAIoC,EAAUkD,GAAkBjE,GAAU,CAC7CkE,EAAWnD,EAAUkD,GAAkBjE,EAC3C,CACA,GAAIkE,EAAU,CACV,IAAKlF,EAAemF,MAAMC,UAAUC,QAAQC,KAAKtF,EAAckF,IAAa,MAAQ,EAAG,CACnFlF,EAAamE,KAAKe,EACtB,CACJ,CACJ,CACJ,CACA,GACIJ,EAAwBS,cACvBT,EAAwBS,YAAYrB,cAAgBY,EAAwBS,YAAYP,MAC3F,CACE,IAAIQ,EAAiBV,EAAwBS,YAAYrB,cACrDY,EAAwBS,YAAYP,KACxChF,EAAamE,KAAKqB,GAClB,GAAIzD,GAAaA,EAAUyD,GAAiB,CACxC,IAAIN,EACJ,GAAInD,EAAUyD,GAAgBvE,GAAyB,CAEnDiE,EAAWnD,EAAUyD,GAAgBvE,GAAwB+D,KACvDjD,EAAUyD,GAAgBvE,GAAwB+D,KAClDrF,SACV,MAAO,GAAIoC,EAAUyD,GAAgBtE,GAAkB,CACnDgE,EAAWnD,EAAUyD,GAAgBtE,GAAiB8D,KAChDjD,EAAUyD,GAAgBtE,GAAiB8D,KAC3CrF,SACV,MAAO,GAAIoC,EAAUyD,GAAgBxE,GAAU,CAC3CkE,EAAWnD,EAAUyD,GAAgBxE,EACzC,CACA,GAAIkE,EAAU,CACV,IAAKlF,EAAemF,MAAMC,UAAUC,QAAQC,KAAKtF,EAAckF,IAAa,MAAQ,EAAG,CACnFlF,EAAamE,KAAKe,EACtB,CACJ,CACJ,CACJ,CACJ,CACAlF,EAAamE,KAAKzD,GAClB,GAAIqB,GAAaA,EAAUrB,GAAM,CAC7B,GAAIqB,EAAUrB,GAAKK,GAAY,CAE3B,GAAIgB,EAAUrB,GAAKK,GAAW0E,QAAU/E,GAAOqB,EAAUrB,GAAKK,GAAW0E,OAAQ,CAC7EzF,EAAamE,KAAKpC,EAAUrB,GAAKK,GAAW0E,OAAS1D,EAAUrB,GAAKK,GAAW0E,OAAS/E,EAC5F,MAAO,GAAIqB,EAAUrB,GAAKK,GAAWiE,MAAQtE,GAAOqB,EAAUrB,GAAKK,GAAWiE,KAAM,CAChFhF,EAAamE,KAAKpC,EAAUrB,GAAKK,GAAWiE,KAAOjD,EAAUrB,GAAKK,GAAWiE,KAAOtE,EACxF,CACJ,MAAO,GAAIqB,EAAUrB,GAAKI,IAAYJ,GAAOqB,EAAUrB,GAAKI,GAAU,CAClEd,EAAamE,KAAKpC,EAAUrB,GAAKI,GAAWiB,EAAUrB,GAAKI,GAAWJ,EAC1E,CACJ,CAEA,GAAIqB,GAAaA,EAAUrB,GAAM,CAC7B,IAAIwE,EACJ,GAAInD,EAAUrB,GAAKO,GAAyB,CAExCiE,EAAWnD,EAAUrB,GAAKO,GAAwB+D,KAC5CjD,EAAUrB,GAAKO,GAAwB+D,KACvCrF,SACV,MAAO,GAAIoC,EAAUrB,GAAKQ,GAAkB,CACxCgE,EAAWnD,EAAUrB,GAAKQ,GAAiB8D,KACrCjD,EAAUrB,GAAKQ,GAAiB8D,KAChCrF,SACV,MAAO,GAAIoC,EAAUrB,GAAKM,GAAU,CAChCkE,EAAWnD,EAAUrB,GAAKM,EAC9B,CACA,GAAIkE,EAAU,CACV,IAAKlF,EAAemF,MAAMC,UAAUC,QAAQC,KAAKtF,EAAckF,IAAa,MAAQ,EAAG,CACnFlF,EAAamE,KAAKe,EACtB,CACJ,CACJ,CACJ,GAEA/L,EAAK4F,EAAa,SAAUiF,EAAG0B,GAC3BhF,EAAMgF,EAAEC,UAAUzB,aAClBtE,EAAeuE,KAAKzD,GACpB,GAAIqB,GAAaA,EAAUrB,GAAM,CAC7B,GAAIqB,EAAUrB,GAAKK,GAAY,CAE3B,GAAIgB,EAAUrB,GAAKK,GAAW0E,QAAU/E,GAAOqB,EAAUrB,GAAKK,GAAW0E,OAAQ,CAC7E7F,EAAeuE,KAAKpC,EAAUrB,GAAKK,GAAW0E,OAAS1D,EAAUrB,GAAKK,GAAW0E,OAAS/E,EAC9F,MAAO,GAAIqB,EAAUrB,GAAKK,GAAWiE,MAAQtE,GAAOqB,EAAUrB,GAAKK,GAAWiE,KAAM,CAChFpE,EAAWmB,EAAUrB,GAAKK,GAAWiE,KACrC,IAAIY,EAAShF,EAASpB,MAAM,KAC5B,GAAIoG,EAAOtC,OAAS,EAAG,CACnB3C,EAAUkF,EAAoBnE,EAAY+C,GAAkB7D,GAC5D,GAAID,IAAY,GAAI,CAChBf,EAAeuE,KAAKvD,GACpBf,EAAQsE,KAAKxD,GACbZ,EAAyB+F,EAAmBpE,EAAY+C,GAAkB7D,GAC1E,GAAIb,EAAuBuD,OAAS,EAAG,CACnCxD,EAAmBA,EAAiBiG,OAAOhG,EAC/C,CACJ,CACJ,KAAO,CACHH,EAAeuE,KAAKvD,EAAWA,EAAWF,EAC9C,CACJ,CACJ,MAAO,GAAIqB,EAAUrB,GAAKI,IAAYJ,GAAOqB,EAAUrB,GAAKI,GAAU,CAClElB,EAAeuE,KAAKpC,EAAUrB,GAAKI,GAAWiB,EAAUrB,GAAKI,GAAWJ,EAC5E,CACJ,CACJ,GACA,GAAIZ,EAAiBwD,OAAS,EAAG,CAC7B,IAAI0C,GAAI,EACR,MAAOA,GAAIlG,EAAiBwD,OAAQ,CAChC,GAAI1D,EAAeyF,QAAQvF,EAAiBkG,QAAS,EAAG,CACpDlG,EAAiBmG,OAAOD,GAAG,EAC/B,KAAO,CACHA,IACJ,CACJ,CACJ,CAIA,GAAIhG,EAAasD,OAAS,EAAG,CACzBnK,EAAK6G,EAAc,SAAUgE,EAAGU,GAC5BvD,EAAauD,GAAK,IACtB,EACJ,CACA,GAAI9E,EAAe0D,OAAS,EAAG,CAC3BnK,EAAKyG,EAAgB,SAAUoE,EAAG0B,GAC9BvE,EAAauE,GAAK,IACtB,EACJ,CAEAxG,GAAO,0BAA4B,GAAG6G,OAAOnG,EAAgBI,GAAckG,KAAK,KAGhF,IAAIC,GAAczE,EAAW0E,mBAAmBxH,EAAWyH,YAC3D,GAAIF,GAAa,CACb,IAAIG,GAAgBhO,EAAqBiO,iBAAiBzH,GAC1D,GAAIwH,IAAiBA,GAAchD,OAAS,EAAG,CAC3CnK,EAAKmN,GAAe,SAAUtC,EAAGwC,GAE7B,IAAKrF,EAAa+B,eAAesD,GAAI,CACjCrF,EAAaqF,GAAK,KAClBvG,EAAYkE,KAAKqC,EACrB,CACJ,GACA,GAAIvG,EAAYqD,OAAS,EAAG,CACxBpE,GAAO,IAAMe,EAAYiG,KAAK,IAClC,CACJ,CACJ,CAEA,GAAIhG,EAAWoD,OAAS,EAAG,CACvB,IAAImD,GAAc,GAClBtN,EAAK+G,EAAY,SAAU8D,EAAG0C,GAE1B,IAAKvF,EAAa+B,eAAewD,GAAI,CAEjCD,GAAYtC,KAAKuC,EACrB,CACJ,GACA,GAAID,GAAYnD,OAAS,EAAG,CACxBpE,GAAO,IAAMuH,GAAYP,KAAK,IAClC,CACJ,CACA,GAAIrG,EAAQyD,OAAS,EAAG,CACpBpE,GAAO,IAAM,IAAM,YAAcW,EAAQqG,KAAK,IAClD,CAEA,IAAIS,GAAyBrO,EAAqBsO,sBAC9CjI,EAASQ,WAAW,sBAExB,GAAIwH,GAAwB,CACxBzH,GAAO,wBAA0BP,EAASQ,WAAW,qBAAqBsC,YAAY,WAAa,mCACvG,KAAO,CAEHvC,GAAO,4CACX,CAEA,GAAII,GAAgBA,EAAa,KAAO,SAAWP,IAAgBY,UAAW,CAC1ET,GAAO,aACX,MAAO,GAAII,GAAgBA,EAAa,KAAO,SAAWP,GAAe0B,EAAU,CAC/EvB,GAAO,cAAgBkE,SAAS3C,EAAU,IAAM,EACpD,MAAO,GAAIA,EAAU,CACjBvB,GAAO,aAAeuB,CAC1B,CACAvB,GAAO,IACP,OAAOA,CACX,CAEAR,EAAYmI,iBAAmB,KAE/B,SAAShB,EAAoBnE,EAAYyE,EAAaW,GAClD,IAAInG,EAAU,GACd,IAAIiF,EAASkB,EAAUtH,MAAM,KAE7B,GAAIoG,EAAOtC,OAAS,EAAG,CACnB,IAAK,IAAIU,EAAI,EAAGA,EAAI4B,EAAOtC,OAAS,EAAGU,IAAK,CACxC,IAAI+C,EAAkBrF,EAAWsF,uBAAuBb,EAAaP,EAAO5B,IAC5E,GAAI+C,EAAiB,CACjBZ,EAAczE,EAAW0E,mBAAmBW,EAAgBpE,MAC5D,GAAIhC,EAAS,CACTA,EAAUA,EAAU,GACxB,CACAA,EAAUA,EAAUiF,EAAO5B,EAC/B,KAAO,CACH,OAAOrD,CACX,CACJ,CACJ,CACA,OAAOA,CACX,CAEA,SAASmF,EAAmBpE,EAAYyE,EAAaW,GACjD,IAAIhH,EAAmB,GACvB,IAAImH,EAAc,GAClB,IAAIC,EACJ,IAAItB,EAASkB,EAAUtH,MAAM,KAC7B,GAAIoG,EAAOtC,OAAS,EAAG,CACnB,IAAK,IAAIU,EAAI,EAAGA,EAAI4B,EAAOtC,OAAS,EAAGU,IAAK,CACxC,IAAI+C,EAAkBrF,EAAWsF,uBAAuBb,EAAaP,EAAO5B,IAC5E,GAAI+C,EAAiB,CACjBZ,EAAczE,EAAW0E,mBAAmBW,EAAgBpE,MAC5D,GAAIwD,EAAa,CACbc,EAAcd,GAAeA,EAAY3D,KAAO2D,EAAY3D,IAAI2E,YAChE,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAY3D,OAAQ8D,IAAK,CACzCF,EAAYtB,EAAO5B,GAAK,IAAMiD,EAAYG,GAAGvF,KAC7C/B,EAAiBqE,KAAK+C,EAC1B,CACJ,CACJ,CACJ,CACJ,CACA,OAAOpH,CACX,CAEA,SAASuH,EAAqBC,EAAU7C,GACpC,IAAI8C,EAAW,MACf,IAAIC,EACJ,GAAIF,EAAS1C,WAAa0C,EAAS1C,UAAUC,eAAgB,CACzD,IAAI4C,EAAahD,EAAiB6C,EAAS1C,UAAUC,eAAeL,UAAU,IAC9E,GACIiD,GACAA,EAAW1C,gBACV0C,EAAW1C,cAAcb,cAAgBuD,EAAW1C,cAAcC,MACrE,CACEuC,EAAW,KACXC,EAAcF,CAClB,CACJ,CAEA,GAAIC,IAAa,KAAM,CACnB,OAAOC,CACX,KAAO,CACH/I,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAc+C,kBAC3D,OAAOyB,SACX,CACJ,CAEA,SAAS+H,EAAmBJ,EAAU7C,GAClC,IAAI8C,EAAW,MACf,IAAIC,EACJ,GAAIF,EAAS1C,WAAa0C,EAAS1C,UAAUC,eAAgB,CACzD,IAAI4C,EAAahD,EAAiB6C,EAAS1C,UAAUC,eAAeL,UAAU,IAC9E,GACIiD,GACAA,EAAWlC,cACVkC,EAAWlC,YAAYrB,cAAgBuD,EAAWlC,YAAYP,MACjE,CACEuC,EAAW,KACXC,EAAcF,CAClB,CACJ,CAEA,GAAIC,IAAa,KAAM,CACnB,OAAOC,CACX,KAAO,CACH/I,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAcgD,gBAC3D,OAAOwB,SACX,CACJ,CAEA,SAASgI,EAAYL,EAAUvF,GAC3B,IAAI6F,EACJzO,EAAK4I,EAAW,SAAUiC,EAAG6D,GACzB,GAAIA,EAAEhG,OAASyF,EAAU,CACrB,GAAIO,EAAE,wCAAyC,CAE3CD,EAAQC,EAAE,wCAAwCpC,OAC5CoC,EAAE,wCAAwCpC,OAC1CoC,EAAE,wCAAwC7C,IACpD,MAAO,GAAI6C,EAAE,aAAc,CACvBD,EAAQC,EAAE,YACd,CACA,OAAO,KACX,CACJ,GACA,OAAOD,CACX,CAEA,SAASE,EAAmBC,EAAO9I,GAC/B,IAAI+I,EAAW,KACf,GAAI/I,IAAc,QAAUA,IAAc,UAAYA,IAAc,MAAO,CACvE9F,EAAK4O,EAAO,SAAU/D,EAAG6D,GACrB,GAAIA,EAAEI,WAAa,aAAeJ,EAAEI,WAAa,eAAgB,CAC7D,GAAIJ,EAAEK,YAAY5E,QAAU,EAAG,CAC3B0E,EAAW,MACXvJ,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAc8C,iBAC3D,OAAO,KACX,CACJ,CACJ,EACJ,MAAO,GAAIgB,IAAc,kBAAmB,CACxC9F,EAAK4O,EAAO,SAAU/D,EAAG6D,GACrB,GAAIA,EAAEI,WAAa,gBAAkBJ,EAAEI,WAAa,eAAgB,CAChE,GAAIJ,EAAEK,YAAY5E,QAAU,EAAG,CAC3B0E,EAAW,MACXvJ,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAc8C,iBAC3D,OAAO,KACX,CACJ,CACJ,EACJ,CAEA,GAAI+J,IAAa,KAAM,CACnB,OAAO,IACX,CACJ,CAEA,SAASG,EAAapG,EAAWqG,EAAOC,GACpC,IAAIC,EAAU9O,EAAUM,SACxB,IAAKiI,IAAcA,EAAUqG,KAAWrG,EAAUqG,GAAOE,GAAU,CAC/D,OAAOD,CACX,CACA,IAAIE,EAAe,CAAC,UAAW,aAAc,YAAa,YAAa,eACvE,IAAIC,EAAczG,EAAUqG,GAAOE,GACnC,IAAKC,EAAepD,MAAMC,UAAUC,QAAQC,KAAKiD,EAAcC,IAAgB,MAAQ,EAAG,CACtF,OAAOC,OAAOJ,EAClB,CACA,OAAOA,CACX,CAEA,SAASK,EAAiBC,GACtB,GAAIA,EAAM,CACN,OAAOA,CACX,CACA,MAAO,EACX,CAKA,SAASC,IACL,IAAIC,EAAkB,CAClBC,OAAQ,WAAc,EACtBC,OAAQ,SAAUnB,EAAOoB,GACrB,IAAIC,EAAa,GACjB,GAAID,EAAS,CACTC,EAAaD,EAAQxJ,MAAM,IAC/B,CACA,GAAIyJ,EAAW3F,OAAS,EAAG,CACvB,IAAI4F,EAAmBC,EACvB,GAAIF,EAAW3F,SAAW,EAAG,CACzB4F,EAAoBT,OAAOQ,EAAW,IACtCE,EAAWV,OAAOQ,EAAW,IAC7B,GAAI9F,MAAM+F,GAAoB,CAC1BA,GAAqB,CACzB,CACA,GAAI/F,MAAMgG,GAAW,CACjBA,EAAW,CACf,CACJ,KAAO,CACHD,EAAoB,EACpBC,EAAW,CACf,CACA,GAAIF,EAAW,KAAO,iBAAmBA,EAAW,KAAO,aAAc,CACrE,IAAIG,EACJA,EAAe7Q,EAAa8Q,iBAAiB,CACzCC,MAAO,QAGPJ,kBAAmBA,EACnBK,kBAAmBL,EAAoBA,EAAoB,IAE/D,GAAID,EAAW,KAAO,aAAc,CAChCG,EAAe7Q,EAAa8Q,iBAAiB,CACzCC,MAAO,QACPJ,kBAAmBA,EACnBK,kBAAmBL,GAE3B,CACA,GAAIA,KAAuB,EAAG,CAC1BE,EAAe7Q,EAAa8Q,iBAAiB,CAAEC,MAAO,SAC1D,CACA,OAAOF,EAAaL,OAAON,OAAOb,GACtC,MAAO,GAAIqB,EAAW,KAAO,0BAA2B,CAEpD,IAAIO,EAAgBjR,EAAa8Q,iBAAiB,CAC9CC,MAAO,QACPG,aAAc,MACdC,eAAgBP,EAChBQ,UAAW,MACXT,kBAAmBA,EACnBK,kBAAmBL,IAEvB,GAAIA,KAAuB,EAAG,CAC1BM,EAAgBjR,EAAa8Q,iBAAiB,CAC1CH,kBAAmB,EACnBO,aAAc,OAEtB,CACA,OAAOD,EAAcT,OAAON,OAAOb,GACvC,MAAO,GAAIqB,EAAW,KAAO,OAAQ,CACjC,IAAIW,EAAiBrR,EAAasR,oBAAoB,CAClDP,MAAO,QACPG,aAAc,MAGdP,kBAAmBA,EACnBK,kBAAmBL,IAEvB,GAAIA,KAAuB,EAAG,CAC1BU,EAAiBrR,EAAasR,oBAAoB,CAC9CP,MAAO,QACPG,aAAc,OAEtB,CACA,OAAOG,EAAeb,OAAON,OAAOb,GACxC,MAAO,GAAIqB,EAAW,GAAGa,OAAO,QAAU,EAAG,CAEzC,IAAIC,EAAgBxR,EAAayR,mBAAmB,CAChDV,MAAO,QACPJ,kBAAmBA,EACnBK,kBAAmBL,IAEvB,GAAIA,KAAuB,EAAG,CAC1Ba,EAAgBxR,EAAayR,mBAAmB,CAC5CV,MAAO,QACPJ,kBAAmB,EACnBK,kBAAmB,GAE3B,CACA3B,EAAQmC,EAAchB,OAAON,OAAOb,IACpC,OAAOA,CACX,CACJ,CACA,GAAIA,EAAMqC,cAAgBC,KAAM,CAG5B,IAAIC,EAAc3R,EAAW4R,oBAAoB,CAAEpB,QAASA,IAC5D,GAAIA,IAAY,eAAgB,CAC5BmB,EAAc3R,EAAW6R,gBAAgB,CAAEf,MAAO,UACtD,CACA,GAAIN,IAAY,aAAeA,IAAY,MAAO,CAC9CmB,EAAc3R,EAAW4R,oBAAoB,CAAErB,OAAQ,OAC3D,CACA,GAAIC,IAAY,eAAiBA,IAAY,UAAW,CACpDmB,EAAc3R,EAAW4R,oBAAoB,CAAErB,OAAQ,OAC3D,CACA,GAAIC,IAAY,YAAcA,IAAY,OAAQ,CAC9CmB,EAAc3R,EAAW4R,oBAAoB,CAAErB,OAAQ,OAC3D,CAGA,IAAIuB,EAAkB3R,EAAY4R,SAClC,IAAIC,EAA2BF,GAAmBA,EAAgBE,yBAElE,GAAIA,GAA4BxB,IAAY,QAAS,CACjD,IAAIyB,EAAc7C,EAAM8C,qBACxB,IAAIC,EAAcF,EAAYjL,MAAM,KACpCoI,EAAQ+C,EAAY,GAAK,IAAMA,EAAY,GAC3C,OAAO/C,CACX,CACA,IAAIgD,EAAOJ,EAA2B,MAAQ,KAC9C5C,EAAQuC,EAAYpB,OAAO,IAAImB,KAAKtC,GAAQgD,EAChD,CACA,OAAOhD,CACX,GAEJnP,EAAUoS,iBAAiBhC,EAC/B,CAEA,SAASiC,EAAiBC,EAAUC,GAChC,IAAI3L,EAAY0L,EAASE,WACzB,IAAItI,EAAOoI,EAASG,aACpB,GAAIvI,GAAQ,QAAUA,GAAQ,SAAU,CACpC,MACJ,CACA,IAAKqI,EAAU,CACXA,EAAWrI,IAAS,OAAS,eAAiB,WAClD,CACA,IAAI9B,EAAYkK,EAASE,SAAS,qBAAqBxJ,YAAY,cACnE,IAAKpC,IAAcwB,EAAW,CAC1B,MACJ,CACA,IAAIkB,EAAYC,GAAY3C,EAAWwB,GACvC,IAAIkH,EAAQgD,EAASI,WACrB,IAAK,IAAInH,EAAI,EAAGA,EAAI+D,EAAMzE,OAAQU,IAAK,CACnC,GAAI+D,EAAM/D,GAAGiE,WAAa+C,EAAU,CAChC,IAAII,EAAarD,EAAM/D,GAAGkE,YAC1B,IAAKkD,EAAY,CACb,MACJ,CACA,IAAK,IAAIhE,EAAI,EAAGA,EAAIgE,EAAW9H,OAAQ8D,IAAK,CACxC,GAAIrF,EAAUqJ,EAAWhE,GAAG5N,EAAUM,YAAc,eAAgB,CAChE,MACJ,CACJ,CACAiR,EAASM,iBAAiB,CACtBC,aAAc,CACVC,MAAO,CACHC,QAAS,UAIrB,IAAIC,EAAcV,GAAYA,EAASE,SAAS,qBAChD,GAAIQ,GAAeA,EAAYhK,YAAY,oBAAqB,CAC5D,IAAIiK,EAAOX,GAAYA,EAASY,QAChCpS,EAAqBqS,kBAAkBF,EAAM,CAAEJ,aAAc,CAAEC,MAAO,CAAEC,QAAS,SACrF,CACA,MACJ,CACJ,CACJ,CAaA,SAASK,EAAYC,EAAMC,EAAYpJ,EAAMqJ,EAAYC,EAAWC,GAChEF,SAAoBA,IAAe,YAAc,MAAQA,EACzD,IAAI9M,EAAM,MACV,IAAIiN,EACJ,IAAKL,GAAQE,EAAY,CACrBvN,EAAQW,MAAM6M,EAAY9Q,EAAcE,WAAasH,EAAOxH,EAAca,cAC1E,OAAOkD,CACX,CACA,IAAK4M,EAAM,CAEPrN,EAAQkF,QAAQsI,EAAY9Q,EAAcC,aAAeuH,EAAOxH,EAAcc,YAC9EiD,EAAM,KACN,OAAOA,CACX,CACAiN,EAAWJ,EAAWD,GACtB,IAAKK,UAAmBA,IAAa,SAAU,CAC3C,IAAIC,EAASJ,EAAavN,EAAQW,MAAQX,EAAQkF,QAClDyI,EAAOH,EAAY9Q,EAAcE,WAAa,MAAQsH,EAAO,MAAQmJ,EAAO,IAAM3Q,EAAce,iBAChG,OAAOgD,CACX,CAKA,GACIgN,GACAA,IAAoB,mDACpBvJ,IAAS,sBACPwJ,EAASE,YAAcF,EAASE,UAAU9M,YAC9C,CACEd,EAAQW,MACJ6M,EAAY9Q,EAAcE,WAAaF,EAAcgB,kBAAoBhB,EAAciB,YAE3F,OAAO8C,CACX,CACAA,EAAM,KACN,OAAOA,CACX,CAKA,SAASoN,EAA0BC,GAC/B,IAAIrN,EAAM,MACV,IAAKqN,EAAa,CACd,OAAOrN,CACX,CACA,IAAIsN,EACJ,IAAIC,EACJ,IAAIP,EACJ,IAAIQ,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIZ,EAAY,GAChB,IAAIR,EACJ,IAAIqB,EAAQP,EAAYQ,UACxB,GAAID,EAAO,CACPb,EAAY,IAAMa,EAAMnB,QAAU,IACtC,CAEA,KAAMF,EAAcc,EAAYS,0BAA2B,CACvDvO,EAAQW,MACJ6M,EACA9Q,EAAcE,WACd,MACAF,EAAcoB,YACdpB,EAAc6B,eAElB,OAAOkC,CACX,CAEA2N,EAAiBpB,EAAYhK,YAAY,eACzC,IAAKoL,GAAkBvT,EAAcuT,GAAiB,CAClDpO,EAAQW,MAAM6M,EAAY9Q,EAAcE,WAAa,MAAQF,EAAcmB,WAC3E,OAAO4C,CACX,CAEAsN,EAASf,EAAYhK,YAAY,4BACjCgL,EAAYhB,EAAYhK,YAAY,wBACpCiL,EAASjB,EAAYhK,YAAY,+BACjCkL,EAASlB,EAAYhK,YAAY,iCACjCmL,EAASnB,EAAYhK,YAAY,4BACjCyK,EAAkBT,EAAYhK,YAAY,oBAE1CvC,EAAM2M,EAAYW,EAAQK,EAAgB,oBAAqB,MAAOZ,GACtE/M,EAAM2M,EAAYY,EAAWI,EAAgB,mBAAoB,KAAMZ,EAAWC,IAAoBhN,EACtGA,EAAM2M,EAAYa,EAAQG,EAAgB,uBAAwB,MAAOZ,IAAc/M,EACvFA,EAAM2M,EAAYc,EAAQE,EAAgB,4BAA6B,KAAMZ,IAAc/M,EAC3FA,EAAM2M,EAAYe,EAAQC,EAAgB,aAAc,MAAOZ,IAAc/M,EAC7E,OAAOA,CACX,CASA,SAAS+N,EAAYC,EAAQC,EAAepC,GAkB5C,CAQA,SAAS1I,EAAU+K,GACf,OAAOhV,EAAMiK,UAAU+K,EAC3B,CAMA,SAAStK,EAAiBuK,EAAa/K,EAAQjD,EAAWwB,GACtD,IAAI3B,EAAM,MACV,IAAI6C,EACJ,IAAIuL,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAKpL,EAAOI,MAAQpJ,EAAcgJ,EAAOI,MAAO,CAC5C,OAAOxD,CACX,CACA,IAAKmO,EAAa,CACd,OAAOnO,CACX,CACA,IAAK,IAAIyO,EAAQ,EAAGA,EAAQN,EAAY/J,OAAQqK,IAAS,CACrD,IAAKN,EAAYM,GAAOhI,aAAe2H,EAAgBD,EAAYM,GAAOhI,UAAUzB,cAAe,CAC/F,OAAOhF,CACX,CACA6C,EAAYC,GAAY3C,EAAWwB,GACnC,GAAIkB,GAAaA,EAAUuL,GAAgB,CACvCC,EAAgBxL,EAAUuL,GAAe9T,EAAUM,UACnD0T,EAAgBzL,EAAUuL,GAAe9T,EAAUO,oBACnD0T,EAAe1L,EAAUuL,GAAe9T,EAAUQ,eAClD0T,EACI3L,EAAUuL,GAAe,kDACzBvL,EAAUuL,GAAe,uDACzBvL,EAAUuL,GAAe,yDACzBvL,EAAUuL,GAAe,oDACjC,CACA,GAAIC,GAAiBA,EAAcK,YAAY,WAAY,KAAO,EAAG,CACjE,GAAIL,EAAc3K,gBAAkB,eAAgB,CAChD,GAAI4K,GAAiBA,EAAc5K,gBAAkB,OAAQ,CAEzD1D,EAAM,IACV,CACJ,KAAO,CACHA,EAAM,IACV,CACJ,CAGA,GACIqO,IAAkB,eACjBG,GAAmBD,GAAgBpP,EAAwBgH,QAAQoI,IAAiB,GACvF,CACEvO,EAAM,IACV,CACA,GAAIA,EAAK,CAELmO,EAAYQ,QAAQR,EAAYpH,OAAO0H,EAAO,GAAG,IACjD,KACJ,CACJ,CACA,OAAOzO,CACX,CAOA,SAAS4O,EAAanP,EAAUyO,EAAYC,GACxC,IAAInO,EAAM,GACV,IAAIoD,EAASD,EAAU+K,GACvB,IAAI/N,EAAWwB,EACf,IAAKyB,EAAQ,CACT,OAAOpD,CACX,CACAA,EAAMoD,EAAOS,QAAQJ,KACrBtD,EAAYV,EAASQ,WAAW,aAChC0B,EAAYlC,EAASQ,WAAW,qBAAqBsC,YAAY,cACjE,GAAIqB,EAAiBuK,EAAa/K,EAAQjD,EAAWwB,GAAY,CAC7D3B,EAAMoD,EAAOI,KAAKC,IACtB,CACA,OAAOzD,CACX,CAEA4O,EAAajH,iBAAmB,KAKhC,SAASkH,EAAsBC,EAAO1L,EAAQK,GAE1C,IAAKqL,EAAM1K,OAAQ,CACf,MACJ,CACA,IAAI2K,EAAWtL,IAAS,YAAc,YAAc,UACpD,IAAIuL,EAAc,GAClB/U,EAAK6U,EAAO,SAAUhK,EAAGmK,GACrB,IAAKA,IAAQA,EAAIF,KAAcE,EAAIF,GAAU/J,aAAc,CACvDzF,EAAQW,MAAMjE,EAAcM,oBAC5B,OAAO,KACX,CACAyS,EAAY/J,KAAKgK,EAAIF,GAAU/J,aACnC,GACA,IAAIkK,EAAejW,OAAOkW,IAAI/L,EAAOyF,MAAO,SAAUuG,GAClD,GAAIA,EAAE3L,OAASA,EAAM,CACjB,GAAI2L,EAAEC,KAAM,CACR,OAAOD,EAAEC,KAAK/O,MAAM,IACxB,CACA,MAAO,EACX,CACJ,GACA4O,EAAejW,OACVqW,KAAKJ,EAAc,SAAUG,EAAMvK,GAChC,OAAQoK,EAAejJ,MAAMC,UAAUC,QAAQC,KAAK8I,EAAcG,IAAS,KAAOvK,CACtF,GACCkC,KAAK,MAEVzH,EAAQW,MACJjE,EAAcE,WACdF,EAAc+B,kBACdyF,EACA,OACAuL,EAAYhI,KAAK,MACjB,KACA/K,EAAckC,cACdiF,EAAOK,KACPxH,EAAcgC,SACdiR,EAER,CAEA,SAASK,EAAkBC,EAAQC,GAC/B,IAAI/G,EAEJ,GAAI8G,EAAQ,CACR,GAAIA,EAAOjJ,OAAQ,CACfmC,EAAQ8G,EAAOjJ,MACnB,MAAO,GAAIiJ,EAAOnK,SAAWmK,EAAOpK,KAAM,CACtCsD,EAAQgH,EAAgBF,EAC5B,KAAO,CACH9G,EAAQiH,EAAeH,EAAQC,EACnC,CACJ,CACA,OAAO/G,CACX,CAEA,SAASgH,EAAgBF,EAAQI,GAC7B,GAAIJ,GAAUA,EAAOnK,QAAS,CAC1B,GAAImK,EAAOnK,QAAQ3B,gBAAkB,OAAQ,CACzC,OAAO,IACX,MAAO,GAAI8L,EAAOnK,QAAQ3B,gBAAkB,QAAS,CACjD,OAAO,KACX,CACJ,MAAO,GAAI8L,GAAUA,EAAOpK,KAAM,CAC9B,GAAIoK,EAAOpK,KAAK1B,gBAAkB,OAAQ,CACtC,OAAO,IACX,MAAO,GAAI8L,EAAOpK,KAAK1B,gBAAkB,QAAS,CAC9C,OAAO,KACX,CACJ,CAEA,OAAOkM,CACX,CAEA,SAASD,EAAeH,EAAQC,GAC5B,IAAI/G,EACJ,GAAI8G,EAAQ,CACR,GAAIA,EAAOjJ,OAAQ,CACfmC,EAAQa,OAAOiG,EAAOjJ,OAC1B,MAAO,GAAIiJ,EAAOrN,IAAK,CACnBuG,EAAQa,OAAOiG,EAAOrN,IAC1B,MAAO,GAAIqN,EAAOK,QAAS,CACvBnH,EAAQa,OAAOiG,EAAOK,QAC1B,MAAO,GAAIL,EAAOM,OAAQ,CACtBpH,EAAQa,OAAOiG,EAAOM,OAC1B,MAAO,GAAIN,EAAOO,OAAQ,CACtBrH,EAAQa,OAAOiG,EAAOO,OAC1B,CACJ,CACA,GAAIN,EAAU,CACV,IAAIvF,EAAe7Q,EAAa8Q,iBAAiB,CAC7CC,MAAO,QACPJ,kBAAmB,EACnBK,kBAAmB,IAEvB,GAAI3B,EAAO,CACPA,EAAQwB,EAAaL,OAAON,OAAOb,GACvC,CACJ,CACA,OAAOA,CACX,CAEA,SAASsH,EAA0CvQ,EAAUwQ,GACzD,SAASC,EAAwBC,GAC7B,GAAIA,EAAO,CACP,GAAIA,EAAMrK,KAAM,CACZ,MAAO,UAAYqK,EAAMrK,KAAO,IACpC,KAAO,CACH,OAAOyJ,EAAkBY,EAC7B,CACJ,KAAO,CACH,MAAO,EACX,CACJ,CAEA,IAAIzH,EAAQjJ,EAASA,EAAS2Q,cAC9B,GACIH,GACAA,EAAWI,wBACXJ,EAAWI,uBAAuBC,qBACpC,CACE,IAAIC,EAAwBN,EAAWI,uBAAuBC,qBAAqBjQ,WACnF,IAAImQ,EAAeN,EAAwBD,EAAWI,uBAAuBI,wBAC7E,IAAIC,EAAgBR,EAAwBD,EAAWI,uBAAuBM,yBAC9E,IAAIC,EAAeV,EAAwBD,EAAWI,uBAAuBQ,wBAC7E,IAAIC,EAAgBZ,EAAwBD,EAAWI,uBAAuBU,yBAE9E,OAAO3X,EAAqB4X,2BACxBtI,EACA6H,EACAC,EACAE,EACAE,EACAE,EACA1X,EAAqB6X,qBAAqBC,YAElD,KAAO,CAEH,IAAIC,EAAQlB,EAAWmB,YAAY/Q,WACnC,IAAIgR,EAAkBF,EAAQA,EAAM7Q,MAAM,KAAO,GACjD,GAAI+Q,EAAiB,CACjB,OAAOA,EAAgB,EAC3B,CACJ,CACJ,CAEA,SAASC,EAAYC,EAAU1O,EAAW2O,GACtC,IAAI9I,EAAO+I,EACXxX,EAAK4I,EAAW,SAAUiC,EAAG6D,GAEzB,GACIA,EAAE,yCACFA,EAAE,wCAAwCpC,SAAWgL,EAASnB,aAChE,CACE1H,EAAQC,EAAEhG,KACV,OAAO,KACX,MAAO,GACHgG,EAAE,yCACFA,EAAE,wCAAwC7C,OAASyL,EAASnB,aAC9D,CACE1H,EAAQC,EAAEhG,KACV,OAAO,KACX,MAAO,GAAIgG,EAAE,eAAiB4I,EAASnB,aAAc,CACjD1H,EAAQC,EAAEhG,KACV,OAAO,KACX,CACJ,GAEA1I,EAAKuX,EAAW,SAAU1M,EAAG6D,GACzB,GAAIA,EAAElD,QAAQT,eAAiB0D,EAAO,CAClC,IAAKC,EAAEjD,YAAciD,EAAEjD,UAAUC,eAAgB,CAC7C,OAAO,KACX,CACA8L,EAA0B9I,EAAEjD,UAAUC,eACtC,OAAO,KACX,CACJ,GACA,OAAO8L,CACX,CAEA,SAASvB,EAAwBC,EAAOV,GACpC,GAAIU,EAAO,CACP,GAAIA,EAAMrK,KAAM,CACZ,OAAOqK,EAAMrK,IACjB,KAAO,CACH,OAAOyJ,EAAkBY,EAAOV,EACpC,CACJ,KAAO,CACH,MAAO,EACX,CACJ,CAEA,SAAStK,EAAUqM,EAAWjM,GAC1B,SAASmM,EAASC,EAASC,GACvB,OAAOD,GAAWA,EAAQxL,QAAQyL,EAASD,EAAQvN,OAASwN,EAAQxN,WAAa,CACrF,CAEA,IAAI0E,EAAW,MACf7O,EAAKuX,EAAW,SAAU1M,EAAG6D,GACzB,GAAIA,EAAEjD,WAAaiD,EAAEjD,UAAUC,eAAgB,CAC3C,IAAI4C,EAAahD,EAAiBoD,EAAEjD,UAAUC,eAAeL,UAAU,IACvE,GACIiD,GACAA,EAAW8H,wBACX9H,EAAW8H,uBAAuBC,sBAClC/H,EAAW8H,uBAAuBC,qBAAqBjQ,WACzD,CACE,IAAIwR,EAAoBtJ,EAAW8H,uBAAuBC,qBAAqBjQ,WAE/E,IAAImQ,EAAeN,EAAwB3H,EAAW8H,uBAAuBI,wBAC7E,IAAIC,EAAgBR,EAAwB3H,EAAW8H,uBAAuBM,yBAC9E,IAAIC,EAAeV,EAAwB3H,EAAW8H,uBAAuBQ,wBAC7E,IAAIC,EAAgBZ,EAAwB3H,EAAW8H,uBAAuBU,yBAE9E,GAAIW,EAASG,EAAmB,aAAeH,EAASG,EAAmB,cAAe,CACtF,GAAIf,GAAiBJ,EAAe,CAChC5H,EAAW,KACX,OAAO,KACX,KAAO,CACHvJ,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAc6C,oBAC/D,CACJ,MAAO,GACH4S,EAASG,EAAmB,aAC5BH,EAASG,EAAmB,cAC9B,CACE,GAAIjB,GAAgBJ,EAAc,CAC9B1H,EAAW,KACX,OAAO,KACX,KAAO,CACHvJ,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAc6C,oBAC/D,CACJ,MAAO,GAAI4S,EAASG,EAAmB,UAAW,CAC9C,GAAIjB,GAAgBJ,GAAgBM,GAAiBJ,EAAe,CAChE5H,EAAW,KACX,OAAO,KACX,KAAO,CACHvJ,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAc6C,oBAC/D,CACJ,CACJ,MAAO,GAAIyJ,GAAcA,EAAW6I,YAAa,CAC7CtI,EAAW,KACX,OAAO,KACX,KAAO,CACHvJ,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAc4C,wBAC/D,CACJ,CACJ,GACA,GAAIiK,IAAa,MAAQ0I,EAAUpN,OAAS,EAAG,CAC3C7E,EAAQkF,QAAQxI,EAAcC,aAAeD,EAAc2C,0BAC/D,CACA,OAAOkK,CACX,CAEA,SAASgJ,EAAqBC,EAAUxM,EAAkB1C,EAAWgJ,GACjE,SAAS6F,EAASC,EAASC,GACvB,OAAOD,GAAWA,EAAQxL,QAAQyL,EAASD,EAAQvN,OAASwN,EAAQxN,WAAa,CACrF,CAEA,IAAIpE,EAAM,CAAC,KAAM,MACjB,IAAIyP,EAAW,KACf,IAAIuC,EAAcD,EAAStM,QAAQT,aACnC,GAAInC,EAAUmP,GAAc,CACxB,GAAInP,EAAUmP,GAAa1X,EAAUE,cAAe,CAEhDwX,EAAcC,GACVpP,EAAUmP,GAAa1X,EAAUE,cAAc+L,OACzC1D,EAAUmP,GAAa1X,EAAUE,cAAc+L,OAC/C1D,EAAUmP,GAAa1X,EAAUE,cAAcsL,KACrD+F,EACAhJ,EAER,MAAO,GAAIA,EAAUmP,GAAa1X,EAAUC,WAAY,CACpDyX,EAAcnP,EAAUmP,GAAa1X,EAAUC,UACnD,MAAO,GAAIyX,EAAa,CACpBA,EAAcA,CAClB,CACJ,CACA,IAAIP,EAA0BM,EAASrM,UAAUC,eACjD,IAAIsK,EAAa1K,EAAiBkM,EAAwBnM,UAAU,IACpE,IACK2K,EAAWI,yBACXJ,EAAWI,uBAAuBC,uBAClCL,EAAWI,uBAAuBC,qBAAqBjQ,WAC1D,CACE,OAAOL,CACX,CACA,IAAI6R,EAAoB5B,EAAWI,uBAAuBC,qBAAqBjQ,WAC/E,IAAImQ,EAAeN,EAAwBD,EAAWI,uBAAuBI,uBAAwBhB,GACrG,IAAIiB,EAAgBR,EAAwBD,EAAWI,uBAAuBM,wBAAyBlB,GACvG,IAAImB,EAAeV,EAAwBD,EAAWI,uBAAuBQ,uBAAwBpB,GACrG,IAAIqB,EAAgBZ,EAAwBD,EAAWI,uBAAuBU,wBAAyBtB,GAEvG,GAAIiC,EAASG,EAAmB,aAAeH,EAASG,EAAmB,cAAe,CACtF,GAAIf,GAAiBJ,EAAe,CAChC1Q,EAAI,GAAKjG,EAAamY,QAAQ,kBAAmB,CAACF,EAAalB,IAC/D9Q,EAAI,GAAKjG,EAAamY,QAAQ,kBAAmB,CAACF,EAAatB,IAC/D1Q,EAAI,GAAKjG,EAAamY,QAAQ,sBAAuB,CAACpB,EAAekB,EAAatB,GACtF,CACJ,MAAO,GAAIgB,EAASG,EAAmB,aAAeH,EAASG,EAAmB,cAAe,CAC7F,GAAIjB,GAAgBJ,EAAc,CAC9BxQ,EAAI,GAAKjG,EAAamY,QAAQ,kBAAmB,CAACF,EAAapB,IAC/D5Q,EAAI,GAAKjG,EAAamY,QAAQ,kBAAmB,CAACF,EAAaxB,IAC/DxQ,EAAI,GAAKjG,EAAamY,QAAQ,sBAAuB,CAAC1B,EAAcwB,EAAapB,GACrF,CACJ,MAAO,GAAIc,EAASG,EAAmB,UAAW,CAC9C,GAAIjB,GAAgBJ,GAAgBM,GAAiBJ,EAAe,CAChE1Q,EAAI,GAAKjG,EAAamY,QAAQ,iBAAkB,CAACtB,EAAcoB,EAAalB,IAC5E9Q,EAAI,GAAKjG,EAAamY,QAAQ,gBAAiB,CAACF,EAAaxB,EAAcE,IAC3E1Q,EAAI,GAAKjG,EAAamY,QAAQ,kBAAmB,CAC7C1B,EACAwB,EACApB,EACAE,EACAJ,GAER,CACJ,CACA,OAAO1Q,CACX,CAGA,SAASmS,EAAkBC,EAAUnD,EAAK1J,GACtC,GAAI0J,GAAOA,EAAIvJ,WAAauJ,EAAIvJ,UAAUC,eAAgB,CACtD,IAAIsK,EAAa1K,EAAiB0J,EAAIvJ,UAAUC,eAAeL,UAAU,IACzE,IAAI+M,EAAgBC,EACpB,GAAIrC,GAAcA,EAAWsC,YAAa,CACtCF,EAAiBpC,EAAWsC,WAChC,MAAO,GAAItC,GAAcA,EAAW5W,aAAc,CAC9CgZ,EAAiBpC,EAAW5W,YAChC,CAEA,GACIgZ,GACAA,EAAeG,0BACfH,EAAeG,yBAAyBrQ,IAC1C,CACEmQ,EAAoBD,EAAeG,yBAAyBrQ,IAC5D,GAAIiQ,EAAW7I,OAAO+I,GAAoB,CACtCF,EAAW7I,OAAO+I,EACtB,CACJ,CACJ,CAEA,OAAOF,CACX,CAEA,SAASK,GAAkBC,EAAezD,EAAK1J,GAC3C,GAAI0J,GAAOA,EAAIvJ,WAAauJ,EAAIvJ,UAAUC,eAAgB,CACtD,IAAIsK,EAAa1K,EAAiB0J,EAAIvJ,UAAUC,eAAeL,UAAU,IACzE,IAAIqN,EAAQC,EACZ,GAAI3C,GAAcA,EAAWsC,YAAa,CACtCI,EAAS1C,EAAWsC,WACxB,MAAO,GAAItC,GAAcA,EAAW5W,aAAc,CAC9CsZ,EAAS1C,EAAW5W,YACxB,CAEA,GAAIsZ,EAAQ,CACR,GAAIA,EAAOE,aAAeF,EAAOE,YAAYhD,QAAS,CAClD+C,EAAYrJ,OAAOoJ,EAAOE,YAAYhD,QAC1C,MAAO,GAAI8C,EAAOE,aAAeF,EAAOE,YAAY1Q,IAAK,CACrDyQ,EAAYrJ,OAAOoJ,EAAOE,YAAY1Q,IAC1C,CAEA,IAAK8B,MAAM2O,GAAY,CACnB,GAAIF,IAAkBjS,UAAW,CAC7BiS,EAAgBnJ,OAAOqJ,EAC3B,MAAO,GAAIF,EAAgBnJ,OAAOqJ,GAAY,CAC1CF,EAAgBnJ,OAAOqJ,EAC3B,CACJ,CACJ,CACJ,CACA,OAAOF,CACX,CAEA,SAASI,GAAkBjQ,EAAWkQ,GAElC,GACIlQ,GACAA,EAAUkQ,KACTlQ,EAAUkQ,GAAS,sCACflQ,EAAUkQ,GAASzY,EAAUQ,gBAC1B+H,EAAUkQ,GAASzY,EAAUQ,iBAAmBR,EAAUY,eACpE,CACE,OAAO,IACX,CACA,OAAO,KACX,CAEA,SAAS8X,GAAoBnQ,EAAWoM,EAAKF,GACzC,GAAIlM,EAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUe,YAAcf,EAAUgB,UAAW,CACnF,OAAO,IACX,CACA,OAAO,KACX,CAEA,SAAS2X,GAAoBpQ,EAAWoM,EAAKF,GACzC,GAAIlM,EAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUe,YAAcf,EAAUiB,UAAW,CACnF,OAAO,IACX,CACA,OAAO,KACX,CAMA,SAAS2X,GAAmBrH,EAAUsH,EAASC,EAAY/F,GACvD,IAAId,EAAahH,EAAkBgI,EAAW8F,EAAcC,EAC5D,IAAIvT,EACAmD,EACAE,EACA+K,EACAqD,EACA+B,EAA2B,MAC/B,IAAIC,EACJ,IAAIC,EAAmBC,EAAmBC,EAC1C,IAAIC,EACAC,EAAyB,GACzBC,EAAuB,GAC3B,IAAInQ,EACJ,IAAIN,EACJ,IAAIuK,EAAQP,GAAeA,EAAYQ,UACvC,IAAIkG,EAAWC,GACf,IAAIC,GAAUrG,GAASA,EAAM7B,SAAS,MACtC,IAAImI,GAAiBD,IAAWA,GAAQ1R,YAAY,kBAEpDgK,EAAcV,EAASE,SAAS,qBAChC,GAAIrS,EAAkBya,iBAAiB9G,GAAc,CACjDkG,EAA2BhH,GAAeA,EAAY6H,WAAa7H,EAAY6H,UAAUC,aAC7F,CACAf,EAAiBY,GAAiBA,GAAeG,cAAgBd,EAEjExT,EAAY8L,EAASG,aACrB9I,EAAYC,IAEZ,IAAK,IAAIG,MAAOJ,EAAW,CACvB,IAAKG,EAAYH,EAAUI,IAAKD,YAAcH,EAAUG,GAAY,CAChE,IAAIE,GAAerJ,EAAM,CAAC,EAAGgJ,EAAUG,IACvCH,EAAUI,IAAOC,EACrB,CACA,GACIL,EAAUI,IAAKO,QAAQJ,OAAS1D,GAC/BmD,EAAUI,IAAKE,MAAQN,EAAUI,IAAKE,KAAKC,OAAS1D,EACvD,CACEqD,EAASF,EAAUI,IACnB,KACJ,CACJ,CAEA,IAAKF,EAAQ,CACT7D,EAAQW,MACJjE,EAAcE,WACd,MACAF,EAAcoB,YACdpB,EAAcqB,kBACdyC,EACA,IACA9D,EAAciC,kBAElB,MACJ,CAEA,IAAKqO,EAAa,CACdhN,EAAQW,MACJjE,EAAcE,WAAa,MAAQF,EAAcoB,YAAcpB,EAAc6B,eAEjF,MACJ,CACA,IAAIqC,GAAY0L,EAASE,WACzB,IAAIpK,GAAY4K,EAAYhK,YAAY,cACxC,IAAKpC,KAAcwB,GAAW,CAC1B,MACJ,CACA4D,EAAmBgH,EAAYhK,YAAY,eAC3C,IAAKgD,EAAkB,CACnBhG,EAAQW,MAAMjE,EAAcI,gBAAkB,MAAQJ,EAAcmB,WACpE,MACJ,CACA,IAAIyF,GAAYC,GAAY3C,GAAWwB,IACvC4L,EAAYhB,EAAYhK,YAAY,wBACpC,IAAKgL,KAAe8F,EAAe9N,EAAiBgI,IAAa,CAC7DhO,EAAQW,MAAMjE,EAAcI,gBAAkB,MAAQJ,EAAcmB,WACpE,MACJ,CAEA,KAAM+Q,EAAckF,EAAaiB,uBAAyBnG,EAAY/J,OAAQ,CAC1E7E,EAAQW,MACJjE,EAAcK,iBACd,MACAL,EAAciB,WACd,IACAjB,EAAcmC,sBAElB,MACJ,CAEA,IAAImW,GACJ,KAAM/C,EAAY6B,EAAamB,qBAAuBhD,EAAUpN,OAAQ,CACpE7E,EAAQW,MACJjE,EAAcK,iBACd,MACAL,EAAciB,WACd,IACAjB,EAAcoC,oBAElB,MACJ,KAAO,CACH,IAAIuH,GAA0B4L,EAAU,GAAG9L,UACrCH,EAAiBiM,EAAU,GAAG9L,UAAUC,eAAeL,UAAU,IACjE,KACN,IAAImP,GACA7O,IACAA,GAAwB2M,aACxB3M,GAAwB2M,YAAYC,0BACpC5M,GAAwB2M,YAAYC,yBAAyBrQ,IACjEoS,GAA4BE,GAA6BA,GAA6B,CAC1F,CACA9Q,EAAyBC,EAAiBuK,EAAa/K,EAAQjD,GAAWwB,IAC1E,GAAIgC,EAAwB,CACxBP,EAASA,EAAOI,IACpB,KAAO,CACHJ,EAASA,EAAOS,OACpB,CAEA,IAAI6Q,GAAanI,EAAYhK,YAAY,qBAAuBgK,EAAYhK,YAAY,oBACxF,GAAIgK,GAAeA,EAAYhK,YAAY,UAAYmS,KAAejU,UAAW,CAC7EsT,EAAYnG,EAAM+G,KAAK,qBACvBX,GAAc9P,SAAS6P,EAAUa,iBAAkB,IACnDF,GACInI,EAAYhK,YAAY,UACxBgK,EAAYhK,YAAY,SAASyR,GAAc,KAC9CzH,EAAYhK,YAAY,SAASyR,GAAc,GAAG,oBAC/CzH,EAAYhK,YAAY,SAASyR,GAAc,GAAG,mBAC9D,CAEA,IAAIa,GAAU,MACd,IAAIC,GACAP,GAA4B,EACtB,2BAA6BA,GAA0BQ,WAAa,IACpE,8BACV,IAAIC,GAAW,IAAIxb,EAAW,CAAEyb,aAAcH,KAC9CE,GAASE,QAAQrJ,EAASsJ,aAC1BH,GAASE,QAAQrJ,EAASsJ,aAC1BtJ,EAASuJ,qBAAuBJ,GAKhC,CAAC5R,EAAOiS,WAAYjS,EAAOkS,UAAUC,QAAQ,SAAUC,EAAO1Q,GAC1D,IAAI2Q,EAAY3Q,EAAI0M,EAAYrD,EAChC,IAAIuH,EAAU5Q,EAAI,aAAe,eACjC,GAAI0Q,EAAMG,KAAOF,EAAUrR,OAASoR,EAAMG,IAAK,CAC3CpW,EAAQW,MAAMjE,EAAcE,WAAa,MAAQ4D,EAAY,IAAM9D,EAAcqC,WAAakX,EAAMG,IAAM,IAAMD,GAChHb,GAAU,IACd,CACA,GAAIW,EAAMI,KAAOH,EAAUrR,OAASoR,EAAMI,IAAK,CAC3CrW,EAAQW,MAAMjE,EAAcE,WAAa,MAAQ4D,EAAY9D,EAAcsC,UAAYiX,EAAMI,IAAM,IAAMF,GACzGb,GAAU,IACd,CACJ,GAEA,GAAIA,GAAS,CACT,MACJ,CAGA,IAAIgB,GAAiB,KAErB,GAAIzS,EAAO0S,YAAc1S,EAAO0S,WAAW9R,eAAe,eAAiBZ,EAAO0S,WAAW,aAAc,CACvGD,GAAiB,KACrB,CAEA,IAAIE,GAAuB,KAO3B,IAAIC,GAAc,MAClB,GAAIjW,IAAc,QAAS,CACvBiW,GAAc,IAClB,CACAnK,EAASoK,uBAITzC,EAAiB,CACb0C,OAAQ,CACJC,aAAc,OAElB9J,MAAO,CACHC,QAAS,OAEb8J,YAAa,CACTC,mBAAoBN,GAAuB,MAAQ,KACnDO,cAAe,CACXC,gBAAiBP,GAAc,KAAO,MACtCQ,mBAAoB,MACpBC,KAAM,YACNC,mBAAoB,MACpBC,iBAAkB,MAEtBC,KAAM,CACFC,WAAY,aAGpBC,SAAU,CACNC,OAAQ,CACJC,MAAO,iBACPC,IAAK,iBAETC,UAAW,CACP5K,QAASgH,GAAkB0C,GAAc,KAAO,MAChDvS,KAAM,SAEV0T,UAAW,CACPC,WAAY,UAEhBC,UAAW,CACPC,SAAU,QAGlBlL,aAAc,CACVmL,MAAO,CACHC,oBAAqB,MAG7BC,QAAS,CACLC,UAAW,MACXC,UAAW,OAInB,GACIvU,EAAO0S,YACP1S,EAAO0S,WAAW8B,gBAAkB,MACpCzS,EAAUqM,EAAWjM,GACvB,CAEE,IAAIsS,GAAa9d,EAAamY,QAAQ,QACtC,IAAI4F,GAAY/d,EAAamY,QAAQ,OACrC,IAAI6F,GAAiBhe,EAAamY,QAAQ,YAC1C,IAAI8F,GAAeje,EAAamY,QAAQ,UACxC,GAAIV,EAAUpN,SAAW,EAAG,CACxB,IAAI6T,GAAUnG,EAAqBN,EAAU,GAAIjM,EAAkB1C,GAAWgJ,GAC9E,IAAIgM,GAAaI,GAAQ,IAAMJ,GAC3BC,GAAYG,GAAQ,IAAMH,GAC1BC,GAAiBE,GAAQ,IAAMF,GAC/BC,GAAeje,EAAamY,QAAQ,SAC5C,CACAsB,EAAesD,SAASoB,eAAiB,CACrCC,MAAO,CACH,CACIC,SAAU,SAAU7G,GAChB,IAAIE,EAA0BH,EAAYC,EAAU1O,GAAW2O,GAC/D,IAAKC,EAAyB,CAC1B,OAAO,KACX,CACA,IAAI4G,EAAc9S,EAAiBkM,EAAwBnM,UAAU,IACrE,IAAIgT,EAAStI,EAA0CuB,EAAU8G,GACjE,GAAIC,IAAWlf,EAAqB6X,qBAAqBC,YAAYqH,SAAU,CAC3E,OAAO,IACX,MAAO,GAAID,IAAW,WAAY,CAC9B,OAAO,IACX,CACJ,EACAxC,WAAY,CACR0C,MAAO,uCAEXC,YAAaZ,IAEjB,CACIO,SAAU,SAAU7G,GAChB,IAAIE,EAA0BH,EAAYC,EAAU1O,GAAW2O,GAC/D,IAAKC,EAAyB,CAC1B,OAAO,KACX,CACA,IAAI4G,EAAc9S,EAAiBkM,EAAwBnM,UAAU,IACrE,IAAIgT,EAAStI,EAA0CuB,EAAU8G,GACjE,GAAIC,IAAWlf,EAAqB6X,qBAAqBC,YAAYwH,SAAU,CAC3E,OAAO,IACX,MAAO,GAAIJ,IAAW,WAAY,CAC9B,OAAO,IACX,CACJ,EACAxC,WAAY,CACR0C,MAAO,2CAEXC,YAAaV,IAEjB,CACIK,SAAU,SAAU7G,GAChB,IAAIE,EAA0BH,EAAYC,EAAU1O,GAAW2O,GAC/D,IAAKC,EAAyB,CAC1B,OAAO,KACX,CACA,IAAI4G,EAAc9S,EAAiBkM,EAAwBnM,UAAU,IACrE,IAAIgT,EAAStI,EAA0CuB,EAAU8G,GACjE,GAAIC,IAAWlf,EAAqB6X,qBAAqBC,YAAYyH,SAAU,CAC3E,OAAO,IACX,MAAO,GAAIL,IAAW,WAAY,CAC9B,OAAO,IACX,CACJ,EACAxC,WAAY,CACR0C,MAAO,sCAEXC,YAAaX,IAEjB,CACIM,SAAU,SAAU7G,GAChB,IAAIE,EAA0BH,EAAYC,EAAU1O,GAAW2O,GAC/D,IAAKC,EAAyB,CAC1B,OAAO,KACX,CACA,IAAI4G,EAAc9S,EAAiBkM,EAAwBnM,UAAU,IACrE,IAAIgT,EAAStI,EAA0CuB,EAAU8G,GACjE,GAAIC,IAAWlf,EAAqB6X,qBAAqBC,YAAY0H,KAAM,CACvE,OAAO,IACX,MAAO,GAAIN,IAAW,UAAW,CAC7B,OAAO,IACX,CACJ,EACAxC,WAAY,CACR0C,MAAO,0CAEXC,YAAaT,KAI7B,CAEA,IAAIa,GAAsBtM,EAAYhK,YAAY,wBAClD,IAAIuW,GAAgBvM,EAAYhK,YAAY,iBAC5C,IAAIwW,GAGJ,IACKF,IACDzZ,EAAsC+G,QAAQkN,EAAalG,UAAU9M,aAAe,GACpFyY,IACAE,OAAOC,KAAKH,IAAe1U,QAAU,GACrC4U,OAAOC,KAAKH,IAAe1U,QAAU,EACvC,CACEnK,EAAKkU,EAAa,SAAUrJ,EAAGoU,GAC3B,GACIA,GACAA,EAAWC,MACXD,EAAWC,KAAK9Y,aAAe,2DACjC,CACE0Y,GAAwBG,EAAWzS,WAAayS,EAAWzS,UAAUzB,aACrE,MACJ,CACJ,GACA,IAAI8G,GACJ,GAAIiN,GAAuB,CACvB,GAAIlW,IAAaA,GAAUkW,IAAwB,CAC/C,GAAIlW,GAAUkW,IAAuBze,EAAUE,cAAe,CAE1DsR,GAAWmG,GACPpP,GAAUkW,IAAuBze,EAAUE,cAAc+L,OACnD1D,GAAUkW,IAAuBze,EAAUE,cAAc+L,OACzD1D,GAAUkW,IAAuBze,EAAUE,cAAcsL,KAC/D+F,EACAhJ,GAER,MAAO,GAAIA,GAAUkW,IAAuBze,EAAUC,WAAY,CAC9DuR,GAAWjJ,GAAUkW,IAAuBze,EAAUC,UAC1D,MAAO,GAAIwe,GAAuB,CAC9BjN,GAAWiN,EACf,CACJ,CASA,GAAID,cAAyB7S,MAAO,CAChC,IAAImT,GAAeN,GAAc3J,IAAI,SAAUzG,GAC3C,OAAOA,EAAM8P,KACjB,GACA,IAAIa,GAAeP,GAAc3J,IAAI,SAAUzG,GAC3C,OAAOA,EAAM4Q,UACjB,GAEA,IAAIC,GAAqBF,GAAa,IAAM5Y,UAAY4Y,GAAa,GAAKtf,EAAamY,QAAQ,UAC/F,IAAIsH,GAAkBH,GAAa,IAAM5Y,UAAY4Y,GAAa,GAAKtf,EAAamY,QAAQ,OAC5F,IAAIuH,GAAuBJ,GAAa,IAAM5Y,UAAY4Y,GAAa,GAAKtf,EAAamY,QAAQ,YACjG,IAAIwH,GAAmBL,GAAa,IAAM5Y,UAAY4Y,GAAa,GAAKtf,EAAamY,QAAQ,OACjG,CAEAsB,EAAesD,SAASoB,eAAiB,CACrCC,MAAO,CACH,CACIC,SAAU,SAAU7G,GAChB,GAAIA,IAAaA,EAASzF,MAAc,KAAOyF,EAASzF,MAAc,GAAI,CAItE,GAAIgN,cAAyB7S,MAAO,CAEhC,GAAI6S,GAAc1U,OAAS,EAAG,CAC1B,OAAO,KACX,CACJ,MAAO,GAAI0U,KAAkBA,GAAc9U,eAAe,GAAI,CAE1D,OAAO,KACX,CACA,OAAO,IACX,CACJ,EACA8R,WAAY,CACR0C,MACIM,cAAyB7S,OAASmT,GAAahV,OACzCgV,GAAa,GACbN,GAAc,IAAMA,GAAc,GAAG,UAEnDL,YAAaiB,IAAqBZ,GAAc,IAAMA,GAAc,GAAG,eAE3E,CACIV,SAAU,SAAU7G,GAChB,GAAIA,IAAaA,EAASzF,MAAc,KAAOyF,EAASzF,MAAc,GAAI,CAItE,GAAIgN,cAAyB7S,MAAO,CAEhC,GAAI6S,GAAc1U,OAAS,EAAG,CAC1B,OAAO,KACX,CACJ,MAAO,GAAI0U,KAAkBA,GAAc9U,eAAe,GAAI,CAE1D,OAAO,KACX,CACA,OAAO,IACX,CACJ,EACA8R,WAAY,CACR0C,MACIM,cAAyB7S,OAASmT,GAAahV,OACzCgV,GAAa,GACbN,GAAc,IAAMA,GAAc,GAAG,UAEnDL,YACIgB,IAAyBX,GAAc,IAAMA,GAAc,GAAG,eAEtE,CACIV,SAAU,SAAU7G,GAChB,GAAIA,IAAaA,EAASzF,MAAc,KAAOyF,EAASzF,MAAc,GAAI,CACtE,OAAO,IACX,CACJ,EACAgK,WAAY,CACR0C,MACIM,cAAyB7S,OAASmT,GAAahV,OACzCgV,GAAa,GACbN,GAAc,IAAMA,GAAc,GAAG,UAEnDL,YAAae,IAAoBV,GAAc,IAAMA,GAAc,GAAG,eAE1E,CACIV,SAAU,SAAU7G,GAChB,GAAIA,IAAaA,EAASzF,MAAc,KAAOyF,EAASzF,MAAc,GAAI,CACtE,OAAO,IACX,CACJ,EACAgK,WAAY,CACR0C,MACIM,cAAyB7S,OAASmT,GAAahV,OACzCgV,GAAa,GACbN,GAAc,IAAMA,GAAc,GAAG,UAEnDL,YAAac,IAAuBT,GAAc,IAAMA,GAAc,GAAG,iBAKrF,IAAIa,GACJ,GAAIpN,GAAeA,EAAYhK,YAAY,oBAAqB,CAC5DoX,GAA2Bzf,EAAM,CAAC,EAAGsZ,EAAesD,SAASoB,gBAC7DyB,GAAyBxB,MAAM5C,QAAQ,SAASqE,EAAMnL,EAAO0J,UAClDyB,EAAK,YACZA,EAAKC,YAAc,CAAC,EACpBD,EAAKC,YAAY/N,IAAaqM,EAAM/T,OAAS,EAAIqK,EAAS,EAC9D,EACJ,CACJ,CACJ,CAGA,IAAIqL,GAA4B,MAChC,IAAIC,GAAY,MAChB,GACI1G,EAAalG,UAAU9M,aAAe/F,EAAUkB,mBAChD6X,EAAalG,UAAU9M,aAAe/F,EAAUmB,kBAChD4X,EAAalG,UAAU9M,aAAe/F,EAAUoB,eAClD,CACE,GACI2X,GACAA,EAAa2G,aACb3G,EAAa2G,YAAYC,YAAc,kDACzC,CACE,IAAIC,GAAe7G,EAAa2G,YAChC,GACIE,GAAaC,mBACbD,GAAaC,kBAAkBF,YAAc,4DAC/C,CACE,IAAIG,GAAqBF,GAAaC,kBACtC,GACIC,GAAmBC,mBACnBD,GAAmBC,kBAAkBjV,MAAQ,OAC/C,CACEoO,EAAesD,SAASwD,YAAc,MACtCR,GAA4B,IAChC,MAAO,GAAIM,GAAmBG,UAAW,CACrC/G,EAAesD,SAASwD,YAAc,KACtCR,GAA4B,IAChC,CACJ,MAAO,GACHI,GAAaD,YAAc,mDAC3BC,GAAaM,eACbN,GAAaM,cAAcna,WAC7B,CACE,IAAIoa,GAAcP,GAAaM,cAAcna,WAC7C,IAAIqa,GAAmBD,GAAYnV,UAC/BmV,GAAY/L,YAAY,KAAO,EAC/B+L,GAAYrW,QAEhB,GAAIsW,IAAoB,aAAc,CAClCX,GAAY,IAChB,CACJ,CACJ,MAAO,GAAI1G,GAAgBA,EAAa2G,aAAe3G,EAAa2G,YAAY3Z,WAAY,CACxF,IAAIsa,GAAatH,EAAa2G,YAAY3Z,WAAWiF,UACjD+N,EAAa2G,YAAY3Z,WAAWqO,YAAY,KAAO,EACvD2E,EAAa2G,YAAY3Z,WAAW+D,QAGxC,OAAQuW,IACJ,IAAK,yBACDnH,EAAesD,SAASwD,YAAc,MACtCR,GAA4B,KAC5B,MACJ,IAAK,eACDtG,EAAesD,SAASwD,YAAc,KACtCR,GAA4B,KAC5B,MACJ,IAAK,eACDC,GAAY,KACZ,MACJ,QACI,MAEZ,CAEA,GAAIA,GAAW,CACX,IAAIa,GAAe,GACnB,GACIvH,EAAa,qBAAqB,IAClCA,EAAa,qBAAqB,GAAG3N,WACrC2N,EAAa,qBAAqB,GAAG3N,UAAUC,eACjD,CACE,IAAIkV,GAA2BxH,EAAa,qBAAqB,GAAG3N,UAAUC,eAC9E,IAAImV,GAAiBD,GAAyBvV,UAC1CuV,GAAyBnM,YAAY,KAAO,EAC5CmM,GAAyBzW,QAE7B,GAAImB,GAAoBA,EAAiBuV,IAAiB,CACtD,IAAIC,GAAgBxV,EAAiBuV,IACrC,GACIC,IACAA,GAAcC,cACdD,GAAcC,aAAanL,SAC3BkL,GAAcE,cACdF,GAAcE,aAAapL,QAC7B,CACE+K,GAAa3V,KAAK,CACdiW,KAAM,YACNtF,IAAKmF,GAAcC,aAAanL,QAChC8F,IAAKoF,GAAcE,aAAapL,UAEpCiK,GAA4B,IAChC,KAAO,CACHva,EAAQW,MAAMjE,EAAciD,yBAChC,CACJ,CACJ,CAEA,GACImU,EAAalG,UAAU9M,aAAe/F,EAAUoB,gBAChD2X,EAAa,qBAAqB,IAClCA,EAAa,qBAAqB,GAAG3N,WACrC2N,EAAa,qBAAqB,GAAG3N,UAAUC,eACjD,CACE,IAAIkV,GAA2BxH,EAAa,qBAAqB,GAAG3N,UAAUC,eAC9E,IAAImV,GAAiBD,GAAyBvV,UAC1CuV,GAAyBnM,YAAY,KAAO,EAC5CmM,GAAyBzW,QAE7B,GAAImB,GAAoBA,EAAiBuV,IAAiB,CACtD,IAAIC,GAAgBxV,EAAiBuV,IACrC,GACIC,IACAA,GAAcC,cACdD,GAAcC,aAAanL,SAC3BkL,GAAcE,cACdF,GAAcE,aAAapL,QAC7B,CACE+K,GAAa3V,KAAK,CACdiW,KAAM,aACNtF,IAAKmF,GAAcC,aAAanL,QAChC8F,IAAKoF,GAAcE,aAAapL,UAEpCiK,GAA4B,IAChC,KAAO,CACHva,EAAQW,MAAMjE,EAAciD,yBAChC,CACJ,CACJ,CACA2M,EAASsP,aAAaP,GAC1B,CACJ,CACAlH,EAAoBvF,EAAYiN,QAChCzH,EAAkBnC,EAAU4J,QAI5B,IAAIhJ,GAAW,EACf,IAAIiJ,GAAa,EACjB,IAAI3I,GACJ,IAAI4I,GACJ,IAAIC,GAAa,MACjB,IAAIC,GAAgB,MACpB,IAAIzI,GACJ,IAAI0I,GAAsB,GAC1B,IAAIC,GAAa,GACbC,GAAe,GAKnB,IACK5b,IAAc,UAAYA,IAAc,OAASA,IAAc,oBAChEqD,EAAOyF,OACPzF,EAAOyF,MAAMzE,OAAS,EACxB,CAGE,IAAIqK,GACJ,IAAKA,GAAQ,EAAGA,GAAQrL,EAAOyF,MAAMzE,OAAQqK,KAAS,CAClD,GAAIrL,EAAOyF,MAAM4F,IAAOmN,MAAQ,QAAS,CACrCxY,EAAOyF,MAAM9B,OAAO0H,GAAO,GAC3B,KACJ,CACJ,CACA,IAAKA,GAAQ,EAAGA,GAAQrL,EAAOyF,MAAMzE,OAAQqK,KAAS,CAClD,GAAIrL,EAAOyF,MAAM4F,IAAOmN,MAAQ,eAAgB,QACrCxY,EAAOyF,MAAM4F,IAAOY,KAC3B,KACJ,CACJ,CACA,GAAI9C,EAAYhK,YAAY,iBAAkB,CAE1C,IAAKkM,GAAQ,EAAGA,GAAQrL,EAAOyF,MAAMzE,OAAQqK,KAAS,CAClD,GAAIrL,EAAOyF,MAAM4F,IAAOmN,MAAQ,eAAgB,CAC5CxY,EAAOyF,MAAM4F,IAAOY,KAAO,WAC3B,KACJ,CACJ,CAEAjM,EAAOyF,MAAM5D,KAAK,CACd2W,IAAK,QACLjG,IAAK,EACLlS,KAAM,YACN4L,KAAM,UAEd,CACJ,CAEApV,EAAKmJ,EAAOyF,MAAO,SAAU/D,EAAGoW,GAC5B,IAAIU,EAAMV,EAAKU,IACf,IAAIC,EAAkB,GACtB,GAAIX,EAAKzX,KAAM,CACX,IAAIqY,EAAmB/M,EAAUgN,EACjC,GAAIb,EAAKzX,OAAS,YAAa,CAC3BqY,EAAoB3N,EAAY/J,OAChC2K,EAAW,YACXgN,EAAe,aACftI,EAAoBC,EACpBE,EAAwBC,CAC5B,KAAO,CACHiI,EAAoBtK,EAAUpN,OAC9B2K,EAAW,UACXgN,EAAe,WACftI,EAAoBE,EACpBC,EAAwBE,CAC5B,CACA,IAAI6B,EAAM,EACNC,EAAMkG,EACV,GAAIZ,EAAKvF,IAAK,CACVA,EAAMA,EAAMuF,EAAKvF,IAAMA,EAAMuF,EAAKvF,GACtC,CACA,GAAIuF,EAAKtF,IAAK,CACVA,EAAMA,EAAMsF,EAAKtF,IAAMA,EAAMsF,EAAKtF,GACtC,CAEA,IAAKsF,EAAK7L,KAAM,CACZ,IAAI2M,EAAMvI,EAAkBrP,OAC5B,IAAK,IAAI8D,EAAI,EAAGA,EAAI8T,GAAOH,EAAgBzX,OAASwR,IAAO1N,EAAG,CAC1D,IAAI+G,EAAMwE,EAAkBvL,GAC5BuL,EAAkB1M,OAAOmB,EAAG,KAC1B8T,IACA9T,EACF2T,EAAgB5W,KAAKgK,GACrB,GAAIpM,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAA0B,CAE1E+X,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAAyB8K,KAC7EjD,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAAyB8K,KACzErF,SACV,MAAO,GAAIoC,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAmB,CAC1E8X,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAkB6K,KACtEjD,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAkB6K,KAClErF,SACV,MAAO,GAAIoC,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUS,UAAW,CAClEgY,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUS,SAC9D,CAEA,GAAI+X,GAAkBjQ,GAAWkQ,IAAU,CACvCwI,GAAa,IACjB,KAAO,CACHC,GAAgB,IACpB,CAEA,IAAKD,GAAY,CACbnJ,GAAWD,EAAkBC,GAAUnD,EAAK1J,GAC5CmN,GAAgBD,GAAkBC,GAAezD,EAAK1J,EAC1D,KAAO,CACH8V,GAAalJ,EAAkBkJ,GAAYpM,EAAK1J,GAChD+V,GAAoB7I,GAAkB6I,GAAmBrM,EAAK1J,EAClE,CACJ,CACJ,KAAO,CACH,IAAI0W,EAAcf,EAAK7L,KAAK/O,MAAM,KAClCrG,EAAKgiB,EAAa,SAAU/T,EAAGmH,GAC3B,GAAIwM,EAAgBzX,SAAWwR,EAAK,CAChC,OAAO,KACX,CACA,IAAIoG,EAAMvI,EAAkBrP,OAC5B,IAAK,IAAI0C,EAAI,EAAGA,EAAIkV,GAAOH,EAAgBzX,OAASwR,IAAO9O,EAAG,CAC1D,IAAImI,EAAMwE,EAAkB3M,GAC5B,GACImI,GACAA,EAAIkK,MACJlK,EAAIkK,KAAK9Y,YACT4O,EAAIkK,KAAK9Y,WAAWC,MAAM,MAC1B2O,EAAIkK,KAAK9Y,WAAWC,MAAM,KAAK,GACjC,CACE,IAAI4b,EAAiBjN,EAAIkK,KAAK9Y,WAAWC,MAAM,KAAK,GACpD,GAAI4b,IAAmB7M,EAAM,CACzBoE,EAAkB1M,OAAOD,EAAG,KAC1BkV,IACAlV,EACF+U,EAAgB5W,KAAKgK,GACrB,GAAIpM,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAA0B,CAE1E+X,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAAyB8K,KAC7EjD,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAAyB8K,KACzErF,SACV,MAAO,GAAIoC,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAmB,CAC1E8X,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAkB6K,KACtEjD,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAkB6K,KAClErF,SACV,MAAO,GAAIoC,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUS,UAAW,CAClEgY,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUS,SAC9D,CACA,GAAI+X,GAAkBjQ,GAAWkQ,IAAU,CACvCwI,GAAa,IACjB,KAAO,CACHC,GAAgB,IACpB,CAEA,IAAKD,GAAY,CACbnJ,GAAWD,EAAkBC,GAAUnD,EAAK1J,GAC5CmN,GAAgBD,GAAkBC,GAAezD,EAAK1J,EAC1D,KAAO,CACH8V,GAAalJ,EAAkBkJ,GAAYpM,EAAK1J,GAChD+V,GAAoB7I,GAChB6I,GACArM,EACA1J,EAER,CACJ,CACJ,MAAO,IACFqO,EACK3N,MAAMC,UAAUC,QAAQC,KAAKwN,EAAuB3E,IAAQ,MAAQ,EAC5E,CACE2E,EAAsB3O,KAAKgK,EAC/B,CACJ,CACJ,GACA,GAAI4M,EAAgBzX,OAASwR,EAAK,CAC9B3b,EAAK2Z,EAAuB,SAAU9M,EAAGmI,GAErC,IAAIkN,EACJ,IAAI1N,EACJ,IACK0N,EAAc/Y,EAAO2Y,GAAcI,eACnCF,EAAchW,MAAMC,UAAUC,QAAQC,KAAK6V,EAAaE,IAAgB,MAAQ,IAChF1N,GAASgF,EAAoBxN,MAAMC,UAAUC,QAAQC,KAAKqN,EAAmBxE,IAAQ,MAAQ,GAChG,CACEwE,EAAkB1M,OAAO0H,EAAO,GAChCoN,EAAgB5W,KAAKgK,GACrB,GAAIpM,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAA0B,CAE1E+X,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAAyB8K,KAC7EjD,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUU,yBAAyB8K,KACzErF,SACV,MAAO,GAAIoC,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAmB,CAC1E8X,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAkB6K,KACtEjD,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUW,kBAAkB6K,KAClErF,SACV,MAAO,GAAIoC,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUS,UAAW,CAClEgY,GAAUlQ,GAAUoM,EAAIF,GAAU/J,cAAc1K,EAAUS,SAC9D,CACA,GAAI+X,GAAkBjQ,GAAWkQ,IAAU,CACvCwI,GAAa,IACjB,KAAO,CACHC,GAAgB,IACpB,CAEA,IAAKD,GAAY,CACbnJ,GAAWD,EAAkBC,GAAUnD,EAAK1J,GAC5CmN,GAAgBD,GAAkBC,GAAezD,EAAK1J,EAC1D,KAAO,CACH8V,GAAalJ,EAAkBkJ,GAAYpM,EAAK1J,GAChD+V,GAAoB7I,GAAkB6I,GAAmBrM,EAAK1J,EAClE,CAEA,GAAIsW,EAAgBzX,SAAWwR,EAAK,CAChC,OAAO,KACX,CACJ,CACJ,EACJ,CACA,GAAIiG,EAAgBzX,OAASuR,EAAK,CAC9BpW,EAAQW,MACJjE,EAAcE,WACdF,EAAcwC,UACdsB,EACA,IACA9D,EAAcyC,eACdmd,EAAgBzX,OAChB,IACAnI,EAAc0C,eACdgX,EACA,IACA1Z,EAAcuC,OAElB,OAAO,KACX,CACJ,CACA,GAAIqd,EAAgBzX,OAAQ,CACxB,IAAIgY,EAAS,GACb,IAAIC,EACJ,KAAMA,EAAUxQ,EAASyQ,cAAe,CACpC/c,EAAQW,MAAMjE,EAAcU,YAC5B,OAAO,KACX,CACA2C,EAAoBiG,EACpBtL,EAAK4hB,EAAiB,SAAU/W,EAAGmK,GAC/B,IAAKA,IAAQA,EAAIF,KAAcE,EAAIF,GAAU/J,aAAc,CACvDzF,EAAQW,MAAMjE,EAAcM,oBAC5B,OAAO,KACX,CACA,IAAIggB,EAAWtN,EAAIF,GAAU/J,aAC7B,IAAI8G,EAAWyQ,EACf,IAAIC,EAAaD,EACjB,IAAIE,EAAU,KACd,GAAI5Z,IAAaA,GAAU0Z,GAAW,CAClC,GAAI1Z,GAAU0Z,GAAUjiB,EAAUE,cAAe,CAE7C,GAAIqI,GAAU0Z,GAAUjiB,EAAUE,cAAc+L,OAAQ,CACpDuF,EAAWmG,GACPpP,GAAU0Z,GAAUjiB,EAAUE,cAAc+L,OAC5CsF,EACAhJ,GAER,MAAO,GAAIA,GAAU0Z,GAAUjiB,EAAUE,cAAcsL,KAAM,CACzDgG,EAAWjJ,GAAU0Z,GAAUjiB,EAAUE,cAAcsL,IAC3D,KAAO,CACHgG,EAAWyQ,CACf,CACJ,MAAO,GAAI1Z,GAAU0Z,GAAUjiB,EAAUC,WAAY,CACjDuR,EAAWjJ,GAAU0Z,GAAUjiB,EAAUC,UAC7C,MAAO,GAAIgiB,EAAU,CACjBzQ,EAAWyQ,CACf,CACA,GAAI1Z,GAAU0Z,GAAUjiB,EAAUI,aAAc,CAE5C8hB,EAAa3Z,GAAU0Z,GAAUjiB,EAAUI,aAAa6L,OAClD1D,GAAU0Z,GAAUjiB,EAAUI,aAAa6L,OAC3C1D,GAAU0Z,GAAUjiB,EAAUI,aAAaoL,IACrD,MAAO,GAAIjD,GAAU0Z,GAAUjiB,EAAUG,UAAW,CAChD+hB,EAAa3Z,GAAU0Z,GAAUjiB,EAAUG,SAC/C,MAAO,GAAI8hB,EAAU,CACjBC,EAAaD,CACjB,CACAE,EAAU5Z,GAAU0Z,GAAUjiB,EAAUM,WAAa,IACzD,CACA,IAAI8hB,EACAC,EAAgB,CAAC,EACrBA,EAAcJ,GAAYC,EAC1B,IACKC,IAAY,gBAAkBA,IAAY,uBAC3CD,IAAeD,EACjB,CACEG,EACI,UACAH,EACA,6EACR,KAAO,CAEH,GACI1Z,GAAU0Z,IACV1Z,GAAU0Z,GAAUjiB,EAAUI,cAC9BmI,GAAU0Z,GAAUjiB,EAAUI,aAAaJ,EAAUK,uBACvD,CACE,IAAIiiB,EAAkBC,EAKtBD,EAAmB/Z,GAAU0Z,GAAUjiB,EAAUK,uBACjDkiB,EAAuBD,GAAoBA,EAAiBvc,WAG5D,IAAKwc,EAAsB,CACvBD,EAAmB/Z,GAAU0Z,GAAUjiB,EAAUI,aAAaJ,EAAUK,uBACxEkiB,EAAuBD,GAAoBA,EAAiBvc,UAChE,CAGA,IAAKwc,EAAsB,CACvB,IAAI5V,EAAc3H,EAClBsd,EAAmB3V,GAAeA,EAAY3M,EAAUK,uBACxDkiB,EAAuBD,GAAoBA,EAAiBvc,UAChE,CACA,OAAQwc,GAEJ,IAAK,2DACDH,EAAqB,IAAMF,EAAa,IAAM,IAAM,IAAM,IAAMD,EAAW,IAAM,IACjF,MACJ,IAAK,0DACDG,EAAqB,IAAMH,EAAW,IAAM,IAAM,IAAM,IAAMC,EAAa,IAAM,IACjF,MACJ,IAAK,0DACDE,EAAqB,IAAMF,EAAa,IACxC,MACJ,IAAK,8DACDE,EAAqB,IAAMH,EAAW,IAAM,IAAM,IAAM,IAAMC,EAAa,IAAM,IACjF,MACJ,QACIE,EAAqB,IAAMH,EAAW,IACtCI,EAAcJ,GAAYA,EAC1B,MAEZ,KAAO,CAEHG,EAAqB,IAAMF,EAAa,GAC5C,CACA,GAAIjQ,GAAeA,EAAYhK,YAAY,oBAAqB,CAC5DlI,EAAqByiB,iBACjBvQ,EAAY6H,UAAU2I,OACtBR,EACAG,EAER,CACJ,CACAN,EAAOnX,KAAK6G,GACZ,GAAIiD,IAAa,YAAa,CAC1B,GAAI6M,IAAQ,gBAAiB,CACzB,IAAIoB,EAAsB,IAAIrjB,EAAoB,CAC9CgJ,KAAMmJ,EACNpD,MAAO,IAAM6T,EAAW,KAGhC,KAAO,CACH,IAAIS,EAAsB,IAAIrjB,EAAoB,CAC9CgJ,KAAMmJ,EACNpD,MAAO,IAAM6T,EAAW,IACxBU,aAAcP,GAEtB,CACA,IAAInO,EAAe1L,GAAU0Z,GAAUjiB,EAAUQ,eACjD,IAAIoiB,EACCra,GAAU0Z,GAAU,kDAAoD1Z,GAAU0Z,GAAU,iDAAiDnX,MAC7IvC,GAAU0Z,GAAU,uDAAyD1Z,GAAU0Z,GAAU,sDAAsDnX,MACvJvC,GAAU0Z,GAAU,yDAA2D1Z,GAAU0Z,GAAU,wDAAwDnX,MAC3JvC,GAAU0Z,GAAU,sDAAwD1Z,GAAU0Z,GAAU,qDAAqDnX,KAC1J,GACIzB,IACC8Y,IAAY,gBACTS,GACAT,IAAY,sBACXlO,GAAgBA,EAAaG,YAAY,OAAQ,KAAO,GAC/D,CACEsO,EAAoBG,YAAY,OACpC,CACAd,EAAQe,aAAaJ,GACrB,IAAKrB,GAAe1V,MAAMC,UAAUC,QAAQC,KAAKuV,GAAc7P,IAAa,MAAQ,EAAG,CACnF6P,GAAa1W,KAAK6G,EACtB,CACJ,KAAO,CACHuQ,EAAQgB,WACJ,IAAIzjB,EAAkB,CAClB+I,KAAMmJ,EACNpD,MAAO,IAAM6T,EAAW,OAGhC,IACKb,GAAazV,MAAMC,UAAUC,QAAQC,KAAKsV,GAAY5P,IAAa,MAAQ,GAC5E8P,GAAO,cACT,CACEF,GAAWzW,KAAK6G,EACpB,CACJ,CACJ,GACAD,EAASyR,QACL,IAAIzjB,EAAS,CACT+hB,IAAKA,EACLnY,KAAMsL,EACNwO,OAAQnB,KAGhB,GAAIR,IAAQ,eAAgB,CACxBpI,EAAeoI,GAAO,CAClBvP,MAAO,CACHC,QAASuJ,GAAiB,MAAQ,KAClC2H,KAAMpB,EAAOpV,KAAK,OAEtBuQ,MAAO,CACHtC,aAAcsG,GAAa,OAAS,gBACpC/D,oBAAqB,KAGjC,KAAO,CACHhE,EAAeoI,GAAO,CAClBvP,MAAO,CACHC,QAASuJ,GAAiB,MAAQ,KAClC2H,KAAMpB,EAAOpV,KAAK,OAEtBuQ,MAAO,CACHtC,aAAcsG,GAAa,OAAS,iBAGhD,CAEAE,GAAoBxW,KAAKuO,EAAeoI,IAExC,GAAIxY,EAAOY,eAAe,iBAAkB,CACxC,IAAIyZ,EAAU,EACd,IAAIC,EAA2Bta,EAAOua,cAAcvZ,OACpD,IAAIwZ,EACJ,IAAIC,EACJ,KAAOJ,EAAUC,EAA0BD,IAAW,CAClD,GAAIra,EAAOua,cAAcF,GAASzZ,eAAe,SAAU,CACvD6Z,EAAcza,EAAOua,cAAcF,GAAS/U,KAChD,CACA,GAAItF,EAAOua,cAAcF,GAASzZ,eAAe,QAAS,CACtD4Z,EAAkBxa,EAAOua,cAAcF,GAAShb,KAAKnC,MAAM,KAC3D,IAAIwd,EAA0BF,EAAgBxZ,OAC9C,IAAI2Z,EAAWC,EACf,IAAIC,EACJ,IAAK,IAAIC,EAAU,EACfD,EAAgBL,EAAgB,GAChCG,EAAYvK,EACZwK,EAActJ,GACdwJ,EAAUJ,IACRI,EACJ,CACE,GAAIA,IAAYJ,EAA0B,EAAG,CACzC,GAAIE,GAAeA,EAAYha,eAAeia,GAAgB,CAE1D,GACIle,IAAc,UACbie,EAAYC,KAAmB,SAC5BD,EAAYC,KAAmB,cACrC,CACEJ,EAAcG,EAAYC,EAC9B,MAAO,GAAIle,GAAa,QAAS,CAC7B8d,EAAcG,EAAYC,EAC9B,CACJ,CACA,GACKnE,IAA6BmE,GAAiB,gBAC7CnE,IAA6BmE,IAAkB,gBAC/CnE,IAA6BmE,GAAiB,cAClD,CACEF,EAAUE,GAAiBJ,CAC/B,CACA,KACJ,CACAE,EAAUE,GAAiBF,EAAUE,IAAkB,CAAC,EACxDF,EAAYA,EAAUE,GACtB,GAAID,EAAa,CACbA,EAAYC,GAAiBD,EAAYC,IAAkB,CAAC,EAC5DD,EAAcA,EAAYC,EAC9B,CAEAA,EAAgBL,EAAgBM,EAAU,EAC9C,CACJ,CACJ,CACJ,CACA,GAAIhD,EAAKlX,eAAe,iBAAkB,CACtC,IAAIc,EAAI,EACR,IAAIqZ,EAAqBjD,EAAKyC,cAAcvZ,OAC5C,IAAIga,EACJ,IAAIC,EACJ,IAAIC,EAEJ,KAAOxZ,EAAIqZ,EAAoBrZ,IAAK,CAChC,GAAIoW,EAAKyC,cAAc7Y,GAAGd,eAAe,UAAW,CAChDqa,EAAcnD,EAAKyC,cAAc7Y,GAAGyZ,OAEpC,OAAQF,GACJ,IAAK,QACDD,EAAiBhC,EAAOhY,OACxB,GACI8W,EAAKyC,cAAc7Y,GAAGd,eAAe,QACrCoa,GAAkBlD,EAAKyC,cAAc7Y,GAAG6Q,IAC1C,CACEyI,EAAiBlD,EAAKyC,cAAc7Y,GAAG6Q,GAC3C,MAAO,GACHuF,EAAKyC,cAAc7Y,GAAGd,eAAe,QACrCoa,GAAkBlD,EAAKyC,cAAc7Y,GAAG8Q,IAC1C,CACEwI,EAAiBlD,EAAKyC,cAAc7Y,GAAG8Q,GAC3C,CACA,MACJ,QACI,MAEZ,MAAO,GAAIsF,EAAKyC,cAAc7Y,GAAGd,eAAe,SAAU,CACtDoa,EAAiBlD,EAAKyC,cAAc7Y,GAAG4D,KAC3C,CACA,GAAIwS,EAAKyC,cAAc7Y,GAAGd,eAAe,QAAS,CAC9Csa,EAAYpD,EAAKyC,cAAc7Y,GAAGrC,KAAKnC,MAAM,KAC7C,IAAIke,EAAoBF,EAAUla,OAClC,IACI,IAAI8D,EAAI,EAAGuW,GAAUH,EAAU,GAAI9c,GAAMgS,EACzCtL,EAAIsW,IACFtW,EACJ,CACE,GAAIA,IAAMsW,EAAoB,EAAG,CAC7Bhd,GAAIid,IAAWL,EACf,KACJ,CACA5c,GAAIid,IAAWjd,GAAIid,KAAY,CAAC,EAChCjd,GAAMA,GAAIid,IACVA,GAAUH,EAAUpW,EAAI,EAC5B,CACJ,CACJ,CACJ,CACJ,CACJ,CACJ,GAEA,IAAIW,GAAQgD,EAASI,WACrB,GACI7I,EAAO0S,YACP1S,EAAO0S,WAAW4I,kBAAoB,MACtC9V,EAAmBC,GAAO9I,GAC5B,CACE9F,EAAK4O,GAAO,SAAU/D,EAAG6D,GACrB,GACIE,GAAM/D,GAAG6Z,YAAc,YACtB9V,GAAM/D,GAAGiE,WAAa,aAAeF,GAAM/D,GAAGiE,WAAa,gBAC9D,CACE,IAAI6V,EACJ3kB,EAAKuX,EAAW,SAAU/C,EAAO/F,GAC7B,IAAImW,EAAapW,EAAYC,EAAMjD,QAAQT,aAAcnC,IACzD,GAAIgc,IAAehW,GAAM/D,GAAGkE,YAAY,GAAI,CACxC4V,EAAgBzW,EAAqBO,EAAOnD,GAC5C,OAAO,KACX,CACJ,GACA,GAAIqZ,EAAe,CACf,IAAIE,EAAgBrW,EAAYmW,EAAcnZ,QAAQT,aAAcnC,IACpE,IAAIkc,EACAxZ,EAAiBqZ,EAAclZ,UAAUC,eAAeL,UAAU,IAAIO,cAAcb,cACpFO,EAAiBqZ,EAAclZ,UAAUC,eAAeL,UAAU,IAAIO,cAAcC,KACxF,IAAIkZ,EAAgBvW,EAAYsW,EAAiBlc,IACjD,IAAIoc,EAAcllB,EAAamY,QAAQ,SAAU,CAAC4M,IAClD,IAAII,EAAoBnlB,EAAamY,QAAQ,WAAY,CAAC8M,IAC1DxL,EAAesD,SAASoB,eAAiB,CACrCC,MAAO,CACH,CACI0B,YAAa,CACTsF,sBAAuBL,GAE3BhJ,WAAY,CACR0C,MAAO,wCACP4G,SAAU,OACVC,UAAW,yCAEf5G,YAAawG,GAEjB,CACIpF,YAAa,CACTsF,sBAAuBH,GAE3BlJ,WAAY,CACR0C,MAAO,wCACP4G,SAAU,SACVC,UAAW,wCACXvV,QAAS,uBAEb2O,YAAayG,KAIzBrT,EAASyQ,aAAae,WAClB,IAAIzjB,EAAkB,CAClB+I,KAAMqc,EACNtW,MAAO,IAAMqW,EAAkB,OAGvC,IAAIxB,EAAS1U,GAAM/D,GAAGkE,YACtBuU,EAAOtY,KAAK+Z,GACZnW,GAAM/D,GAAGwa,UAAU/B,EACvB,CACA,OAAO,KACX,CACJ,EACJ,CAEA,IAAIgC,GAAoB,MACxB,GACIzG,IACAA,GAAc0G,mBACdxG,OAAOC,KAAKH,GAAc0G,mBAAmBpb,OAAS,EACxD,CACE,IAAIqb,GAAkBzG,OAAOC,KAAKH,GAAc0G,mBAChD,IAAK,IAAI1a,GAAI,EAAGA,GAAI2a,GAAgBrb,OAAQU,KAAK,CAC7C,IAAI4a,GAAiBD,GAAgB3a,IACrC,IAAI6a,GAAS7G,GAAc0G,kBAAkBE,IAC7C,GAAI1G,OAAOC,KAAK0G,IAAQvb,OAAS,GAAI,CACjCmb,GAAoB,KACpB,KACJ,CACJ,CACJ,CAEA,GACI1G,IACAxZ,EAAoC8G,QAAQkN,EAAalG,UAAU9M,aAAe,IACjFkf,GACH,CACE,IAAIK,GAAmB,GACvB,IAAIC,GAAkC,KACtC,IAAK,IAAI/a,GAAI,EAAGA,GAAIqJ,EAAY/J,OAAQU,KAAK,CACzC,IAAIgb,GAAkB3R,EAAYrJ,IAAG2B,UAAUzB,aAC/C4a,GAAiB3a,KAAK6a,GAC1B,CACA,IAAK,IAAIhb,GAAI,EAAGA,GAAI8a,GAAiBxb,OAAQU,KAAK,CAC9C,IAAI4a,GAAiBE,GAAiB9a,IACtC,GAAI2a,GAAgBtZ,QAAQuZ,KAAmB,EAAG,CAC9C,IAAIK,GAAcjH,GAAc0G,kBAAkBE,IAClD,IAAIM,GAAgBhH,OAAOC,KAAK8G,IAChC,IAAIE,GAAc,GAClB,IAAK,IAAInb,GAAI,EAAGA,GAAIkb,GAAc5b,OAAQU,KAAK,CAC3C,IAAIob,GAAQH,GAAYC,GAAclb,KACtCmb,GAAYhb,KAAKib,GACrB,CACAL,GACIA,IAAmCI,GAAYE,MAAMC,GAC7D,CACJ,CAEA,GAAIP,GAAiC,CACjC,IAAIQ,GAAS,GACb,IAAK,IAAIvb,GAAI,EAAGA,GAAI8a,GAAiBxb,OAAQU,KAAK,CAC9C,IAAI4a,GAAiBE,GAAiB9a,IACtC,GAAI2a,GAAgBtZ,QAAQuZ,KAAmB,EAAG,CAC9C,IAAIK,GAAcjH,GAAc0G,kBAAkBE,IAClD,IAAIM,GAAgBhH,OAAOC,KAAK8G,IAChC,IAAIE,GAAc,GAClB,IAAK,IAAInb,GAAI,EAAGA,GAAIkb,GAAc5b,OAAQU,KAAK,CAC3C,IAAIob,GAAQH,GAAYC,GAAclb,KACtCmb,GAAYhb,KAAKib,GACrB,CACAI,GAAmBL,IAEnB,IAAK,IAAI/X,GAAI,EAAGA,GAAI+X,GAAY7b,OAAQ8D,KAAK,CACzC,IAAIqY,GAAkBN,GAAY/X,IAAGsY,eACrC,IAAIC,GAASR,GAAY/X,IAAGsQ,MAC5B,IAAI0H,GAAQ,CACRpK,WAAY,CACR0C,MAAOiI,KAGfP,GAAMrG,YAAc,CAAC,EACrB,IAAI6G,GAAWC,GAAsB9d,GAAWgJ,EAAU6T,IAC1DQ,GAAMrG,YAAY6G,IAAYH,GAC9BL,GAAMzH,YAAc8H,GACpBF,GAAOpb,KAAKib,GAChB,CACJ,CACJ,CACA1M,EAAesD,SAASoB,eAAiB1E,EAAesD,SAASoB,gBAAkB,CAAC,EACpF1E,EAAesD,SAASoB,eAAe,SAAWmI,EACtD,KAAO,CACH,IAAIA,GAAS,GACb,IAAK,IAAIvb,GAAI,EAAGA,GAAI8a,GAAiBxb,OAAQU,KAAK,CAC9C,IAAI4a,GAAiBE,GAAiB9a,IACtC,GAAI2a,GAAgBtZ,QAAQuZ,KAAmB,EAAG,CAC9C,IAAIK,GAAcjH,GAAc0G,kBAAkBE,IAClD,IAAIM,GAAgBhH,OAAOC,KAAK8G,IAChC,IAAIE,GAAc,GAClB,IAAK,IAAInb,GAAI,EAAGA,GAAIkb,GAAc5b,OAAQU,KAAK,CAC3C,IAAIob,GAAQH,GAAYC,GAAclb,KACtCmb,GAAYhb,KAAKib,GACrB,CACAI,GAAmBL,IACnB,IAAIW,GAAqBX,GAAY9Q,IAAI0R,GAC7C,CACJ,CACArN,EAAe0C,OAAO4K,MAAQ,SAAUtb,EAAGub,GACvC,IAAIC,EAASJ,GAAmBza,QAAQX,GACxC,IAAIyb,EAASL,GAAmBza,QAAQ4a,GACxC,OAAOC,EAASC,EAAS,GAAK,CAClC,CACJ,CACJ,CAEA,GACI7d,EAAO0S,YACP1S,EAAO0S,WAAW4I,kBAAoB,MACtC9V,EAAmBC,GAAO9I,IAC1B8L,EAASG,eAAiB,kBAC5B,CACE/R,EAAK4O,GAAO,SAAU/D,EAAG6D,GACrB,GACIE,GAAM/D,GAAG6Z,YAAc,YACtB9V,GAAM/D,GAAGiE,WAAa,aAAeF,GAAM/D,GAAGiE,WAAa,gBAC9D,CACE,IAAI6V,EACJ3kB,EAAKuX,EAAW,SAAU/C,EAAO/F,GAC7B,IAAImW,EAAapW,EAAYC,EAAMjD,QAAQT,aAAcnC,IACzD,GAAIgc,IAAehW,GAAM/D,GAAGkE,YAAY,GAAI,CACxC4V,EAAgBpW,EAAmBE,EAAOnD,GAC1C,OAAO,KACX,CACJ,GACA,GAAIqZ,EAAe,CAEf,IAAIsC,EACA3b,EAAiBqZ,EAAclZ,UAAUC,eAAeL,UAAU,IAAIe,YACjErB,cACLO,EAAiBqZ,EAAclZ,UAAUC,eAAeL,UAAU,IAAIe,YAAYP,KACtF,IAAIqb,EAAc1Y,EAAYyY,EAAere,IAI7CgJ,EAASyQ,aAAae,WAClB,IAAIzjB,EAAkB,CAClB+I,KAAMwe,EACNzY,MAAO,IAAMwY,EAAgB,OAMrCrV,EAASyR,QACL,IAAIzjB,EAAS,CACT+hB,IAAK,eACLnY,KAAM,UACN8Z,OAAQ,CAAC4D,KAGrB,CACA,OAAO,KACX,CACJ,EACJ,CAEA,GAAI5F,IAAcC,GAAe,CAC7Bjc,EAAQkF,QAAQ1K,EAAamY,QAAQ,iCACzC,CAGAjY,EAAK4O,GAAO,SAAU/D,EAAGoW,GAGrB,IAAIkG,EAAWlG,EAAK3Y,YAAY,QAChC,GAAI6e,IAAa,UAAW,CACxB,IAAIC,EAAcnG,EAAK3Y,YAAY,UACnC,IAAI+e,EAAmB,KACvB,IAAIC,EAAqBlO,EAAamB,kBAAkBgN,OAAO,SAAUC,GACrE,OACIJ,EAAYlb,QAAQtD,GAAU4e,EAAYL,GAAU,iBAAiB9mB,EAAUC,aAAe,GAC9F8mB,EAAYlb,QAAQtD,GAAU4e,EAAYL,GAAU,iBAAiB9mB,EAAUE,gBAAkB,CAEzG,GAEAP,EAAKsnB,EAAoB,SAAUrZ,EAAGwZ,GAGlC,GACI1O,GAAoBnQ,GAAW6e,EAAgBN,IAC/CnO,GAAoBpQ,GAAW6e,EAAgBN,GACjD,CACEE,EAAmB,KACvB,KAAO,CACHA,EAAmB,KAEnB,OAAO,KACX,CACJ,GACA,IAAKA,EAAkB,CACnB9N,EAAe0H,EAAK3Y,YAAY,QAAQ,SAAS,iBAAmB,KACxE,CACJ,CACJ,GAEA,IAAIof,GAEJ,GAAIrG,KAAsB7a,UAAW,CACjC6a,GAAoB,EACxB,CAEA,GAAI5I,KAAkBjS,UAAW,CAC7BiS,GAAgB,EACpB,CAEA,GAAI6I,GAAY,CACZoG,GAAYC,GAAatG,GAAmBC,GAChD,KAAO,CACHoG,GAAYC,GAAalP,GAAe6I,GAC5C,CAEA,GAAIpI,EAAS,CACTA,EAAQ0O,SAASF,GACrB,CACAG,GAAuBpG,GAAYC,GAAcvI,GAEjD,IAAI2O,GAAS,GAGb9nB,EAAK4O,GAAO,SAAU/D,EAAGoW,GACrB,IAAI8G,EAAuB,KAC3B,IAAIC,EAAkB/G,EAAK3Y,YAAY,QAEvC,GAAI0f,IAAoB,UAAW,CAE/B,IAAIC,EAAqBzG,GAAoB+F,OAAO,SAAUW,GAC1D,IAAIC,EAASD,EAAW,SAAS,QAAQ7hB,MAAM,KAAKkhB,OAAO,SAAUjF,GACjE,GAAIrB,EAAKlS,YAAY7C,QAAQoW,EAAS8F,SAAW,EAAG,CAChD,OAAO,IACX,KAAO,CACH,OAAO,KACX,CACJ,GACA,GAAID,EAAOhe,OAAS,EAAG,CACnB,OAAO,IACX,KAAO,CACH,OAAO,KACX,CACJ,GAEA,GAAI8d,GAAsBA,EAAmB9d,OAAQ,CACjD,IAAIke,EAAoBpH,EAAKlS,YAC7B,GAAIsZ,GAAqBA,EAAkBle,OAAQ,CAE/CnK,EAAKqoB,EAAmB,SAAUxd,EAAGyd,GACjC,IAAIC,EAAuBD,EAAcF,OACzC,IAAII,EAAiBjR,EAAUgQ,OAAO,SAAUkB,GAC5C,GAAIA,EAAc,YAAcA,EAAc,WAAW,gBAAiB,CACtE,IAAIC,EAAkBD,EAAc,WAAW,gBAC/C,GACK7f,GAAU8f,IAAoB9f,GAAU8f,GAAiBroB,EAAUC,aAAeioB,GAClF3f,GAAU8f,IAAoB9f,GAAU8f,GAAiBroB,EAAUE,gBAAkBgoB,EACxF,CACE,OAAO,IACX,KAAO,CACH,OAAO,KACX,CACJ,CACJ,GAGA,GAAIC,GAAkBA,EAAere,OAAQ,CACzC,IAAIwe,EAAuBH,EAAe,GAE1C,IACKzP,GAAoBnQ,GAAW+f,EAAsBX,KACrDhP,GAAoBpQ,GAAW+f,EAAsBX,GACxD,CACE,IAAIY,EAAuB,GAC3B,GACID,GACAA,EAAqB,cACrBA,EAAqB,aAAa,mBAClCA,EAAqB,aAAa,kBACpC,CACEC,EACID,EAAqB,aAAa,mBAClCA,EAAqB,aAAa,kBAAkBtd,UAAU,GAClE,GAAIud,GAAwB,GAAI,CAC5B,IAAIC,EAEJA,EACIvd,EAAiBsd,IACjBtd,EAAiBsd,GAAsB,gBACvCtd,EAAiBsd,GAAsB,eAAe,6BACtDtd,EAAiBsd,GAAsB,eAAe,4BAA4B,OACtFb,EACIc,EAAuBd,EACjBc,EACAd,CACd,CACJ,CACJ,KAAO,CAEHA,EAAuBA,EAAuB,IAAM,IAAMA,CAC9D,CACJ,CACJ,EACJ,CACJ,CAEA,GACIE,GACAA,EAAmB,IACnBA,EAAmB,GAAG3K,OACtB2K,EAAmB,GAAG3K,MAAMtC,aAC9B,CACE,IAAI8N,EAAYb,EAAmB,GAAG3K,MAAMtC,YAChD,CACA8M,GAAS,GACT,GAAIxG,GAAY,CACZ,GAAIwH,IAAc,OAAQ,CACtBhB,GAAS,QAAUC,EAAqBjN,WAAa,GACzD,KAAO,CACHgN,GAAS,iBAAmBC,EAAqBjN,WAAa,GAClE,CACJ,KAAO,CACHgN,GAAS,iBAAmBC,EAAqBjN,WAAa,GAClE,CACA,GAAImN,GAAsBA,EAAmB,GAAI,CAC7CA,EAAmB,GAAG3K,MAAMtC,aAAe8M,EAC/C,CACJ,CACJ,GAEA,GAAIhiB,IAAc,kBAAmB,CACjCyT,EAAe,aAAe,CAC1BnH,MAAO,CACHC,QAASuJ,GAAiB,MAAQ,MAEtC0B,MAAO,CACHtC,aAAc8M,IAG1B,CAEA,IAAIiB,GAAgB,GACpB,IAAIC,GAAc,GAClB,GAAI1H,GAAY,CACZyH,GAAgB3H,GAAWtG,WAC3BkO,GAAc,QAAU5H,GAAWtG,WAAa,GACpD,KAAO,CACHiO,GAAgB5Q,GAAS2C,WACzBkO,GAAc,iBAAmB7Q,GAAS2C,WAAa,GAC3D,CAEA,GAAIhV,IAAc,SAAWuT,EAAgB,CACzCE,EAAesD,SAASI,UAAUjC,aAAegO,GACjD,GAAIzP,EAAesD,SAASI,UAAUzT,OAAS,aAAc,CACzD+P,EAAesD,SAASI,UAAUjC,aAAe,QAAU+N,GAAgB,GAC/E,CACJ,CAEAnU,EAAsB6E,EAAmBtQ,EAAQ,aACjDyL,EAAsB8E,EAAiBvQ,EAAQ,WAG/C,GAAIO,EAAwB,CACxB,IAAIuf,GAAgB/U,EAAY,GAAG1H,UAAUzB,aAE7C,GAAInC,GAAUqgB,IAAe5oB,EAAUQ,iBAAmB,aAAe+H,GAAUqgB,IAAe,sDAAuD,CACrJ1P,EAAe2P,SAASC,OAAS,CAAC,OAAQ,QAC9C,MAAO,GAAIvgB,GAAUqgB,IAAe5oB,EAAUQ,iBAAmB,eAAiB+H,GAAUqgB,IAAe,wDAAyD,CAChK1P,EAAe2P,SAASC,OAAS,CAAC,OAAQ,UAC9C,MAAO,GAAIvgB,GAAUqgB,IAAe5oB,EAAUQ,iBAAmB,YAAc+H,GAAUqgB,IAAe,qDAAsD,CAC1J1P,EAAe2P,SAASC,OAAS,CAAC,OAAQ,OAC9C,MAAO,GAAIvgB,GAAUqgB,IAAe5oB,EAAUQ,iBAAmB,QAAU+H,GAAUqgB,IAAe,iDAAkD,CAClJ1P,EAAe2P,SAASC,OAAS,CAAC,OACtC,CACJ,CAEAvX,EAASM,iBAAiBqH,GAC1B,GAAIjH,GAAeA,EAAYhK,YAAY,oBAAqB,CAC5D,IAAIiK,GAAOX,GAAYA,EAASY,QAChC,IAAI4W,GAAqBnpB,EAAM,CAAC,EAAGsZ,GACnC,GAAImG,KAA6BlZ,UAAW,CACxC4iB,GAAmBvM,SAASoB,eAAiByB,EACjD,CACAtf,EAAqBqS,kBAAkBF,GAAM6W,GACjD,CACJ,CAEA,SAAS1C,GAAsB9d,EAAWgJ,EAAU0Q,GAChD,IAAIzQ,EAAW,GACf,GAAIjJ,GAAaA,EAAU0Z,GAAW,CAClC,GAAI1Z,EAAU0Z,GAAUjiB,EAAUE,cAAe,CAE7CsR,EAAWmG,GACPpP,EAAU0Z,GAAUjiB,EAAUE,cAAc+L,OACtC1D,EAAU0Z,GAAUjiB,EAAUE,cAAc+L,OAC5C1D,EAAU0Z,GAAUjiB,EAAUE,cAAcsL,KAClD+F,EACAhJ,EAER,MAAO,GAAIA,EAAU0Z,GAAUjiB,EAAUC,WAAY,CACjDuR,EAAWjJ,EAAU0Z,GAAUjiB,EAAUC,UAC7C,MAAO,GAAIgiB,EAAU,CACjBzQ,EAAWyQ,CACf,CACJ,CACA,OAAOzQ,CACX,CAEA,SAASwX,GAAiBzX,EAAU0X,EAASnQ,GACzC,GAAIvH,IAAaA,EAASG,eAAiB,UAAYH,EAASG,eAAiB,WAAY,CACzF,MACJ,CACA,IAAIO,EAAahH,EAAkBgI,EAAW8F,EAC9C,IAAI7B,EACJ,IAAI1P,EAAUxH,EAAUS,SACxB,IAAIgH,EAAyBzH,EAAUU,wBACvC,IAAIgH,EAAkB1H,EAAUW,iBAChC,IAAIuG,EACJ,IAAIgiB,EAAc,GAElB,KAAMjX,EAAcV,EAASE,SAAS,sBAAuB,CACzDxM,EAAQW,MACJjE,EAAcE,WAAa,MAAQF,EAAcoB,YAAcpB,EAAc6B,eAEjF,MACJ,CAEA,IAAIqC,EAAY0L,EAASE,WACzB,IAAIpK,EAAY4K,EAAYhK,YAAY,cACxC,IAAKpC,IAAcwB,EAAW,CAC1B,MACJ,CACA4D,EAAmBgH,EAAYhK,YAAY,eAC3C,IAAKgD,EAAkB,CACnBhG,EAAQW,MAAMjE,EAAcI,gBAAkB,MAAQJ,EAAcmB,WACpE,MACJ,CACA,IAAIyF,EAAYC,GAAY3C,EAAWwB,GACvC4L,EAAYhB,EAAYhK,YAAY,wBACpC,IAAKgL,KAAe8F,EAAe9N,EAAiBgI,IAAa,CAC7DhO,EAAQW,MAAMjE,EAAcI,gBAAkB,MAAQJ,EAAcmB,WACpE,MACJ,CAEA,KAAMoU,EAAY6B,EAAamB,qBAAuBhD,EAAUpN,OAAQ,CACpE7E,EAAQW,MACJjE,EAAcK,iBACd,MACAL,EAAciB,WACd,IACAjB,EAAcoC,oBAElB,MACJ,CAEApE,EAAKuX,EAAW,SAAU1M,EAAGU,GACzBhE,EAAMgE,EAAEC,QAAQT,aAChB,GAAIQ,EAAEE,WAAaF,EAAEE,UAAUC,eAAgB,CAC3C,IAAIC,EAA0BL,EAAiBC,EAAEE,UAAUC,eAAeL,UAAU,IACpF,GACIM,EAAwBC,gBACvBD,EAAwBC,cAAcb,cAAgBY,EAAwBC,cAAcC,MAC/F,CACE0d,EAAYve,KACRW,EAAwBC,cAAcb,cACtCY,EAAwBC,cAAcC,KAE9C,CACJ,CACA0d,EAAYve,KAAKzD,EACrB,GAEA,IAAI4gB,EAASmB,EAAUA,EAAQE,QAAU,KACzC,IAAIC,EAAW,GACf,IAAIC,EAAoB,KACxB,IAAIC,EAAe,GAEnB,IAAI/a,EAAQgD,EAASI,WAErBhS,EAAK4O,EAAO,SAAU/D,EAAGoW,GACrB,GAAIA,EAAKyD,YAAc,UAAW,CAC9BiF,EAAeA,EAAa/c,OAAOqU,EAAKlS,YAC5C,CACJ,GAEA,GAAIoZ,EAAQ,CACRnoB,EAAKupB,EAAa,SAAU1e,EAAGyX,GAC3B,IAAIzQ,EAAW6U,GAAsB9d,EAAWgJ,EAAU0Q,GAC1D,IAAKqH,EAAe3d,MAAMC,UAAUC,QAAQC,KAAKwd,EAAc9X,IAAa,KAAO,EAAG,CAClF,GAAIjJ,GAAaA,EAAU0Z,GAAW,CAClC,IAAIvW,EAEJ,GAAInD,EAAU0Z,GAAUxa,GAAyB,CAE7CiE,EAAWnD,EAAU0Z,GAAUxa,GAAwB+D,KACjDjD,EAAU0Z,GAAUxa,GAAwB+D,KAC5CjD,EAAU0Z,GAAUxa,GAAwBwE,MACtD,MAAO,GAAI1D,EAAU0Z,GAAUva,GAAkB,CAC7CgE,EAAWnD,EAAU0Z,GAAUva,GAAiB8D,KAC1CjD,EAAU0Z,GAAUva,GAAiB8D,KACrCjD,EAAU0Z,GAAUva,GAAiBuE,MAC/C,MAAO,GAAI1D,EAAU0Z,GAAUza,GAAU,CACrCkE,EAAWnD,EAAU0Z,GAAUza,EACnC,CACA,IAAKkE,EAAU,CACX2d,EAAoB,MACpB,OAAO,KACX,CACA,GAAI3d,GAAYnD,EAAUmD,GAAW,CACjC,IAAK,IAAIlB,EAAI,EAAGA,EAAIsd,EAAOhe,OAAQU,IAAK,CACpC,IAAI+e,EAAUzB,EAAOtd,GACrB,GAAI6e,EAAmB,CACnB,GACID,GACAG,EAAQ7d,IACR6d,EAAQ7d,IAAa,IACrB0d,GAAY,IACZA,GAAYG,EAAQ7d,GACtB,CACE2d,EAAoB,MACpB,KACJ,CACJ,CACAD,EAAWG,EAAQ7d,GACnB,IAAK0d,EAAU,CACXC,EAAoB,MACpB,KACJ,CACJ,CACJ,CACJ,CACJ,CACJ,EACJ,CAEA,IAAIG,EAAoB,GAExB,GAAIH,EAAmB,CACnB,GAAID,GAAY,GAAI,CAChBI,EAAoB/pB,EAAamY,QAAQ,cAAe,CAACwR,IACzDI,EAAoB,IAAMA,CAC9B,CACA,GAAI1Q,EAAY,CACZA,EAAW2Q,QAAQD,GACnB1Q,EAAW4Q,KAAK,aAAcF,EAAmB,MAGjD,IAAIG,EAAmBpY,EAASmY,KAAK,cACrC,GAAIC,GAAoBH,GAAqBG,EAAiB9d,QAAQ2d,MAAwB,EAAG,CAC7F,IAAII,EAA0BD,EAAmBH,EACjDjY,EAASmY,KAAK,aAAcE,EAAyB,KACzD,CACJ,CACJ,CACJ,CAKA,SAASjS,GAA2BnG,EAAUD,EAAUhJ,GACpD,IAAIshB,EACJ,IAAIC,EACJ,IAAIC,EACJ,GAAIvY,GAAYA,EAAS3F,QAAQ,OAAS,EAAG,CACzC2F,EAAWA,EAASsP,MAAM,GAAI,GAC9B,GAAItP,EAAS3F,QAAQ,OAAS,EAAG,CAC7Bke,EAAQvY,EAASxL,MAAM,KACvB6jB,EAAqBE,EAAM,GAC3BD,EAAgBC,EAAM,EAC1B,MAAO,GAAIvY,EAAS3F,QAAQ,UAAY,EAAG,CACvCke,EAAQvY,EAASxL,MAAM,QACvB6jB,EAAqBE,EAAM,GAC3BD,EAAgBC,EAAM,EAC1B,CAEA,IACIvY,EAAWD,EAASE,SAASoY,GAAoB5hB,YAAY6hB,EAIjE,CAHE,MAAOE,GACLxY,EAAWjJ,EAAUiJ,GAAUxR,EAAUE,cAAc+L,OACvDhH,EAAQW,MAAM,2CAA4CokB,EAC9D,CACJ,CACA,OAAOxY,CACX,CAKA,SAAShJ,GAAYyhB,EAAO5iB,GACxB,IAAIwN,EAAMjW,EAAMsrB,mBAAmBD,GACnC,IAAKpV,EAAK,CACN,OAAO1O,SACX,CACA,OAAO0O,EAAIxN,EACf,CAEA,SAASmgB,GAAuBpG,EAAYC,EAAcvI,GACtD,IAAIqR,EAAM,GACNC,EAAa,GACbC,EAAe,GACnB,GAAIvR,EAAY,CACZqR,EAAMrR,EAAWlB,SACrB,CAEA,GAAIwJ,GAAcA,EAAWtX,OAAS,EAAG,CACrC,IAAK,IAAIU,EAAI,EAAGA,EAAI4W,EAAWtX,OAAS,EAAGU,IAAK,CAC5C,GAAI4f,GAAc,GAAI,CAClBA,GAAc,IAClB,CACAA,GAAchJ,EAAW5W,EAC7B,CACA4f,EAAa3qB,EAAamY,QAAQ,iBAAkB,CAACwS,EAAYhJ,EAAW5W,IAChF,MAAO,GAAI4W,EAAY,CACnBgJ,EAAahJ,EAAW,EAC5B,CAEA,GAAIC,GAAgBA,EAAavX,OAAS,EAAG,CACzC,IAAK,IAAIU,EAAI,EAAGA,EAAI6W,EAAavX,OAAS,EAAGU,IAAK,CAC9C,GAAI6f,GAAgB,GAAI,CACpBA,GAAgB,IACpB,CACAA,GAAgBhJ,EAAa7W,EACjC,CACA6f,EAAe5qB,EAAamY,QAAQ,iBAAkB,CAACyS,EAAchJ,EAAa7W,IACtF,MAAO,GAAI6W,EAAc,CACrBgJ,EAAehJ,EAAa,EAChC,CAEA,GAAIvI,GAAcqR,IAAQ,GAAI,CAC1BA,EAAM1qB,EAAamY,QAAQ,iBAAkB,CAACwS,EAAYC,IAC1DvR,EAAW2Q,QAAQU,GACnBrR,EAAW4Q,KAAK,aAAcS,EAAK,KACvC,CACJ,CAEA,SAAS7C,GAAalP,EAAe6I,GACjC,IAAIqJ,EAAM,EACV,IAAIC,EACJ,GAAItJ,EAAY,CACZ,IAAI7Q,EAAiBrR,EAAasR,oBAAoB,CAClDP,MAAO,QACPG,aAAc,MACdC,eAAgBkI,IAEpBmS,EAAYna,EAAeb,OAAON,OAAOqb,GAC7C,KAAO,CACH,IAAI1a,EAAe7Q,EAAa8Q,iBAAiB,CAC7CC,MAAO,QACPI,eAAgBkI,IAEpBmS,EAAY3a,EAAaL,OAAON,OAAOqb,GAC3C,CAEA,IAAIjD,EAAYkD,EAAUzJ,OAAO,GACjC,OAAOuG,CACX,CAEA,SAASmD,GAAqBjZ,EAAUkZ,GACpClZ,EAASmZ,iBAAiB,SAAUhX,GAChC,IAAIiX,EAAWjrB,EAASkrB,aAAelrB,EAASM,UAAU6qB,QAAUnrB,EAASM,UAAU8qB,QACvFprB,EAASkrB,aAAe,MAExB,IAAI3Y,EAAcV,EAASE,SAAS,qBACpC,IAAI5L,EAAY0L,EAASE,WACzB,IAAIpK,EAAY4K,EAAYhK,YAAY,cACxC,IAAIM,EAAYC,GAAY3C,EAAWwB,GACvC,IAAI0jB,EAAsB,GACtBhQ,EAAa,GACjB,IAAIiQ,EAAkB,CAAC,EACnBC,EAAiB,CAAC,EACtB,IAAIC,EAAgB3Z,EAASyQ,aAAamJ,gBAC1C,IAAIC,EAEJ,IAAK,IAAI5gB,EAAI,EAAGA,EAAI0gB,EAAcphB,OAAQU,IAAK,CAC3CugB,EAAoBpgB,KAAKugB,EAAc1gB,GAAG6gB,UAC9C,CAEA,IAAIC,EAAU/Z,EACTyQ,aACAuJ,WAAW,QACXC,qBACA3W,IAAI,SAAU4W,GACX,OAAOA,EAAEC,WACb,GAEJ,GACIhY,EAAOiY,aAAa,SACpBjY,EAAOiY,aAAa,QAAQ,IAC5BjY,EAAOiY,aAAa,QAAQ,GAAGjC,KACjC,CACE3O,EAAa2D,OAAOC,KAAKjL,EAAOiY,aAAa,QAAQ,GAAGjC,MACxD0B,EAAgB1X,EAAOiY,aAAa,QAAQ,GAAGjC,KAAKkC,oBACpD,IAAI3U,EAAW1F,EAASyQ,aAAauJ,WAAW,QAAQM,cAAcT,GACtE,IAAIU,EAAmBrB,EAAWsB,2BAA2B9U,GAAU,GACvE,GAAIqU,EAAQF,GAAeY,WAAaV,EAAQF,GAAeY,YAAc,KAAM,CAC/E,IAAIC,EAA4B,CAAC,EAC7BC,EAAmB,GAEvB,IAAK,IAAIte,EAAI,EAAGA,EAAImd,EAAoBjhB,OAAQ8D,IAAK,CACjD,IAAK,IAAIpB,EAAI,EAAGA,EAAIuO,EAAWjR,OAAQ0C,IAAK,CACxC,GAAIue,EAAoBnd,KAAOmN,EAAWvO,GAAI,CAC1C,IAAK,IAAIxD,KAAOT,EAAW,CACvB,GAAIA,EAAUmB,eAAeV,GAAM,CAC/B,IAAIyY,EACAlZ,EAAUS,GAAKhJ,EAAUC,YACzBsI,EAAUS,GAAKhJ,EAAUa,WACzB0H,EAAUS,GAAKhJ,EAAUc,cAC7B,GAAI2gB,IAAiB1G,EAAWvO,GAAI,CAChC0f,EAAiBvhB,KAAK3B,EAC1B,CACJ,CACJ,CACJ,CACJ,CACJ,CAEA,IAAK,IAAIwB,EAAI,EAAGA,EAAI0hB,EAAiBpiB,OAAQU,IAAK,CAC9CyhB,EAA0BC,EAAiB1hB,IAAM,GACjD,IAAK,IAAIoD,EAAI,EAAGA,EAAI0d,EAAQxhB,OAAS,EAAG8D,IAAK,CACzC,GAAIA,GAAKwd,EAAe,CACpBa,EAA0BC,EAAiB1hB,IAAIG,KAC3C2gB,EAAQ1d,GAAGse,EAAiB1hB,IAEpC,CACJ,CACJ,CAEA,IAAI2hB,EAAc,CAAEH,UAAW,MAC/B,IAAII,EAAU,CACVV,UAAW,WACP,OAAOS,CACX,EACAE,6BAA8B,WAC1B,OAAOJ,CACX,GAEJ,GAAI7sB,EAAkBya,iBAAiB4Q,GAAa,CAChD,GAAIA,EAAW6B,qBAAsB,CAEjCntB,EAAYotB,iBAAiBH,EACjC,CACJ,KAAO,CACH,GAAIN,EAAkB,CAClBrB,EAAW+B,aAAaJ,EAASN,EAAkBnB,EACvD,CACJ,CACJ,KAAO,CACH,IAAK,IAAI/c,EAAI,EAAGA,EAAImd,EAAoBjhB,OAAQ8D,IAAK,CACjD,IAAK,IAAIpB,EAAI,EAAGA,EAAIuO,EAAWjR,OAAQ0C,IAAK,CACxC,GAAIue,EAAoBnd,KAAOmN,EAAWvO,GAAI,CAC1C,IAAK,IAAIxD,KAAOT,EAAW,CACvB,GAAIA,EAAUmB,eAAeV,GAAM,CAC/B,IAAIyY,EAAgBlZ,EAAUS,GAAKhJ,EAAUE,eAAiBqI,EAAUS,GAAKhJ,EAAUE,cAAc+L,QACjG1D,EAAUS,GAAKhJ,EAAUC,YACzBsI,EAAUS,GAAKhJ,EAAUa,WACzB0H,EAAUS,GAAKhJ,EAAUc,cAC7B,GAAI2gB,EAAagL,MAAM,gBAAiB,CAEpC,IAAIC,EAAMC,KAAKlb,SAAS,SAASmb,oBACjCnL,EAAeiL,EAAI9U,QAAQ6J,EAAazW,UAAUyW,EAAa5V,QAAQ,KAAO,EAAG4V,EAAa3X,OAAS,GAC3G,CACA,GAAI2X,IAAiB1G,EAAWvO,GAAI,CAChCwe,EAAgBhiB,GAAOsiB,EAAQF,GAAepiB,EAClD,CACJ,CACJ,CACJ,CACA,IAAK,IAAIA,KAAOsiB,EAAQF,GAAgB,CACpC,GAAI7iB,EAAUmB,eAAeV,GAAM,CAC/BiiB,EAAejiB,GAAOsiB,EAAQF,GAAepiB,EACjD,CACJ,CACJ,CACJ,CAGA,GAAIgiB,EAAiB,CACjBrrB,EAAK+e,OAAOC,KAAKqM,GAAkB,SAAUxgB,EAAGxB,GAC5C,GAAIT,EAAUS,GAAK,UAAY,aAAc,CACzC,GAAIT,EAAUS,GAAK,mBAAqB,aAAeT,EAAUS,GAAK,sDAAuD,CACzHgiB,EAAgBhiB,GAAOgiB,EAAgBhiB,GAAKyH,cAAgBC,KAClD1R,EAAW4R,oBAAoB,CAAEpB,QAAS,WAAYD,OAAOyb,EAAgBhiB,IAC7EgiB,EAAgBhiB,EAC9B,MAAO,GAAIT,EAAUS,GAAK,mBAAqB,eAAiBT,EAAUS,GAAK,wDAAyD,CACpIgiB,EAAgBhiB,GAAOgiB,EAAgBhiB,GAAKyH,cAAgBC,KAClD1R,EAAW4R,oBAAoB,CAAEpB,QAAS,UAAWD,OAAOyb,EAAgBhiB,IAC5EgiB,EAAgBhiB,EAC9B,MAAO,GAAIT,EAAUS,GAAK,mBAAqB,YAAcT,EAAUS,GAAK,qDAAsD,CAC9HgiB,EAAgBhiB,GAAOgiB,EAAgBhiB,GAAKyH,cAAgBC,KAClD1R,EAAW4R,oBAAoB,CAAEpB,QAAS,WAAYD,OAAOyb,EAAgBhiB,IAC7EgiB,EAAgBhiB,EAC9B,MAAO,GAAIT,EAAUS,GAAK,sDAAwDT,EAAUS,GAAK,qDAAqD8B,KAAM,CACxJ,IAAI+hB,EAAc7B,EAAgBhiB,GAClC,GAAI6jB,EAAYC,SAAS,KAAM,CAC3B9B,EAAgBhiB,GAAO6jB,EAAY7mB,MAAM,KAAK+mB,UAAUrgB,KAAK,GACjE,MAAO,GAAImgB,EAAYC,SAAS,KAAM,CAClC9B,EAAgBhiB,GAAO6jB,EAAY7mB,MAAM,KAAK+mB,UAAUrgB,KAAK,GACjE,CACJ,CACJ,CACJ,EACJ,CAEA,GAAIue,EAAgB,CAChBtrB,EAAK+e,OAAOC,KAAKsM,GAAiB,SAAUzgB,EAAGxB,GAC3C,GAAIT,EAAUS,GAAK,UAAY,aAAc,CACzC,GAAIT,EAAUS,GAAK,mBAAqB,aAAeT,EAAUS,GAAK,sDAAuD,CACzHiiB,EAAejiB,GAAOiiB,EAAejiB,GAAKyH,cAAgBC,KAChD1R,EAAW4R,oBAAoB,CAAEpB,QAAS,WAAYD,OAAO0b,EAAejiB,IAC5EiiB,EAAejiB,EAC7B,MAAO,GAAIT,EAAUS,GAAK,mBAAqB,eAAiBT,EAAUS,GAAK,wDAAyD,CACpIiiB,EAAejiB,GAAOiiB,EAAejiB,GAAKyH,cAAgBC,KAChD1R,EAAW4R,oBAAoB,CAAEpB,QAAS,UAAWD,OAAO0b,EAAejiB,IAC3EiiB,EAAejiB,EAC7B,MAAO,GAAIT,EAAUS,GAAK,mBAAqB,YAAcT,EAAUS,GAAK,qDAAsD,CAC9HiiB,EAAejiB,GAAOiiB,EAAejiB,GAAKyH,cAAgBC,KAChD1R,EAAW4R,oBAAoB,CAAEpB,QAAS,WAAYD,OAAO0b,EAAejiB,IAC5EiiB,EAAejiB,EAC7B,MAAO,GAAIT,EAAUS,GAAK,sDAAwDT,EAAUS,GAAK,qDAAqD8B,KAAM,CACxJ,IAAI+hB,EAAc5B,EAAejiB,GACjC,GAAI6jB,EAAYC,SAAS,KAAM,CAC3B7B,EAAejiB,GAAO6jB,EAAY7mB,MAAM,KAAK+mB,UAAUrgB,KAAK,GAChE,MAAO,GAAImgB,EAAYC,SAAS,KAAM,CAClC7B,EAAejiB,GAAO6jB,EAAY7mB,MAAM,KAAK+mB,UAAUrgB,KAAK,GAChE,CACJ,CACJ,CACJ,EACJ,CAGA,IAAIC,EAAcsF,EAAYhK,YAAY,eACtC3C,EAAuBqH,EAAYsF,EAAYhK,YAAY,gCAC/D,GAAI0E,EAAa,CACb,IAAIG,EAAgBhO,EAAqBiO,iBAAiBzH,GAC1D,GAAIwH,GAAiBA,EAAchD,OAAS,EAAG,CAC3CnK,EAAKmN,EAAe,SAAUtC,EAAGwC,GAC7B,IAAKge,EAAgBthB,eAAesD,GAAI,CACpCge,EAAgBhe,GAAKse,EAAQF,GAAepe,EAChD,CACJ,EACJ,CACJ,CAEA,IAAIof,EAAU,CACVV,UAAW,WACP,OAAOV,CACX,EAEAgC,WAAY,WACR,OAAO/B,CACX,GAGJ,GAAI7rB,EAAkBya,iBAAiB4Q,GAAa,CAChD,GAAIA,EAAW6B,qBAAsB,CAEjCntB,EAAYotB,iBAAiBH,EACjC,CACJ,KAAO,CACH,GAAIN,EAAkB,CAClBrB,EAAW+B,aAAaJ,EAASN,EAAkBnB,EACvD,CACJ,CACJ,CACJ,CACJ,EACJ,CAEA,SAASsC,GAAiBxnB,GACtB,GAAIA,EAAUM,WAAWqR,SAAS,UAAW,CACzC,OAAO,IACX,KAAO,CACH,OAAO,KACX,CACJ,CAEA,SAAS8V,GAAmBnS,GACxB,IAAIrV,EAAM,MACV,IACKqV,GACDA,EAAWtK,aAAe9E,OAC1BoP,EAAWjR,OAAS,GACpBiR,EAAW,GAAGtK,aAAeiO,SAC5B3D,EAAW,GAAG5O,YACd4O,EAAW,GAAG5O,UAAUzB,aAC3B,CACEzF,EAAQW,MAAMjE,EAAcK,iBAAmB,MAAQL,EAAciB,WAAa,IAAMjB,EAAcmC,sBACtG,OAAO4B,CACX,CACAA,EAAM,KACN,OAAOA,CACX,CAEA,SAASynB,GAAiBnS,GACtB,IAAItV,EAAM,MACV,IACKsV,GACDA,EAASvK,aAAe9E,OACxBqP,EAASlR,OAAS,GAClBkR,EAAS,GAAGvK,aAAeiO,SAC1B1D,EAAS,GAAG7P,UACZ6P,EAAS,GAAG7P,QAAQT,aACvB,CACEzF,EAAQW,MAAMjE,EAAcK,iBAAmB,MAAQL,EAAciB,WAAa,IAAMjB,EAAcoC,oBACtG,OAAO2B,CACX,CACAA,EAAM,KACN,OAAOA,CACX,CAEA,SAAS0nB,GAAahoB,GAClB,OAAOA,EAAWiD,IACtB,CAEA,SAASglB,GAAuBC,GAC5B,GAAIA,GAAkBA,EAAezhB,QAAQ,OAAS,EAAG,CACrD,IAAI0hB,EAASD,EAAetnB,MAAM,KAClC,GAAIunB,EAAOzjB,OAAS,EAAG,CACnB,OAAOyjB,EAAO,EAClB,CACJ,CACA,MAAO,EACX,CAQA,SAASC,GAAoBC,EAAelc,GACxC,IAAIU,EAAcV,EAASE,SAAS,qBACpC,IAAIic,EAAiBC,GAAYpc,GACjC,IAAItK,GAAYymB,EAAeE,YAC/B,IAAIpkB,GAAYyI,EAAYhK,YAAY,aACxC,GAAIhB,GAAYuC,EAAU,CACtB,IAAIb,EAAgB8kB,EAAc/kB,QAAU,EAC5C,GAAIC,GAAiB,EAAG,CACpB1B,GAAYuC,EAAWb,EACvBklB,GAA+Btc,EAAUtK,EAC7C,CACJ,CACJ,CAQA,SAAS0mB,GAAYpc,GACjB,IAAIU,EAAcV,EAASE,SAAS,qBACpC,IAAIxG,EAAmBgH,EAAYhK,YAAY,eAC/C,IAAI6lB,EAAmB7b,EAAYhK,YAAY,+BAC/C,IAAI8lB,EACA9iB,EAAiBvB,eAAeokB,IAAqB7iB,EAAiB6iB,GAC1E,IAAI/mB,EAAcgnB,GAAuBA,EAAoB/mB,SAC7D,GAAID,EAAa,CACb,IAAIE,EAAWF,EAAYa,MAAQb,EAAYa,MAAQb,EAAYc,IACnE,MAAO,CACH+lB,aAAc3mB,EACduC,UAAWyI,EAAYhK,YAAY,aAE3C,CACJ,CAQA,SAAS4lB,GAA+Btc,EAAUtK,GAC9C,IAAI+mB,EACAC,EAAa,CAAC,EACdC,EAAgB,GACpB,IAAIzoB,EAAY8L,EAASG,aACzB,IAAIO,EAAcV,EAASE,SAAS,qBACpC,IAAIxG,EAAmBgH,EAAYhK,YAAY,eAC/C,IAAIgL,EAAYhB,EAAYhK,YAAY,wBACxC,IAAI8Q,EAAe9N,EAAiBgI,GACpC,IAAIkb,EAAiB5c,EAAS6c,YAC9B,IAAIC,EAAcF,EAAe5C,WAAW,QAC5C0C,EAAW9lB,KAAOkmB,EAAYC,UAC9BL,EAAWM,WAAa,CAAC,EACzB,GAAIF,EAAYG,aAAeH,EAAYG,YAAYC,OAAQ,CAC3DR,EAAWM,WAAWE,OAASJ,EAAYG,YAAYC,MAC3D,CACAR,EAAWM,WAAWG,OAAST,EAAWM,WAAWG,QAAU,CAAC,EAChET,EAAWM,WAAWG,OAAOC,aAAe,eAC5CV,EAAW3lB,QAAU+lB,EAAYO,oBACjCX,EAAWY,OAASR,EAAYS,SAChCb,EAAWnkB,OAASrE,IAAc,QAAUwB,EAAW,EAAIA,EAC3DgnB,EAAWc,SAAW,IAAIvvB,EAC1B2uB,EAAea,gBAAgB,OAAQf,GACvC,GAAIxoB,IAAc,QAAS,CACvB9F,EAAKoZ,EAAamB,kBAAmB,SAAU1P,EAAGU,GAC9CgjB,EAAcvjB,KAAKO,EAAEC,QAAQT,aACjC,GACAsjB,EAAiB,CAAC,EAClBA,EAAe7lB,KAAOkmB,EAAYC,UAClCN,EAAeO,WAAa,CAAC,EAC7BP,EAAeO,WAAWE,OAASP,EAAcxhB,KAAK,KACtDshB,EAAe1lB,QAAU+lB,EAAYO,oBACrCZ,EAAea,OAASR,EAAYS,SACpCd,EAAelkB,OAAS,EACxBkkB,EAAee,SAAW,IAAIvvB,EAC9B2uB,EAAea,gBAAgB,gBAAiBhB,EACpD,CACAG,EAAec,sBACnB,CAEA,SAASjJ,GAAmBkJ,GACxBA,EAAQC,KAAK,SAAUC,EAAQC,GAC3B,GAAID,EAAOjb,MAAQkb,EAAOlb,MAAO,CAC7B,OAAQ,CACZ,CACA,GAAIib,EAAOjb,MAAQkb,EAAOlb,MAAO,CAC7B,OAAO,CACX,CACA,OAAO,CACX,EACJ,CAEA,SAAS2R,GAAwBwJ,GAC7B,OAAOA,EAAOpR,QAAU/X,SAC5B,CAEA,SAASogB,GAAmBX,GACxB,OAAOA,EAAMM,cACjB,CAGA,MAAO,CACHlmB,UAAWA,EACX2B,cAAeA,EACfuD,YAAaA,EACbyJ,aAAcA,EACdO,iBAAkBA,EAClBE,gBAAiBA,EACjBkC,iBAAkBA,EAClBe,YAAaA,EACbS,0BAA2BA,EAC3BW,YAAaA,EACb5K,UAAWA,EACXS,iBAAkBA,EAClBgL,aAAcA,EACdW,kBAAmBA,EACnBS,0CAA2CA,EAC3C7K,UAAWA,EACX+N,mBAAoBA,GACpBoQ,iBAAkBA,GAClBxgB,YAAaA,GACbgiB,qBAAsBA,GACtByC,iBAAkBA,GAClBC,mBAAoBA,GACpBC,iBAAkBA,GAClBC,aAAcA,GACdC,uBAAwBA,GACxBG,oBAAqBA,GACrBG,YAAaA,GACbhW,2BAA4BA,GAEpC,EAAkB"}