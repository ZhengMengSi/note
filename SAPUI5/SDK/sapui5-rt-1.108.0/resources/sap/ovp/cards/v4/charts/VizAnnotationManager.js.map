{"version":3,"file":"VizAnnotationManager.js","names":["sap","ui","define","jQuery","Utils","CountMode","CardAnnotationHelper","NumberFormat","DateFormat","VizFormat","VizTooltip","CommonUtils","OVPCardAsAPIUtils","DimensionDefinition","MeasureDefinition","FeedItem","CoreElement","OvpResources","OVPUtils","each","merge","ovpLogger","isEmptyObject","constants","LABEL_KEY","LABEL_KEY_V4","TEXT_KEY","TEXT_KEY_V4","TEXT_ARRANGEMENT_ANNO","TYPE_KEY","DISPLAY_FORMAT_KEY","SEMANTICS_KEY","UNIT_KEY","UNIT_KEY_V4_ISOCurrency","UNIT_KEY_V4_Unit","CURRENCY_CODE","NAME_KEY","NAME_CAP_KEY","EDM_TYPE","EDM_INT32","EDM_INT64","SCATTER_CHARTTYPE","BUBBLE_CHARTTYPE","LINE_CHARTTYPE","COLUMNSTACKED_CHARTTYPE","VERTICALBULLET_CHARTTYPE","COLUMN_CHARTTYPE","BAR_CHARTTYPE","COMBINATION_CHARTTYPE","DONUT_CHARTTYPE","V4_ANNOTATION","errorMessages","CARD_WARNING","CARD_ERROR","DATA_ANNO_ERROR","CARD_ANNO_ERROR","CHART_ANNO_ERROR","INVALID_CHART_ANNO","ANALYTICAL_CONFIG_ERROR","CACHING_ERROR","INVALID_MAXITEMS","NO_DATASET","SORTORDER_WARNING","BOOLEAN_ERROR","IS_MANDATORY","IS_MISSING","NOT_WELL_FORMED","MISSING_CHARTTYPE","CHART_ANNO","DATA_ANNO","CARD_ANNO","CARD_CONFIG","CARD_CONFIG_ERROR","CARD_CONTAINER_ERROR","DATA_UNAVAIALABLE","CONFIG_LOAD_ERROR","INVALID_CHARTTYPE","INVALID_CONFIG","CONFIG_JSON","ENTER_INTEGER","NO_CARD_MODEL","ANNO_REF","INVALID_REDUNDANT","CHART_IS","CARD_CONFIG_JSON","ALLOWED_ROLES","DIMENSIONS_MANDATORY","MEASURES_MANDATORY","CARD_LEAST","CARD_MOST","FEEDS","MIN_FEEDS","FEEDS_OBTAINED","FEEDS_REQUIRED","INVALID_SEMANTIC_MEASURES","INVALID_IMPROVEMENT_DIR","INVALID_CRITICALITY","INVALID_DIMMEAS","INVALID_FORECAST","INVALID_TARGET","ERROR_MISSING_AXISSCALES","aSupportedDateSemantics","aSupportedChartTypesForSemanticColors","aSupportedChartTypesForStableColors","oGlobalEntityType","oLogger","isV4TimeSeriesSemantics","oDataModel","sEntitySet","dimensionName","semantics","getMetaModel","getObject","formatItems","iContext","oEntitySet","oSelectionVariant","oPresentationVariant","oDimensions","oMeasures","chartType","ret","getSetting","error","dataModel","chartEnumArr","$EnumMember","split","undefined","dimensionsList","aExpand","aAssociationKeys","aTempAssociationKeyArr","measuresList","aUnitMeasureList","requestList","sorterList","bParams","Parameters","bSorter","SortOrder","maxItemTerm","MaxItems","maxItems","tmp","sExpand","textPath","entitySet","textKey","textKeyV4","unitKey","unitKey_v4_isoCurrency","unitKey_v4_unit","oSelectItems","isNaN","parseInt","test","ovpCardProperties","aParameters","getProperty","oMetaModel","measureAggregate","path","resolveParameterizedEntitySet","$Type","filters","oMetadata","getMetadata","addInlineAnnotations","cardLayout","colSpan","colSpanOffset","allConfig","getConfig","config","reference","key","virtualEntry","time","type","toLowerCase","bSupportsTimeSemantics","hasTimeSemantics","default","dataStep","resize","hasOwnProperty","getFilters","length","JSON","stringify","entityTypeObject","i","m","Measure","$PropertyPath","DataPoint","AnnotationPath","datapointAnnotationPath","substring","ForecastValue","PropertyPath","Path","forecastProperty","push","unitCode","annotations","$Path","Array","prototype","indexOf","call","TargetValue","targetProperty","String","d","Dimension","aParts","getNavigationPrefix","getAssociationKeys","concat","k","splice","oSortAnnotationCollection","getSortAnnotationCollection","warning","sSorterValue","oSortOrder","sSortOrder","sSortBy","Property","includes","Descending","checkFlag","Bool","Boolean","aUniqueGroupByList","formGroupByList","s","join","measureAtrributeStrings","forEach","measureListElement","sMeasureAggregateAxis","measureAggregateAxis","measureAttriString","oEntityType","requestFields","getRequestFields","r","bCheckFilterPreference","checkFilterPreference","requiresIContext","sProperty","oAssociationEnd","getODataAssociationEnd","getODataEntityType","aGroupList","filter","list","index","aKeyObjects","targetKey","propertyRef","j","name","checkForecastMeasure","aMeasure","boolflag","realMeasure","oDatapoint","checkTargetMeasure","getSapLabel","value","v","getMeasureDimCheck","feeds","boolFlag","getUid","getValues","formatByType","sProp","sVal","typeKey","aNumberTypes","currentType","Number","returnDateFormat","date","formatChartAxes","reset","customFormatter","locale","format","pattern","patternArr","minFractionDigits","shortRef","numberFormat","getFloatInstance","style","maxFractionDigits","tooltipFormat","currencyCode","shortRefNumber","showScale","currencyFormat","getCurrencyInstance","search","percentFormat","getPercentInstance","constructor","Date","oDateFormat","getDateTimeInstance","getDateInstance","oMainController","getApp","bResetChartAxisFormatter","sLocaleTime","toLocaleTimeString","aLocaleTime","bUTC","numericFormatter","hideDateTimeAxis","vizFrame","feedName","getModel","getVizType","getFeeds","feedValues","setVizProperties","categoryAxis","title","visible","checkExists","term","annotation","bMandatory","logViewId","contentFragment","annoTerm","logger","ChartType","validateCardConfiguration","oController","selVar","chartAnno","preVar","idAnno","dPAnno","entityTypeData","oCardsModel","oView","getView","getId","getCardPropertiesModel","oEntitySetAnnotations","getData","$Annotations","checkNoData","oEvent","cardContainer","oChartType","aDimensions","dimensionType","displayFormat","sapSemantics","sapSemanticsV4","lastIndexOf","unshift","getChartType","checkRolesForProperty","queue","feedtype","queuedNames","val","allowedRoles","map","f","role","grep","getPrimitiveValue","oValue","isLegend","getBooleanValue","getNumberValue","bDefault","Int","Decimal","Double","Single","formThePathForCriticalityStateCalculation","oDataPoint","getPathOrPrimitiveValue","oItem","measureNames","CriticalityCalculation","ImprovementDirection","sImprovementDirection","EnumMember","deviationLow","DeviationRangeLowValue","deviationHigh","DeviationRangeHighValue","toleranceLow","ToleranceRangeLowValue","toleranceHigh","ToleranceRangeHighValue","_calculateCriticalityState","criticalityConstants","StateValues","state","Criticality","criticalTypeArr","mapMeasures","oContext","aMeasures","dataPointAnnotationPath","endsWith","sString","sSuffix","sImproveDirection","buildSemanticLegends","oMeasure","measureName","getLabelFromAnnotationPath","getText","checkNumberFormat","minValue","fractionDigits","fractionDigitsVal","ValueFormat","NumberOfFractionalDigits","getMaxScaleFactor","maxScaleValue","scaleF","ScaleFVal","ScaleFactor","isMeasureCurrency","sapUnit","checkEDMINT32Exists","checkEDMINT64Exists","buildVizAttributes","handler","chartTitle","chartContext","bShowDataLabel","bShowDataLabelCardsAsApi","oVizProperties","aQueuedProperties","aQueuedDimensions","aQueuedMeasures","aPropertyWithoutRoles","aDimensionWithoutRoles","aMeasureWithoutRoles","oDropdown","selectedKey","uiModel","oChartSettings","checkIfAPIIsUsed","showDataLabel","sEntityType","oEntitySetProperties","property","DimensionAttributes","aNumberOfFractionalDigits","MeasureAttributes","dpNumberOfFractionalDigits","chartProps","byId","getSelectedKey","bErrors","tooltipFormatString","toString","oTooltip","formatString","connect","getVizUid","_oOvpVizFrameTooltip","dimensions","measures","entry","oProperty","typeCue","min","max","bHideAxisTitle","properties","bDatapointNavigation","bDonutChart","removeAllAggregation","legend","isScrollable","interaction","noninteractiveMode","selectability","legendSelection","axisLabelSelection","mode","plotLassoSelection","plotStdSelection","zoom","enablement","plotArea","window","start","end","dataLabel","dataPoint","invalidity","alignment","vertical","label","truncatedLabelRatio","general","groupData","showAsUTC","semanticColor","goodLegend","badLegend","criticalLegend","othersLegend","legends","dataPointStyle","rules","callback","criticality","sState","Positive","color","displayName","Critical","Negative","None","bEnableStableColors","oColorPalette","colorPaletteDimension","Object","keys","oDimension","Role","aColorValues","aLegendTexts","legendText","othersCustomLegend","badCustomLegend","criticalCustomLegend","goodCustomLegend","bConsiderAnnotationScales","bIsMinMax","AxisScaling","RecordType","oAxisScaling","AutoScaleBehavior","oAutoScaleBehavior","ZeroAlwaysVisible","adjustScale","DataScope","ScaleBehavior","sEnumMember","sEnumMemberValue","sScaleType","aChartScales","sDataPointAnnotationPath","sDataPointPath","oMinMaxParams","MaximumValue","MinimumValue","feed","setVizScales","slice","minValCurr","maxScaleValueCurr","isCurrency","isNotCurrency","oVizPropertiesFeeds","measureArr","dimensionArr","uid","aFeedProperties","iPropertiesLength","propertyName","len","rolesByPrio","annotationRole","defaultRole","aFeeds","dataset","getDataset","textColumn","edmType","$String","displayBindingPath","oTextArrangement","sTextArrangementType","dimensionDefinition","displayValue","isV4CalendarYear","setDataType","addDimension","addMeasure","addFeed","values","text","configi","confignumberOfProperties","vizProperties","configpathToUse","configvalue","configlengthOfPathToUse","configtmp","manifestTmp","configcurrent","configj","numberOfProperties","attributeValue","methodToUse","pathToUse","method","lengthOfPathToUse","current","semanticPattern","getType","selectedValue","valueLabel","actualMeasure","forecastMeasure","forecastValue","actualValue","forecastValueName","dataContext","MeasureNamesDimension","lineType","lineColor","setValues","bColorRestriction","dimensionSettings","aDimensionPaths","sDimensionPath","oRules","aChartDimensions","bStableColoringByDimensionValue","sChartDimension","oColorRules","aDefinedRules","aColorRules","oRule","every","_fnCheckColorNotDefined","aRules","_sortColorsByIndex","sDimensionValue","dimensionValue","sColor","feedname","getFeednameByProperty","aDimensionsByOrder","_getDimensionValue","order","n","indexM","indexN","targetMeasure","targetValue","feedType","aFeedValues","isMeasureDecimal","aFeedValueContexts","measureAttr","sPropertyPath","oPropertyMetadata","contextMeasure","scaleUnit","getScaleUnit","setScale","setFormattedChartTitle","fmtStr","feedFractionalDigits","currentFeedType","oVizPropertiesFeed","singleFeed","result","trim","aPropertiesLabels","propertyLabel","trimmedPropertyLabel","currentMeasure","measureObject","measureProperty","currentMeasureObject","currentMeasureDPPath","tempFractionalDigits","formatStr","finalMinValue","chartFmtStr","timeDimension","timeAxis","levels","setChartUoMTitle","vizData","entityType","measureList","unitType","bSetChartUoMTitle","feedMeasures","objData","chartUnitTitleTxt","setText","data","labelForVizFrame","updatedLabelForVizFrame","sResourceModelName","sPropertyName","aTemp","err","model","cacheODataMetadata","txt","measureStr","dimensionStr","num","scaledNum","getSelectedDataPoint","controller","attachSelectData","sNavMode","bCRTLPressed","explace","inplace","dimensionArrayNames","finalDimensions","aCustomContext","dimensionsArr","getDimensions","contextNumber","getName","allData","getBinding","getCurrentContexts","x","getParameter","_context_row_number","getContexts","oNavigationField","getEntityNavigationEntries","$isOthers","aOtherNavigationDimension","aFinalDimensions","donutIntent","payLoad","getOtherNavigationDimensions","checkAPINavigation","onContentClicked","doNavigation","match","oRb","this","getResourceBundle","aAnnotations","sFiscalDate","reverse","getAllData","checkBubbleChart","dimensionAttrCheck","measureAttrCheck","getEntitySet","getAnnotationQualifier","annotationPath","tokens","reprioritizeContent","newCardLayout","cardPropObject","getMaxItems","itemsLength","updateBindingForAnalyticalCard","presentationAnno","presentationContext","newAggrBinding","newBinding","finalMeasures","vizFrameParent","getParent","dataBinding","getPath","parameters","mParameters","select","custom","_requestFrom","aApplicationFilters","sorter","aSorters","template","bindAggregation","updateBindingContext","Annotations","aColors","sort","oRule1","oRule2","oColor"],"sources":["VizAnnotationManager-dbg.js"],"mappings":"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"}