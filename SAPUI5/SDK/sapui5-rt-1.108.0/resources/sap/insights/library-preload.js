//@ui5-bundle sap/insights/library-preload.js
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 * This extension is for OVP Analytical cards delivered in 2208.
 */
sap.ui.predefine("sap/insights/CardExtension", ["sap/ui/integration/Extension","sap/ui/core/format/NumberFormat","sap/fe/navigation/SelectionVariant","sap/base/Log","sap/ui/core/format/DateFormat","sap/ui/core/ValueState","sap/m/ValueColor","sap/ui/integration/util/Utils","sap/m/DynamicDateUtil","sap/ui/core/Core","sap/fe/navigation/NavError","sap/insights/utils/UrlGenerateHelper"],function(e,t,r,a,i,n,o,s,f,l,c,u){"use strict";var g={StateValues:{None:"None",Negative:"Error",Critical:"Warning",Positive:"Success"},ColorValues:{None:"Neutral",Negative:"Error",Critical:"Critical",Positive:"Good"}};var v=a.getLogger("sap.insights.CardExtension");var p=function(e,t){return e&&e.indexOf(t,e.length-t.length)!==-1};var m=function(e,t){var r;if(t){r=t.None;if(e&&e.EnumMember){var a=e.EnumMember;if(p(a,"Negative")){r=t.Negative}else if(p(a,"Critical")){r=t.Critical}else if(p(a,"Positive")){r=t.Positive}}}return r};var d=function(e,t,r,a,i,n,o){var s={};s.EnumMember="None";var f=Number.NEGATIVE_INFINITY;var l=Number.POSITIVE_INFINITY;if(!i&&i!==0&&(r||r===0)){i=r}if(!n&&n!==0&&(a||a===0)){n=a}if(!r&&r!==0){r=f}if(!a&&a!==0){a=l}if(e!==undefined){e=Number(e);if(p(t,"Minimize")||p(t,"Minimizing")){if((n||n===0)&&(a||a===0)){if(e<=parseFloat(n)){s.EnumMember="Positive"}else if(e>parseFloat(a)){s.EnumMember="Negative"}else{s.EnumMember="Critical"}}}else if(p(t,"Maximize")||p(t,"Maximizing")){if((i||i===0)&&(r||r===0)){if(e>=parseFloat(i)){s.EnumMember="Positive"}else if(e<parseFloat(r)){s.EnumMember="Negative"}else{s.EnumMember="Critical"}}}else if(p(t,"Target")){if((n||n===0)&&(a||a===0)&&(i||i===0)&&(r||r===0)){if(e>=parseFloat(i)&&e<=parseFloat(n)){s.EnumMember="Positive"}else if(e<parseFloat(r)||e>parseFloat(a)){s.EnumMember="Negative"}else{s.EnumMember="Critical"}}}}return m(s,o)};var h=function(e,t,r,a){if(!e||!t){return}e=Number(e);if(!a&&e-t>=0){return"Up"}if(!r&&e-t<=0){return"Down"}if(t&&a&&e-t>=a){return"Up"}if(t&&r&&e-t<=r){return"Down"}};var b=function(e,r,a){var i=r||{},n=e;var o=t.getFloatInstance({minFractionDigits:i.NumberOfFractionalDigits,maxFractionDigits:i.NumberOfFractionalDigits,style:"short",showScale:true,shortRefNumber:n});var s=o.format(Number(n)),f=o.getScale()||"";if(!a&&s){var l=s[s.length-1];return l===f?s.slice(0,s.length-1):s}if(a&&i.percentageAvailable){return f+"%"}if(a&&!i.percentageAvailable){return f}return""};var N=function(){var e=this.getCard().getCombinedParameters();return e._headerDataUrl};var S=function(){var e=this.getCard().getCombinedParameters();return e._contentDataUrl};var D=function(e,r,a){var i,n,o;if(isNaN(+e)){return""}if(e==0){o=r}else{o=e}if(a.NumberOfFractionalDigits){n=+a.NumberOfFractionalDigits}if(r){i=r}else if(a.manifestTarget){i=a.manifestTarget}if(!n||n<0){n=0}else if(n>2){n=2}if(i){var s=t.getFloatInstance({minFractionDigits:n,maxFractionDigits:n,style:"short",showScale:true,shortRefNumber:o});return s.format(+i)}};var y=function(e,r,a){var i,n;if(isNaN(+e)){return""}e=+e;if(a.NumberOfFractionalDigits){i=+a.NumberOfFractionalDigits}if(r){n=+r}else if(a.manifestTarget){n=+a.manifestTarget}if(!i||i<0){i=0}else if(i>2){i=2}if(n){var o=(e-n)/n;var s=t.getPercentInstance({style:"short",minFractionDigits:i,maxFractionDigits:i,showScale:true});return s.format(o)}};var O=function(e){var t={};t.EnumMember="None";if(Number(e)===1){t.EnumMember="Negative"}else if(Number(e)===2){t.EnumMember="Critical"}else if(Number(e)===3){t.EnumMember="Positive"}return m(t,g.ColorValues)};var C=function(){var e=arguments[arguments.length-1];var t=1;return d(arguments[0],e.sImprovementDirection,e.bIsDeviationLowBinding?arguments[t++]:e.deviationLow,e.bIsDeviationHighBinding?arguments[t++]:e.deviationHigh,e.bIsToleranceLowBinding?arguments[t++]:e.toleranceLow,e.bIsToleranceHighBinding?arguments[t++]:e.toleranceHigh,e.oCriticalityConfigValues)};var I=function(){var e=arguments[arguments.length-1];var t=1;return h(arguments[0],e.bIsRefValBinding?arguments[t++]:e.referenceValue,e.bIsDownDiffBinding?arguments[t++]:e.downDifference,e.bIsUpDiffBinding?arguments[t++]:e.upDifference)};var P=function(e){var t;var r=arguments[arguments.length-1],a=r&&r.propertyType;switch(a){case"yearmonth":var i=parseInt(e.substr(0,4),10),n=e.substr(4),o=parseInt(n,10)-1;t=new Date(Date.UTC(i,o));break;case"yearquarter":var i=parseInt(e.substr(0,4),10),s=e.substr(4),f=parseInt(s,10)*3-2,o=f-1;t=new Date(Date.UTC(i,o));break;case"yearweek":var i=parseInt(e.substr(0,4),10),l=e.substr(4),c=1+(parseInt(l,10)-1)*7;t=new Date(Date.UTC(i,0,c));break;default:break}return t};var w=function(e,t){if(e){var r=s.parseJsonDateTime(e);return i.getInstance(t).format(new Date(r),t.bUTC)}};var E=function(e,r,a,i){var n;if(e){e.maxFractionDigits=e.numberOfFractionalDigits||0;e.minFractionDigits=e.numberOfFractionalDigits||0;e.style=e.style||"short";e.showScale=e.showScale||true;e.shortRefNumber=e.scaleFactor;n=t.getFloatInstance(e)}var o=[];if(!isNaN(parseFloat(a))&&n){o.push(n.format(a))}else{o.push(a)}if(!isNaN(parseFloat(i))&&n){o.push(n.format(i))}else{o.push(i)}var s="";if(r&&r.length){r.forEach(function(e){if(typeof e==="number"){s=s+o[e]}else{s=s+e}})}return s};var F=function(e,t){if(t==="state"){switch(String(e)){case"1":case"Error":return n.Error;case"2":case"Warning":return n.Warning;case"3":case"Success":return n.Success;case"4":case"Information":return n.Information;default:return n.None}}if(t==="color"){switch(String(e)){case"1":case"Error":return o.Error;case"2":case"Critical":return o.Critical;case"3":case"Good":return o.Good;case"4":case"Neutral":return o.Neutral;default:return o.None}}};var V=function(e,t){var r=this.getCard().getModel().getProperty("/content/d/results")||this.getCard().getModel().getProperty("/d/results")||[];return Math[t].apply(Math,r.map(function(t){return t[e]}))};var M=function(e,t,r){var a=1;var i=2;var n=4;for(var o in e){if(e.hasOwnProperty(o)){var s=e[o];if(s instanceof Date){s=s.toJSON()}else if(Array.isArray(s)||s&&typeof s==="object"){s=JSON.stringify(s)}else if(typeof s==="number"||typeof s==="boolean"){s=s.toString()}if(s===""){if(r&a){v.info("Semantic attribute "+o+" is an empty string and due to the chosen Suppression Behiavour is being ignored.");continue}}if(s===null){if(r&i){throw new v.error("NavigationHandler.INVALID_INPUT")}else{v.warning("Semantic attribute "+o+" is null and ignored for mix in to selection variant");continue}}if(s===undefined){if(r&n){throw new v.error("NavigationHandler.INVALID_INPUT")}else{v.warning("Semantic attribute "+o+" is undefined and ignored for mix in to selection variant");continue}}if(typeof s==="string"||s instanceof String){t.addSelectOption(o,"I","EQ",s)}else{throw new v.error("NavigationHandler.INVALID_INPUT")}}}return t};var T=function(e,t,a){var i=new r(t);var n=new r;if(i.getFilterContextUrl()){n.setFilterContextUrl(i.getFilterContextUrl())}if(i.getParameterContextUrl()){n.setParameterContextUrl(i.getParameterContextUrl())}if(Array.isArray(e)){e.forEach(function(e){M(e,n,a)})}else{M(e,n,a)}var o=i.getParameterNames();var s;for(s=0;s<o.length;s++){if(!n.getSelectOption(o[s])){n.addSelectOption(o[s],"I","EQ",i.getParameter(o[s]))}}var f=i.getSelectOptionsPropertyNames();for(s=0;s<f.length;s++){var l=i.getSelectOption(f[s]);if(!n.getSelectOption(f[s])){for(var c=0;c<l.length;c++){n.addSelectOption(f[s],l[c].Sign,l[c].Option,l[c].Low,l[c].High)}}}return n};function U(e){if(e){if(e.hasOwnProperty("SelectionVariantID")){delete e.SelectionVariantID}else if(e.hasOwnProperty("PresentationVariantID")){delete e.PresentationVariantID}delete e.Text;delete e.ODataFilterExpression;delete e.Version;delete e.FilterContextUrl;delete e.ParameterContextUrl;return e}return e}var x=function(e){try{if(JSON.parse(e)){return true}}catch(e){return false}};var A=function(e){var t=e&&e.length===1,r=e&&e[0];return t&&r["Option"]==="EQ"&&!r["High"]&&r["Low"]&&r["Sign"]==="I"};function H(e,t){var r=this.getCard().getManifestEntry("sap.card"),a=r&&r.configuration.parameters,i=new sap.fe.navigation.SelectionVariant,n=a._relevantODataFilters.value||[];e=e&&JSON.parse(e);var o=e&&e.sensitiveProps,s=r&&r.header.actions[0].parameters.ibnParams,f=r&&r.content.actions[0].parameters.ibnParams;n.forEach(function(e){var t=x(a[e].value);if(t&&!o[e]){var r=JSON.parse(a[e].value);var n=r.SelectOptions.Ranges;if(n&&n.length){var l=A(n);if(s[e]&&f[e]){if(l){s[e]=n[0].Low;f[e]=n[0].Low}else if(!l){delete f[e];delete s[e];i.massAddSelectOption(e,n)}}else{i.massAddSelectOption(e,n)}}}});if(t){var l=Object.keys(t)||[];for(var c=0;c<l.length;c++){if(o&&o[l[c]]||l[c]==="__metadata"){delete t[l[c]]}}var u=T(t,i&&i.toJSONObject());u=U(u.toJSONObject());e.selectionVariant=u}if(e&&e.sensitiveProps){delete e.sensitiveProps}return JSON.stringify(e)}var L=function(e){var t=i.getDateInstance({pattern:"''yyyy-MM-dd'T'HH:mm:ss.SSS'Z'''",calendarType:"Gregorian"});if(e){var r=t.format(e,true);return String(r).replace(/'/g,"")}};var J=function(e){var t=i.getDateInstance({pattern:"''yyyy-MM-dd'T'HH:mm:ss.SSS''",calendarType:"Gregorian"});var r=e instanceof Date?e:new Date(e);var a=t.format(r);return String(a).replace(/'/g,"")};var _=function(e,t,r){var a=[];if(e.operation==="DATE"&&e.value1){a=f.toDates({values:[e.value1],operator:e.operation})||[]}else{a=f.toDates({values:[],operator:e.operation})||[]}var i=a[0]&&a[0].oDate;var n=a[1]&&a[1].oDate;var o="",s="";if(e["sap:filter-restriction"]==="single-value"){if(e.type==="Edm.DateTime"&&i instanceof Date){o=J(i);if(o){t.massAddSelectOption(r,[{Sign:"I",Option:e.operator,Low:o,High:null}])}}else if(e.type==="Edm.String"){o=L(i);if(o){t.massAddSelectOption(r,[{Sign:"I",Option:e.operator,Low:o,High:null}])}}}else if(e["sap:filter-restriction"]==="interval"){if(e.type==="Edm.DateTime"){if(i instanceof Date){o=J(i)}if(n instanceof Date){s=J(n)}if(o&&s){t.massAddSelectOption(r,[{Sign:"I",Option:e.operator,Low:o,High:s}])}}else if(e.type==="Edm.String"){if(i instanceof Date){o=L(i)}if(n instanceof Date){s=L(n)}if(o&&s){t.massAddSelectOption(r,[{Sign:"I",Option:e.operator,Low:o,High:s}])}}}};function k(e){var t={};var a;if(typeof e==="string"){a=new r(e)}else if(typeof e==="object"){a=e}else{throw new c("NavigationHandler.INVALID_INPUT")}var i=a.getSelectOptionsPropertyNames();for(var n=0;n<i.length;n++){var o=a.getSelectOption(i[n]);if(o.length===1&&o[0].Sign==="I"&&o[0].Option==="EQ"){t[i[n]]=o[0].Low}}var s=a.getParameterNames();for(var n=0;n<s.length;n++){var f=a.getParameter(s[n]);t[s[n]]=f}return t}function j(e,t){var a=this.getCard().getManifestEntry("sap.card"),i=a&&a.configuration.parameters,n=new r,o=i._relevantODataFilters.value||[],s=i._mandatoryODataParameters.value||[],f=e&&JSON.parse(e)||{},l=f.parameters||{},c=l.ibnParams||{},u=c.sensitiveProps||{};var g={};s.forEach(function(e){var t=x(i[e].value);if(t&&!u[e]){var r=JSON.parse(i[e].value);if(r&&r.operation){_(r,n,e)}}});o.forEach(function(e){var t=x(i[e].value);if(t&&!u[e]){var r=JSON.parse(i[e].value);if(r&&r.operation){_(r,n,e)}else{var a=r.SelectOptions.Ranges||r.SelectOptions&&r.SelectOptions[0]&&r.SelectOptions[0].Ranges;if(a&&a.length){var o=A(a);if(o){c[e]=a[0].Low}else{if(c[e]&&!o){delete c[e]}n.massAddSelectOption(e,a)}}}}});var v=t||{};var p=Object.keys(v)||[];for(var m=0;m<p.length;m++){if(u&&u[p[m]]||p[m]==="__metadata"){delete v[p[m]]}}var d=T(v,n&&n.toJSONObject());var h=k(d);d=U(d.toJSONObject());if(c.presentationVariant){g["presentationVariant"]=c.presentationVariant}if(d.Parameters.length||d.SelectOptions.length){g["selectionVariant"]=d}if(!l.ibnParams){l.ibnParams={}}if(g["selectionVariant"]||g["presentationVariant"]){l.ibnParams["sap-xapp-state-data"]=JSON.stringify(g)}if(c&&c.sensitiveProps){delete c.sensitiveProps}for(var b in h){l.ibnParams[b]=h[b]}delete c.selectionVariant;delete c.presentationVariant;return f.parameters}function B(){var e={descriptorContent:{}};e.descriptorContent=this.getCard().getManifestEntry("/");var t=R(e,"header");return t}function G(){var e={descriptorContent:{}};e.descriptorContent=this.getCard().getManifestEntry("/");var t=e.descriptorContent["sap.card"]["configuration"]["csrfTokens"]["token1"].data.request.url;var r=R(e,"content");if(e.descriptorContent["sap.card"]["data"]["request"]&&e.descriptorContent["sap.card"]["data"]["request"]["batch"]){return r}return t+"/"+r}function R(e,t){var r=u.processPrivateParams(e);if(t==="header"&&r.header){return r.header}else if(t==="content"&&r.content){return r.content}}return e.extend("sap.insights.CardExtension",{init:function(){e.prototype.init.apply(this,arguments);this.setFormatters({kpiformatter:b,formatHeaderUrl:N.bind(this),formatContentUrl:S.bind(this),returnPercentageChange:y,targetValueFormatter:D,kpiValueCriticality:O,formatValueColor:C,formatTrendIcon:I,formatDateValue:P,addPropertyValueToAppState:H.bind(this),getNavigationContext:j.bind(this),formatDate:w,formatNumber:E,formatCriticality:F,getMinMax:V.bind(this),formatHeaderDataUrlForSemanticDate:B.bind(this),formatContentDataUrlForSemanticDate:G.bind(this)})},loadDependencies:function(){var e=this.getCard(),t=e.getManifestEntry("/sap.card/type");if(t!=="Analytical"){return Promise.resolve()}return l.loadLibrary("sap.viz",{async:true}).then(function(){return new Promise(function(e){sap.ui.require(["sap/insights/OVPChartFormatter"],function(t){t.registerCustomFormatters();e()})})})}})});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/CardHelper", ["sap/base/Log","sap/ui/model/json/JSONModel","sap/ui/core/Core"],function(e,r,t){"use strict";var a="/sap/opu/odata4/ui2/insights_srv/srvd/ui2/";var n=a+"insights_cards_repo_srv/0001/";var i="INSIGHTS_CARDS";var s=a+"insights_cards_read_srv/0001/"+i;var o="POST";var d="PUT";var c;var u=e.getLogger("sap.insights.CardHelper");var p=sap.ui.getCore().getLibraryResourceBundle("sap.insights");var l="sap.insights.preview.Preview",h="sap.insights.selection.Selection",f="sap.insights.selection.SelectionDialog",g="sap.insights.copy.Copy";function v(e){return n+i+"('"+e+"')"}function m(){return fetch(n,{method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}}).then(function(e){var r=e.headers.get("X-CSRF-Token");if(e.ok&&r){return r}w(p.getText("tokenFetchError"))})}function C(e,r,t){if([d,o].indexOf(t)===-1){w("Method not supported.")}var a=e["sap.app"].id;var s=t===d?v(a):n+i;e={descriptorContent:JSON.stringify(e),id:a};var c=JSON.stringify(e);return fetch(s,{method:t,headers:{"X-CSRF-Token":r,"content-type":"application/json;odata.metadata=minimal;charset=utf-8"},body:c}).then(function(e){return e.json()}).then(function(e){if(e.error){w(e.error.message)}return JSON.parse(e.descriptorContent)})}function y(e,r){var t=n+i+"/com.sap.gateway.srvd.ui2.insights_cards_repo_srv.v0001.setRank?";var a=JSON.stringify({changedCards:JSON.stringify(e)});return fetch(t,{method:o,headers:{"X-CSRF-Token":r,"content-type":"application/json;odata.metadata=minimal;charset=utf-8"},body:a}).then(function(e){return e.json()}).then(function(e){if(e.error){w(e.error.message)}e.value.forEach(function(e){if(e.descriptorContent){e.descriptorContent=JSON.parse(e.descriptorContent)}});return e.value})}function b(e){var r=e.split(".");if(r[0]!=="user"){w("sap.app.id value should start with user.<id>.")}}function S(e,r){return fetch(v(e),{method:"DELETE",headers:{"X-CSRF-Token":r}}).then(function(e){return e.ok?{}:e.json()}).then(function(r){if(r.error){w(r.error.message)}return e})}function T(){var e="sap.insights is not enabled for this system.";var r="ux.eng.s4producthomes1";try{var t=window["sap-ushell-config"];var a=t.apps.insights.enabled;var n=t.ushell.homeApp.component.name;var i=n===r;var s=t.ushell.spaces.myHome.enabled;if(a&&s&&i){return Promise.resolve(true)}return Promise.reject(new Error(e))}catch(r){return Promise.reject(new Error(e))}}function w(e){u.error(e);throw new Error(e)}function _(e){var r=false;if(!e["sap.app"]){u.error("Invalid card manifest. sap.app namespace do not exists.");r=true}if(!r&&!e["sap.app"].id){u.error("Invalid card manifest. sap.app.id do not exists.");r=true}if(!r){b(e["sap.app"].id,false)}if(!r&&!e["sap.app"].type){u.error("Invalid card manifest. sap.app.type do not exists.");r=true}if(!r&&e["sap.app"].type.toLowerCase()!=="card"){u.error("Invalid card manifest. invalid value for sap.app.type, expected card.");r=true}if(!r&&!e["sap.card"]){u.error("Invalid card manifest. sap.card namespace do not exists.");r=true}if(!r&&!e["sap.card"].type){u.error("Invalid card manifest. sap.card.type do not exists.");r=true}var t=["Analytical","List","Table"];if(!r&&t.indexOf(e["sap.card"].type)===-1){u.error("Invalid card manifest. Invalid value for sap.card.type. Supported types: "+t);r=true}if(!r&&!e["sap.insights"]){u.error("Invalid card manifest. sap.insights namespace do not exists.");r=true}if(!r&&!e["sap.insights"].parentAppId){u.error("Invalid card manifest. sap.insights.parentAppId do not exists.");r=true}if(!r&&!e["sap.insights"].cardType){u.error("Invalid card manifest. sap.insights.cardType do not exists.");r=true}if(!r&&e["sap.insights"].cardType!=="RT"){u.error("Invalid card manifest. Invalid value for sap.insights.cardType, supported value is RT");r=true}if(!r&&!e["sap.insights"].versions||!e["sap.insights"].versions.ui5){u.error("Invalid card manifest. Invalid value for sap.insights version");r=true}if(!r){var a,n,i,s=false,o=e["sap.card"].type;if(o==="Analytical"){a=e["sap.card"].content.actions||[];n=e["sap.card"].header.actions||[];a=a.filter(function(e){return e.type==="Navigation"&&e.parameters&&e.parameters.ibnTarget&&e.parameters.ibnTarget.semanticObject&&e.parameters.ibnTarget.action});n=n.filter(function(e){return e.type==="Navigation"&&e.parameters&&e.parameters.ibnTarget&&e.parameters.ibnTarget.semanticObject&&e.parameters.ibnTarget.action});if(a.length>0||n.length>0){s=true}if(e["sap.card"].configuration.parameters.state&&e["sap.card"].configuration.parameters.state.value){i=JSON.parse(e["sap.card"].configuration.parameters.state.value);if(i.parameters&&i.parameters.ibnTarget&&i.parameters.ibnTarget.semanticObject&&i.parameters.ibnTarget.action){s=true}}}if(o==="List"||o==="Table"){a=(o==="List"?e["sap.card"].content.item.actions:e["sap.card"].content.row.actions)||[];n=e["sap.card"].header.actions||[];a=a.filter(function(e){return e.type==="Navigation"});n=n.filter(function(e){return e.type==="Navigation"});if(a.length>0||n.length>0){var d={},c={};if(e["sap.card"].configuration.parameters.headerState&&e["sap.card"].configuration.parameters.headerState.value){d=JSON.parse(e["sap.card"].configuration.parameters.headerState.value)}if(e["sap.card"].configuration.parameters.lineItemState&&e["sap.card"].configuration.parameters.lineItemState.value){c=JSON.parse(e["sap.card"].configuration.parameters.lineItemState.value)}var l=false,h=false;if(d.parameters&&d.parameters.ibnTarget&&d.parameters.ibnTarget.semanticObject&&d.parameters.ibnTarget.action){l=true}if(c.parameters&&c.parameters.ibnTarget&&c.parameters.ibnTarget.semanticObject&&c.parameters.ibnTarget.action){h=true}s=l||h}}if(!s){u.error("Invalid card manifest. Card should have navigation.");r=true}}if(r){throw new Error(p.getText("invalidManifest"))}}var L={localCardCache:{},userCardModel:(new r).setDefaultBindingMode("OneWay"),suggestedCardModel:(new r).setDefaultBindingMode("OneWay"),_mergeCard:function(e,r){try{_(e)}catch(e){return Promise.reject(e)}return m().then(function(t){return C(e,t,r)}).then(function(e){this.localCardCache={};return e}.bind(this))},createCard:function(e){return this._mergeCard(e,o)},updateCard:function(e){return this._mergeCard(e,d)},deleteCard:function(e){try{b(e)}catch(e){return Promise.reject(e)}return m().then(function(r){return S(e,r)}).then(function(e){this.localCardCache={};return e}.bind(this))},getUserCards:function(){if(this.localCardCache.userCards){return Promise.resolve(this.localCardCache.userCards)}var e=s+"?$orderby=rank";return this._readCard(e).then(function(e){this.localCardCache.userCards=e;return e}.bind(this))},getUserCardModel:function(){return this.getUserCards().then(function(e){var r=e.filter(function(e){return e.visibility});this.userCardModel.setProperty("/cards",e);this.userCardModel.setProperty("/cardCount",e.length);this.userCardModel.setProperty("/visibleCardCount",r.length);return this.userCardModel}.bind(this))},getSuggestedCards:function(){if(this.localCardCache.suggestedCards){return Promise.resolve(this.localCardCache.suggestedCards)}var e=s+"?$filter=visibility eq true&$select=descriptorUrl,visibility,rank&$orderby=rank&$skip=0&$top=10";return this._readCard(e).then(function(e){this.localCardCache.suggestedCards=e;return e}.bind(this))},getSuggestedCardModel:function(){return this.getSuggestedCards().then(function(e){this.suggestedCardModel.setProperty("/cards",e);this.suggestedCardModel.setProperty("/cardCount",e.length);return this.suggestedCardModel}.bind(this))},_readCard:function(e){return fetch(e).then(function(e){if(e.ok){return e.json()}w("Cannot read user's suggested cards.")}).then(function(e){e.value.forEach(function(e){if(e.descriptorContent){e.descriptorContent=JSON.parse(e.descriptorContent)}});return e.value})},setCardsRanking:function(e){return m().then(function(r){return y(e,r)}).then(function(e){this.localCardCache={};return e}.bind(this))},_refreshUserCards:function(e){var r=e?{deleteAllCards:"X"}:{};return new Promise(function(e){fetch(n,{method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}}).then(function(t){var a=t.headers.get("X-CSRF-Token");fetch(n+i+"/com.sap.gateway.srvd.ui2.insights_cards_repo_srv.v0001.deleteCards?",{method:"POST",headers:{"X-CSRF-Token":a,"content-type":"application/json;odata.metadata=minimal;charset=utf-8"},body:JSON.stringify(r)}).then(function(){this.localCardCache={};e()}.bind(this))}.bind(this))}.bind(this))},getParentAppDetails:function(e){var r={};return sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(t){var a=t._oAdapter._aInbounds||[];var n=a.find(function(r){return r.resolutionResult&&r.resolutionResult.applicationDependencies&&r.resolutionResult.applicationDependencies.name===e.descriptorContent["sap.insights"].parentAppId});if(n){r.semanticObject="#"+n.semanticObject+"-"+n.action;r.title=e.descriptorContent["sap.app"].title}return r})}};var P={_oViewCache:{},_getLoadLibraryPromise:function(e){var r;switch(e){case l:r=Promise.all([t.loadLibrary("sap.m"),t.loadLibrary("sap.ui.integration"),t.loadLibrary("sap.viz")]);break;case h:case f:r=Promise.all([t.loadLibrary("sap.m"),t.loadLibrary("sap.ui.core"),t.loadLibrary("sap.f"),t.loadLibrary("sap.ui.integration"),t.loadLibrary("sap.ui.layout"),t.loadLibrary("sap.viz")]);break;case g:r=Promise.all([t.loadLibrary("sap.m"),t.loadLibrary("sap.ui.core"),t.loadLibrary("sap.f"),t.loadLibrary("sap.ui.integration"),t.loadLibrary("sap.ui.layout")]);break;default:break}return r},_getXMLView:function(e){return new Promise(function(r,t){if(this._oViewCache[e]){return r(this._oViewCache[e])}return this._getLoadLibraryPromise(e).then(function(){return sap.ui.core.mvc.XMLView.create({viewName:e}).then(function(t){this._oViewCache[e]=t;return r(this._oViewCache[e])}.bind(this))}.bind(this))}.bind(this))},showCardPreview:function(e){return this._getXMLView(l).then(function(r){return r.getController().showPreview(e)})},_showCardSelectionDialog:function(e){return this._getXMLView(f).then(function(r){return r.getController().showSelectionDialog(e)})}};return{getServiceAsync:function(e){if(e==="UIService"){return Promise.resolve(P)}else{if(c){return Promise.resolve(L)}return T().then(function(){c=true;return L}).catch(function(e){return Promise.reject(e)})}}}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/OVPChartFormatter", ["sap/viz/library","sap/viz/ui5/format/ChartFormatter","sap/viz/ui5/api/env/Format","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat"],function(t,e,r,a,n){"use strict";var i=10;var o=[{prefix:"CURR",fn:f},{prefix:"axisFormatter",fn:c},{prefix:"0.0%",fn:u}];var s=["YearMonthDay","YearMonth","MMM","YearQuarter","Quarter","YearWeek","Week"];function f(t,e){var r;if(t===-1){r=a.getCurrencyInstance({style:"short",currencyCode:false})}else{r=a.getCurrencyInstance({style:"short",currencyCode:false,minFractionDigits:t,maxFractionDigits:t})}return r.format(Number(e))}function c(t,e){var r;if(t===-1){r=a.getFloatInstance({style:"short"})}else{r=a.getFloatInstance({style:"short",minFractionDigits:t,maxFractionDigits:t?t:1})}return r.format(Number(e))}function u(t,e){var r;if(t===-1){r=a.getPercentInstance({style:"short",minFractionDigits:1,maxFractionDigits:1})}else{r=a.getPercentInstance({style:"short",minFractionDigits:t,maxFractionDigits:t})}return r.format(Number(e))}function m(t,e){if(e.constructor===Date){var r=n.getDateTimeInstance({pattern:t});if(t==="YearMonthDay"){r=n.getDateInstance({style:"medium"})}if(t==="YearMonth"||t==="MMM"){r=n.getDateTimeInstance({format:"MMM"})}if(t==="YearQuarter"||t==="Quarter"){r=n.getDateTimeInstance({format:"QQQ"})}if(t==="YearWeek"||t==="Week"){r=n.getDateTimeInstance({format:"www"})}e=r.format(new Date(e),true)}return e}return{registerCustomFormatters:function(){var t=e.getInstance();var a=[];o.forEach(function(t){a.push({name:t.prefix,fn:t.fn.bind(null,2)});for(var e=-1;e<=i;e++){var r="/"+e+"/";a.push({name:t.prefix+r,fn:t.fn.bind(null,e)})}});s.forEach(function(t){a.push({name:t,fn:m.bind(null,t)})});a.forEach(function(e){t.registerCustomFormatter(e.name,e.fn)});r.numericFormatter(t)}}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/base/Base.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","../utils/MetadataAnalyser","../utils/SelectionVariantHelper","sap/fe/navigation/SelectionVariant","sap/m/Token","../utils/oDataModelProvider","sap/ui/core/CustomData","sap/m/DynamicDateUtil","sap/ui/comp/util/DateTimeUtil","sap/ui/core/format/DateFormat","../utils/AppConstants","../utils/UrlGenerateHelper","sap/ui/core/IconPool"],function(e,t,a,r,i,n,o,s,l,g,d,u,c,f){"use strict";var p="smartForm";var h="copyCardSmartForm";return e.extend("sap.insights.base.BaseController",{constructor:function(){this._oParentViewModel=new t({oCard:{}});this.oSmartFormMap={};this.oDraftCardParams={};this.bEnableCardEdit=true},_createOdataModelsforDialog:function(e){var t=[];e.forEach(function(e){t.push(o.getOdataModel(e.descriptorContent["sap.app"].dataSources))});if(t.length){return Promise.all(t)}},setFilterTextForNoData:function(e,t,a){sap.ui.getCore().loadLibrary("sap.ui.comp",{async:true}).then(function(){sap.ui.require(["sap/ui/comp/smartform/Group","sap/ui/comp/smartform/GroupElement","sap/ui/comp/smartform/Layout","sap/m/Text"],function(r,i,n,o){e.removeAllGroups();var s=new r;var l=new i;var g=new o({text:t?this.i18Bundle.getText("noFilterMsg"):this.i18Bundle.getText("noFilterLoaded")});l.addElement(g);s.addGroupElement(l);e.setLayout(new n);e.addGroup(s);if(a){e.getAggregation("content").getLayout().setBackgroundDesign("Transparent")}}.bind(this))}.bind(this))},_setSmartFormForCardEdit:function(e){this._oParentViewModel.setProperty("/oCard",e);var t=e.descriptorContent["sap.app"].id,a=this.oSmartFormMap[t]&&!this.smartFormEditable?Promise.resolve(this.oSmartFormMap[t]):this._createSmartFormForCardEdit(e,this.smartFormEditable);a.then(function(t){if(this.smartFormEditable){t.setEditable(true)}var a=this.byId(p)||this.byId(h);a.removeAllItems();var r=e.descriptorContent["sap.app"].dataSources;o.getOdataModel(r).then(function(e){var r=e&&e.loaded;var i=false;if(t.getGroups()&&t.getGroups().length&&t.getGroups()[0].getGroupElements()){i=t.getGroups()[0].getGroupElements().some(function(e){return e.getElements().some(function(e){return e.getVisible()})})}if(t.getAggregation("content").getFormContainers().length&&r&&i){t.setVisible(true);setTimeout(function(){var e=t.getAggregation("content").getLayout();if(e){e.setBackgroundDesign("Transparent")}a.addItem(t)},0)}else{this.setFilterTextForNoData(t,r,true);a.addItem(t)}}.bind(this))}.bind(this))},_createSmartFormForCardEdit:function(e){return new Promise(function(t){sap.ui.getCore().loadLibraries(["sap.ui.comp","sap.m"],{async:true}).then(function(){sap.ui.require(["sap/ui/comp/smartmultiinput/SmartMultiInput","sap/ui/comp/smartform/SmartForm","sap/ui/comp/smartform/Group","sap/ui/comp/smartform/GroupElement","sap/ui/comp/smartform/Layout","sap/m/Title","sap/m/Toolbar"],function(l,g,d,u,f,p,h){var v=e.descriptorContent;var m=v["sap.card"].configuration.parameters;var y=v["sap.insights"].filterEntitySet;var S=m&&m._entitySet.value;var C=v["sap.app"].dataSources;o.getOdataModel(C).then(function(o){var C=o&&o.loaded;this._oParentViewModel.setProperty("/oCard",e);var T={layout:new f({labelSpanS:6}),customToolbar:new h({content:[new p({text:this.i18Bundle.getText("filterBy"),titleStyle:"H5"})],style:"Clear"})};var b=new g(T);var E=new d;var P=[],D=[],_=[],F=[],I,k,O=[];if(m){P=m._mandatoryODataParameters.value||[];D=m._mandatoryODataFilters.value||[];_=m._relevantODataParameters.value||[];F=m._relevantODataFilters.value||[];k=m._semanticDateRangeSetting;if(k){I=JSON.parse(k.value);O=Object.keys(I)||[]}}b.attachEditToggled(function(e){var t=e.getParameters().editable;var a=e.getSource().getGroups()&&e.getSource().getGroups().length?e.getSource().getGroups()[0]:null;if(t&&a){a.getGroupElements().forEach(function(e){e.getFields().forEach(function(e){e.attachInnerControlsCreated(function(e){var t=e.getSource(),a=t.getBindingPath("value");if((P.includes(a)||D.includes(a))&&t.getProperty("editable")){t.setMandatory(true)}else if(t.getMandatory()){t.setMandatory(false)}t.checkClientError()})})})}});var V=function(e,t){if(t){var a=new s({key:"date",value:t});e.insertCustomData(a)}};var x=o&&a.getParameterisedEntitySetByEntitySet(o.oData,y);var M=x?a.getPropertyNamesOfEntitySet(o.oData,x):[];if(C){if(_.length){_.forEach(function(e){var t=x;var r=true;if(M.indexOf(e)===-1){t=S;r=false}var i=a.isValueListWithFixedValues(o.oData,t,e);var s=a.isDate(o.oData,t,e);var g=O.includes(e);var d=new u;var f=new l({entitySet:t,value:"{"+e+"}",editable:r,visible:r,singleTokenMode:true,supportRanges:false,innerControlsCreated:this._handleVisibilityChange.bind(this,g,true)});if(i){f.attachInnerControlsCreated(function(e){var t=e.getSource();if(t.getMode()==="edit"){var a=t.getInnerControls();if(Array.isArray(a)&&a.length){var r=t.getAggregation("_initialTokens");if(t.getSingleTokenMode()){var i=a[0],n=Array.isArray(r)&&r.length?r[0]:null;if(i.setForceSelection){i.setForceSelection(false);if(n){i.setSelectedKey(n.getKey())}else{i.setSelectedItem(null)}}}else{var o=a[0];if(Array.isArray(r)&&r.length){o.setSelectedKeys(r.map(function(e){return e.getKey()}))}}if(t.getMandatory()){t.checkClientError()}}}});f.checkClientError=function(){return this._checkClientError(f)}.bind(this);f.attachSelectionChange(this._handleParameterSelectionChange.bind(this))}else{f.attachTokenUpdate(this._handleParameterTokenUpdate.bind(this,null,g))}var p=m[e].value;var h=m[e].label;if(p){var v=new n({key:p,text:h?h:p});if(s){if(!O.includes(e)){V(v,new Date(p))}else{if(I&&this.smartFormEditable){var y=this._getOptionsForDynamicDate(I,e);var C=this.byId("hiddenDDR");C.setOptions(y)}p=c.formatSemanticDateTime(p,"Parameter")[0];V(v,p)}}if(i&&f.getInnerControls().length){var T=f.getInnerControls()[0];T.setSelectedKey(v.getKey())}f.addAggregation("_initialTokens",v)}if(p&&f.getVisible()){d.addElement(f);E.addGroupElement(d)}else if(this.bEnableCardEdit&&f.getVisible()){d.addElement(f);E.addGroupElement(d)}this._attachInitialiseToGroupElement(d)}.bind(this))}var A=a.getPropertyNamesOfEntitySet(o.oData,y);F.forEach(function(e){var t=e;if(!(t==="DisplayCurrency"&&_.indexOf("P_DisplayCurrency")>-1)){var n=y;var s=true;if(A.indexOf(t)===-1){var g="P_"+t;if(M.indexOf(g)>-1){n=x;t=g}else{n=S;s=false}}var d=a.isValueListWithFixedValues(o.oData,n,t);var f=a.isDate(o.oData,n,t);var p=O.includes(t);var h=new u;var v;if(t.indexOf("P_")===0){v=true}else{v=a.getPropertyFilterRestrictionByEntitySet(o.oData,n,t)}var C=new l({entitySet:n,value:"{"+t+"}",editable:s,visible:s,supportRanges:!v,singleTokenMode:v,innerControlsCreated:this._handleVisibilityChange.bind(this,p,false)});if(d){C.attachInnerControlsCreated(function(e){var t=e.getSource();if(t.getMode()==="edit"){var a=t.getInnerControls();if(Array.isArray(a)&&a.length){var r=t.getAggregation("_initialTokens");if(t.getSingleTokenMode()){var i=a[0],n=Array.isArray(r)&&r.length?r[0]:null;if(i.setForceSelection){i.setForceSelection(false);if(n){i.setSelectedKey(n.getKey())}else{i.setSelectedItem(null)}}}else{var o=a[0];if(Array.isArray(r)&&r.length){o.setSelectedKeys(r.map(function(e){return e.getKey()}))}}if(t.getMandatory()){t.checkClientError()}}}});C.checkClientError=function(){return this._checkClientError(C)}.bind(this);C.attachSelectionChange(this._handleFilterSelectionChange.bind(this))}else{if(p){C.setSingleTokenMode(true)}C.attachTokenUpdate(this._handleFilterTokenUpdate.bind(this,null,p))}var T=new i(m[e].value);var b=T.getSelectOption(e);if(b&&b.length){var P=[],D=[];P=r.getTokenFromSelectOptions(b,e);P.forEach(function(t,a){if(f){if(!O.includes(e)){V(t,new Date(t.getKey()))}else{if(I&&this.smartFormEditable){var r=this._getOptionsForDynamicDate(I,e);var i=this.byId("hiddenFilterDDR");i.setOptions(r)}D=c.formatSemanticDateTime(null,b[a],"Filter");D=c.formatSemanticDateTime(b[a],"Filter");D.forEach(function(e){V(t,e)})}}if(d&&C.getInnerControls().length){var n=C.getInnerControls()[0];n.setSelectedKey(t.getKey())}C.addAggregation("_initialTokens",t)}.bind(this));h.addElement(C);E.addGroupElement(h)}else if(this.bEnableCardEdit){h.addElement(C);E.addGroupElement(h)}this._attachInitialiseToGroupElement(h)}}.bind(this))}if(E.getAggregation("formElements")&&E.getAggregation("formElements").length){b.addGroup(E)}var w=v["sap.app"].id;if(C){b.setModel(o.oData)}this.oSmartFormMap[w]=b;t(b)}.bind(this))}.bind(this))}.bind(this))}.bind(this))},_handleVisibilityChange:function(e,t,a){var r=a.getSource();var i=this.byId(p);var n=i&&i.getItems()[0];var o=false;if(e&&r.getMode()==="edit"){var s=r.getInnerControls();if(s.length){var l=s[0];r.setShowValueHelp(false);r.setShowSuggestion(false);l.addEndIcon({src:f.getIconURI("check-availability"),press:t?this._handleParameterTokenUpdate.bind(this,r,true):this._handleFilterTokenUpdate.bind(this,r,true)})}}setTimeout(function(){if(n){var e=n.getGroups()&&n.getGroups().length?n.getGroups()[0]:null;var t=e&&e.getGroupElements();if(t&&t.length){t.forEach(function(t){var a=t.getFields();a.forEach(function(e){if(!this.smartFormEditable&&e.getId()===r.getId()&&(e.getTokens&&e.getTokens().length===0)){t.removeField(e)}if(t.getVisible()&&e.getTokens&&e.getTokens().length){o=true}}.bind(this));if(!t.getFields().length){e.removeGroupElement(t)}}.bind(this))}}if(!o&&i){i.removeAllItems();this.setFilterTextForNoData(n,true,false);i.addItem(n)}}.bind(this),0)},_handleFilterTokenUpdate:function(e,t,n){var o=e?e:n.getSource();if(o.getMandatory()){o.checkClientError()}var s=o.getBinding("value").sPath;var l=o.getTokens();var g=this._oParentViewModel.getProperty("/oCard");var d=g.descriptorContent["sap.app"].id;var u=o.getModel();var c=a.isDate(u,o.getEntitySet(),s);var f;if(t&&e){f=this.byId("hiddenFilterDDR");f.attachChange(this._onSemanticFilterDateChange.bind(this,s,o));f.openBy(e.getDomRef())}else if(l.length){var p=new i;var h=[];var v="";l.forEach(function(e){v="";if(e.data("selectOption")){var t=e.data("selectOption");if(!t.Text){t.Text=e.getText?e.getText():null}h.push(t)}else if(e.data("range")){var a=e.data("range");var i=r.getSelectOptionFromRange(a,e.getText());h.push(i)}else if(c){var n=u.formatValue(e.getKey(),"Edm.DateTime");p.addSelectOption(s,"I","EQ",n,null,n)}else if(o._parseValue){var l=o._parseValue(e.getKey());v=e.getText()?e.getText():e.getKey();p.addSelectOption(s,"I","EQ",l,null,v)}else{v=e.getText()?e.getText():e.getKey();p.addSelectOption(s,"I","EQ",e.getKey(),null,v)}});p.massAddSelectOption(s,h);this.oDraftCardParams[d][s]=p.toJSONString()}else{this.oDraftCardParams[d][s]=r.getEmptySVStringforProperty(s)}},getLabelForField:function(e,t,a){if(e&&t){var r=this.byId("hiddenFilterDDR");var i=r.getIdForLabel()||"";i=i.substring(0,i.lastIndexOf("-"));if(i){var n=sap.ui.getCore().byId(i);return n&&n.getValue()}else if(r&&r.getProperty("value")){return r.getProperty("value")}else if(a&&typeof a.getTokens==="function"){var o=a.getTokens()||[],s=o.map(function(e){return e.getText()});return{type:"filters",value:s}}}},_handleFilterSelectionChange:function(e){var t=e.getParameters();var a=e.getSource().getBinding("value").getPath();var o=this._oParentViewModel.getProperty("/oCard");var s=o.descriptorContent["sap.app"].id;var l=e.getSource();var g=new i;var d="";if(t.selectedItem){l.setValueState("None");var u=e.getParameter("selectedItem");if(u){d=u.getText()?u.getText():u.getKey();l.removeAllAggregation("_initialTokens");l.addAggregation("_initialTokens",new n({key:u.getKey(),text:d}));g.addSelectOption(a,"I","EQ",u.getKey(),null,d);this.oDraftCardParams[s][a]=g.toJSONString()}else{this.oDraftCardParams[s][a]=r.getEmptySVStringforProperty(a)}}else{var c=e.getSource().getInnerControls()[0].getSelectedItems();if(c.length){l.setValueState("None");l.removeAllAggregation("_initialTokens");c.forEach(function(e){d=e.getText()?e.getText():e.getKey();l.addAggregation("_initialTokens",new n({key:e.getKey(),text:d}));g.addSelectOption(a,"I","EQ",e.getKey(),null,d)});this.oDraftCardParams[s][a]=g.toJSONString()}else{this.oDraftCardParams[s][a]=r.getEmptySVStringforProperty(a)}}},_handleParameterSelectionChange:function(e){var t=e.getParameter("selectedItem");var a=e.getSource(),r="";var i={value:"",label:""};if(t){a.setValueState("None");r=t.getText()?t.getText():t.getKey();i.value=t.getKey();i.label=r}a.removeAllAggregation("_initialTokens");a.addAggregation("_initialTokens",new n({key:i.value,text:i.label}));var o=e.getSource().getBinding("value").getPath();var s=this._oParentViewModel.getProperty("/oCard").descriptorContent["sap.app"].id;this.oDraftCardParams[s][o]=i},_handleParameterTokenUpdate:function(e,t,r){var i=e?e:r.getSource();if(i.getMandatory()){i.checkClientError()}var n=i.getBinding("value").sPath;var o=i.getTokens();var s=this._oParentViewModel.getProperty("/oCard").descriptorContent["sap.app"].id;var l={value:"",label:""};var g=i.getModel();var d=a.isDate(g,i.getEntitySet(),n);var u,f;if(t&&e){f=this.byId("hiddenDDR");f.attachChange(this._onSemanticParameterDateChange.bind(this,n,i));f.openBy(e.getDomRef())}if(o.length){l.label=o[0].getText()?o[0].getText():o[0].getKey();if(f&&f._parseValue){u=f._parseValue(o[0].getKey());if(u){f.setValue(u);l.value=c.getDateRangeValue(u,true);l.label=u}else{l.value=o[0].getKey()}}else{u=i._parseValue&&i._parseValue(o[0].getKey());if(d&&u){u=i.getModel().formatValue(u,i.getDataType());l.value=u}else if(u){l.value=u}else{u=o[0].getKey();l.value=u}}}this.oDraftCardParams[s][n]=l},_mergeDraftParamsIncard:function(e){var t=e.descriptorContent["sap.card"].configuration.parameters;var a=e.descriptorContent["sap.app"].id;var r=this.oDraftCardParams[a];Object.keys(r).forEach(function(e){if(t[e]){if(t[e].type==="datetime"&&typeof t[e].value==="string"&&t[e].value.includes("operation")){var a=JSON.parse(t[e].value);a.operation=r[e];t[e].value=JSON.stringify(a)}else{t[e].value=r[e].value?r[e].value:r[e];if(r[e].label){t[e].label=r[e].label}}}else if(e.indexOf("P_")===0&&t[e.replace("P_","")]){r[e.replace("P_","")]=r[e].replace("P_","");t[e.replace("P_","")].value=r[e].replace("P_","");delete r[e]}});c.processPrivateParams(e,r);Object.keys(t).forEach(function(e){var a=t[e].value;if(t[e].type==="datetime"&&typeof a==="string"&&a.includes("datetime")){a=a.split("datetime");a=a[a.length-1];a=a.replace(/["']/g,"");t[e].value=a}});return e},_checkClientError:function(e){var t=e.getSingleTokenMode()?!e.getInnerControls()[0].getSelectedKey():!e.getInnerControls()[0].getSelectedKeys().length,a=e.getMandatory()&&t;e.setValueState(a?"Error":"None");return a},_attachInitialiseToGroupElement:function(e){if(e.getFields()&&e.getFields().length){e.getFields()[0].attachInitialise(function(){if(e.getFields().length&&e.getLabelControl()&&!e.getLabelControl().getText()){var t=e.getFields()[0].getBindingPath("value");if(t&&e.getFields()[0].getVisible()){e.getFields()[0].setTextLabel(t)}}})}},_onSemanticParameterDateChange:function(e,t,a){var r=a.getParameter("value");var i=this._oParentViewModel.getProperty("/oCard");var o=i.descriptorContent["sap.app"].id;this.oDraftCardParams[o][e].value=r.operator;this.oDraftCardParams[o][e].label=r.operator;t.getInnerControls()[0].setTokens([]);var s=r.operator==="DATE";var l=new n({key:s?r.values[0]:r.operator,text:s?r.values[0]:r.operator});t.getInnerControls()[0].setTokens([l]);var g=a.getParameter("valid");t.setValueState(g?"None":"Error")},_onSemanticFilterDateChange:function(e,t,a){var n=a.getParameter("value");var o=this.getLabelForField(e,n,t);var s=c.getDateRangeValue(n,false,o);var l=this._oParentViewModel.getProperty("/oCard");var g=l.descriptorContent["sap.app"].id;var d=new i;if(!s.High){s.High=""}d.addSelectOption(e,"I",s.Option,s.Low,s.High,s.Text);this.oDraftCardParams[g][e]=d.toJSONString();t.getInnerControls()[0].setTokens([]);var u=r.getTokenFromSelectOptions(d.getSelectOption(e),e);t.getInnerControls()[0].setTokens(u);var f=a.getParameter("valid");t.setValueState(f?"None":"Error")},_getOptionsForDynamicDate:function(e,t){var a;if(e[t]["sap:filter-restriction"]==="single-value"){a=u.DATE_OPTIONS.SINGLE_OPTIONS}else if(e[t]["sap:filter-restriction"]==="interval"){a=u.DATE_OPTIONS.RANGE_OPTIONS;a=a.concat(u.DATE_OPTIONS.SINGLE_OPTIONS)}if(e&&e[t].exclude){a=a.filter(function(a){return!e[t].selectedValues.includes(a)})}return a}})});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/copy/Copy.controller", ["sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","../base/Base.controller","../CardHelper","sap/m/MessageToast","sap/base/Log"],function(e,t,r,a,i,o){"use strict";var s=o.getLogger("sap.insights.CardHelper");return r.extend("sap.insights.copy.Copy",{onInit:function(){this._oCopyCardViewModel=new e({oOrgCard:{},oCard:{},aCards:[]});this.getView().setModel(this._oCopyCardViewModel,"copyCardView");var r=sap.ui.getCore().getLibraryResourceBundle("sap.insights");this.getView().setModel(new t({bundle:r}),"i18n");this.i18Bundle=this.getView().getModel("i18n").getResourceBundle();this.smartFormEditable=true},_getCopyCardPage:function(){return this.getView().byId("copyCardPage")},initCopyCard:function(e){var t=e.descriptorContent["sap.app"].id;if(this.oDraftCardParams){this.oDraftCardParams[t]={}}a.getServiceAsync().then(function(e){return e.getUserCards().then(function(e){this._oCopyCardViewModel.setProperty("/aCards",e)}.bind(this))}.bind(this));var r=e;this._oCopyCardViewModel.setProperty("/oOrgCard",r);var i=JSON.parse(JSON.stringify(r));this._oCopyCardViewModel.setProperty("/oCard",i);var o=this._oCopyCardViewModel.createBindingContext("/oCard");this.byId("copyCardPreview").refresh();this.getView().byId("copyCardPage").setBindingContext(o,"copyCardView");this._setSmartFormForCopyCard(e)},handleCopyCardDialogCancel:function(){this.byId("CopyCardsEditTitleField").setValueState("None");this.isCopyCardDialogOpen=false;this._getCopyCardPage().close()},_setSmartFormForCopyCard:function(e){this.byId("copyCardSmartForm").removeAllItems();this._setSmartFormForCardEdit(e)},_handleCardPreviewPress:function(e){if(this._oCopyCardViewModel.getProperty("/oCard").descriptorContent["sap.card"].header.title){var t=this._mergeDraftParamsIncard(this._oCopyCardViewModel.getProperty("/oCard"));this._oCopyCardViewModel.setProperty("/oCard",t);this._oCopyCardViewModel.refresh();this.byId("copyCardPreview").refresh()}},handleCardsInputChange:function(e){var t=e.getSource(),r=t.getValue(),a=t.getId();if(a&&a.includes("CopyCardsEditTitleField")){if(!r){t.setValueState("Error")}else{t.setValueState("None")}this._oCopyCardViewModel.getProperty("/oCard").descriptorContent["sap.card"].header.title=r}else if(a&&a.includes("CopyCardsEditSubTitleField")){this._oCopyCardViewModel.getProperty("/oCard").descriptorContent["sap.card"].header.subTitle=r}},handleCardCopyPress:function(){var e=this.byId("copyCardSmartForm"),t=e&&e.getItems()[0];if(t&&!t.getSmartFields().some(function(e){return e.checkClientError({handleSuccess:true})})){if(this._oCopyCardViewModel.getProperty("/oCard").descriptorContent["sap.card"].header.title){this._getCopyCardPage().setBusy(true);var r=this._oCopyCardViewModel.getProperty("/oOrgCard");var o=r.descriptorContent["sap.app"].id;var d=this._oCopyCardViewModel.getProperty("/oCard");var n=o+"."+Date.now();var C=this._oCopyCardViewModel.getProperty("/aCards")||[];var p=C.reduce(function(e,t){return e.rank>t.rank?e:t});this.oDraftCardParams[n]={};d=this._mergeDraftParamsIncard(d);d.descriptorContent["sap.app"].id=n;d.descriptorContent["sap.insights"].rank=p.rank+1;d.rank=p.rank+1;var c=C.filter(function(e){return e.visibility});d.descriptorContent["sap.insights"].visible=c.length<10?true:false;d.visibility=c.length<10?true:false;d.descriptorContent["sap.insights"].parentAppId=r.descriptorContent["sap.insights"].parentAppId;d.descriptorContent["sap.insights"].isDtCardCopy=false;d.descriptorContent["sap.ui5"].componentName=n;a.getServiceAsync().then(function(e){e.createCard(d.descriptorContent).then(function(){var t=r.descriptorContent["sap.card"].header.title;var a=this.i18Bundle.getText("copyCardSuccessMsg",t);i.show(a);e.getUserCardModel();var o=this.getView().getParent().getPages()[0];this.getView().getParent().to(o)}.bind(this)).catch(function(e){i.show(e.message)}).finally(function(){this._getCopyCardPage().setBusy(false)}.bind(this))}.bind(this))}}else{s.error(this.i18Bundle.getText("cardCopyErrorMsg"))}},onNavBack:function(){this.getView().getParent().back()}})});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/library", ["sap/ui/core/Core","sap/ui/core/library"],function(){"use strict";var e=sap.ui.getCore().initLibrary({name:"sap.insights",dependencies:["sap.ui.core"],types:[],interfaces:[],controls:[],elements:[],version:"1.108.0",extensions:{}});return e});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/preview/Preview.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","sap/m/MessageToast","../CardHelper"],function(e,t,i,s,r){return e.extend("sap.insights.preview.Preview",{onInit:function(){this.getView().setModel(new t({descriptor:{},isMessageVisible:false,message:"",messageType:"Information"}),"cardPreviewModel");this.I18_BUNDLE=sap.ui.getCore().getLibraryResourceBundle("sap.insights");this.getView().setModel(new i({bundle:this.I18_BUNDLE}),"i18n")},save:function(){var e=this.getView().getModel("cardPreviewModel").getProperty("/descriptor");if(e["sap.card"].header.title){e["sap.insights"].visible=e["sap.insights"].visible||false;this._getPreviewDialog().setBusy(true);r.getServiceAsync().then(function(e){var t=this.getView().getModel("cardPreviewModel").getProperty("/descriptor");t["sap.insights"].visible=t["sap.insights"].visible||false;e.createCard(t).then(function(e){s.show("Card created Successfully.");this._getPreviewDialog().setBusy(false);this._getPreviewDialog().close()}.bind(this)).catch(function(e){var t=this.getView().getModel("cardPreviewModel");t.setProperty("/message",e.message);t.setProperty("/isMessageVisible",true);t.setProperty("/messageType","Error");this._getPreviewDialog().setBusy(false)}.bind(this))}.bind(this))}},cancel:function(){this._getPreviewDialog().close()},handleTitleChange:function(e){var t=e.getSource();var i=t.getValue();var s=this.getView().byId("insightsCard");if(i){t.setValueState("None");t.setValueStateText("");s.getCardHeader().setTitle(i)}else{t.setValueState("Error");t.setValueStateText(this.I18_BUNDLE.getText("INT_Preview_Title_ValueStateText"))}},handleSubTitleChange:function(e){var t=e.getSource();var i=t.getValue();var s=this.getView().byId("insightsCard");s.getCardHeader().setSubtitle(i)},handleVisibilityChange:function(e){var t=this.getView().getModel("cardPreviewModel");var i=e.getParameter("state");var s=t.getProperty("/descriptor");s["sap.insights"].visible=i;t.setProperty("/descriptor",s)},showCardSelectionDialog:function(){this._getPreviewDialog().close();var e=this.getView().getModel("cardPreviewModel");var t=e.getProperty("/descriptor");r.getServiceAsync("UIService").then(function(e){e._showCardSelectionDialog(t)})},_getPreviewDialog:function(){return this.getView().byId("previewDialog")},showPreview:function(e){var t=this.getView().getModel("cardPreviewModel");t.setProperty("/message","");t.setProperty("/isMessageVisible",false);t.setProperty("/messageType","Information");return r.getServiceAsync().then(function(i){return i.getUserCards().then(function(i){var s=i.filter(function(e){return e.visibility});if(s.length>9){e["sap.insights"].visible=false;t.setProperty("/message",this.I18_BUNDLE.getText("insightMaxCardText"));t.setProperty("/isMessageVisible",true);t.setProperty("/messageType","Warning")}t.setProperty("/descriptor",e);this._getPreviewDialog().open();return Promise.resolve()}.bind(this))}.bind(this))}})});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/selection/Selection.controller", ["sap/ui/model/resource/ResourceModel","../CardHelper","sap/m/MessageBox","sap/m/MessageToast","../base/Base.controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/util/UriParameters"],function(e,t,i,r,s,n,a,o){var d=500;return s.extend("sap.insights.selection.Selection",{onInit:function(){var t=sap.ui.getCore().getLibraryResourceBundle("sap.insights");this.getView().setModel(new e({bundle:t}),"i18n");this.i18Bundle=this.getView().getModel("i18n").getResourceBundle();this.oNavCon=this.getView().byId("selectionNavCon");this.oNavCon.setBusy(true);this.initUserCards()},showSelectionDialog:function(e){this.orgCard=e;this.getView().getModel("view").setProperty("/selectionDialogOpen",true);this._getSelectionDialog().open()},_getSelectionDialog:function(){return this.getView().byId("insightsSelectionDialog")},_getSelectionFragment:function(){return this.getView().byId("flexContainerCardsContent")},_getCardListPage:function(){return this.getView().byId("insightCardPage")},_getPreviewPage:function(){return this.getView().byId("previewPage")},closeDialog:function(){t.getServiceAsync("UIService").then(function(e){this.oNavCon.to(this._getCardListPage());this._getSelectionDialog().close();e.showCardPreview(this.orgCard)}.bind(this))},handleCardListItemPress:function(e,t){var i=this.getView().getModel("view");if(e){this.currentCardPreviewPath=e.getSource().getBindingContextPath()}else if(t){this.currentCardPreviewPath=t.getBindingContextPath()}var r=i.getProperty(this.currentCardPreviewPath).descriptorContent["sap.card"].header.title;i.setProperty("/selectedCardTitle",r);var s=this.getView().byId("previewPage");this.oNavCon.to(s);var n=i.createBindingContext(this.currentCardPreviewPath);this.byId("previewCard").setBindingContext(n,"view");var a=this.byId("smartForm");a.removeAllItems();this._setSmartFormForCardEdit(i.getProperty(this.currentCardPreviewPath));this.oCardHelperServiceInstance.getParentAppDetails(i.getProperty(this.currentCardPreviewPath)).then(function(e){i.setProperty("/parentAppTitle",e.title);i.setProperty("/parentAppUrl",e.semanticObject)})},setCopyVisible:function(e){var t=this.getView().getModel("view");t.setProperty("/showCopyButton",false);if(e){var i=e["sap.app"].dataSources;var r=i.filterService;var s=r&&r.uri;var n=r&&r.settings;if(s&&n&&n.odataVersion==="2.0"){t.setProperty("/showCopyButton",true)}}},handleCardVisibilityToggle:function(e){this._getSelectionFragment().setBusy(true);var t=e.getSource();var i=t.getBindingContext("view").getPath();var s=this.getView().getModel("view").getProperty(i);var n=t.getSelected();s.visibility=n;s.descriptorContent["sap.insights"].visible=n;this.setSelectedCards();this.oCardHelperServiceInstance.updateCard(s.descriptorContent).then(function(){this._getSelectionFragment().setBusy(false)}.bind(this)).catch(function(e){s.visibility=!n;s.descriptorContent["sap.insights"].visible=!n;this.getView().getModel("view").refresh();this._getSelectionFragment().setBusy(false);r.show(e.message)}.bind(this))},setSelectedCards:function(){var e=this.byId("insightsCardsListTable");if(e){this.getView().getModel("view").setProperty("/visibleCardCount",this.getSelectedCards().length)}},onEditInsightCardsDrop:function(e){var t=e.getParameter("draggedControl"),i=t.getParent().indexOfItem(t),r=e.getParameter("droppedControl"),s=t.getParent().indexOfItem(r);if(i!==s){var n=this.getView().getModel("view").getProperty("/cards");var a=this._setCardsRanking(n,i,s);try{this._getSelectionFragment().setBusy(true);this.oCardHelperServiceInstance.setCardsRanking(a).then(function(e){var t=this.getView().getModel("view");t.setProperty("/cards",e);t.setProperty("/cardCount",e.length);this._createOdataModelsforDialog(e)}.bind(this)).finally(function(){this._getSelectionFragment().setBusy(false)}.bind(this))}catch(e){this._getSelectionFragment().setBusy(false)}}},handleCardDeleteConfirm:function(){i.show(this.i18Bundle.getText("deleteCardMsg"),{icon:i.Icon.WARNING,title:this.i18Bundle.getText("delete"),actions:[i.Action.DELETE,i.Action.CANCEL],emphasizedAction:i.Action.DELETE,onClose:function(e){if(e===i.Action.DELETE){this.handleCardDelete(this.currentCardPreviewPath)}}.bind(this)})},handleCardDelete:function(e){var t=this.getView().getModel("view");this._getPreviewPage().setBusy(true);var i=t.getProperty(e);var s=i.descriptorContent["sap.app"].id;var n=i.descriptorContent["sap.card"].header.title;this.oCardHelperServiceInstance.deleteCard(s).then(function(){this._getPreviewPage().setBusy(false);r.show(this.i18Bundle.getText("deleteCardSuccess",n));var e=t.getProperty("/cards").filter(function(e){return e.descriptorContent["sap.app"].id!==s});var i=e.filter(function(e){return e.visibility});t.setProperty("/cards",e);t.setProperty("/cardCount",e.length);t.setProperty("/visibleCardCount",i.length);this.oNavCon.back();this.setSelectedCards()}.bind(this)).catch(function(e){this._getPreviewPage().setBusy(false);r.show(e.message)}.bind(this))},getSelectedCards:function(){var e=this.getView().getModel("view").getProperty("/cards");e=e.filter(function(e){return e.visibility});return e},initUserCards:function(){return t.getServiceAsync().then(function(e){this.oCardHelperServiceInstance=e;return this.oCardHelperServiceInstance.getUserCardModel().then(function(e){this.getView().setModel(e,"view");var t=this.getView().getModel("view").getProperty("/cards");var i=0;t.forEach(function(e){if(e.visibility){if(++i>10){e.visibility=false}}if(e.rank===0){e.rank=500}});var r=this.getView().getModel("view");r.setProperty("/selectionDialogOpen",false);r.setProperty("/cards",t);this._createOdataModelsforDialog(t);this.oNavCon.setBusy(false);return Promise.resolve()}.bind(this))}.bind(this))},_setCardsRanking:function(e,t,i){var r=JSON.parse(JSON.stringify(e)),s=[];var n=function(e){var t=r[e].rank;if(t!==d){s.push({id:r[e+1].descriptorContent["sap.app"].id,rank:t+1})}else{s.push({id:r[e+1].descriptorContent["sap.app"].id,rank:null});if(e){n(e-1)}else{s.push({id:r[e].descriptorContent["sap.app"].id,rank:null})}}};var a=function(){s.forEach(function(e,t){if(t===0){if(!e.rank){s[t].rank=1}}else{e.rank=s[t-1].rank+1}})};var o=r[i].rank;if(o!==d){if(t<i){s.push({id:r[t].descriptorContent["sap.app"].id,rank:o+1})}else{s.push({id:r[t].descriptorContent["sap.app"].id,rank:o})}}else{if(i===0){s.push({id:r[t].descriptorContent["sap.app"].id,rank:1})}else{var l=r.splice(t,1);r.splice(i,0,l[0]);n(i-1);s.reverse();a();s.reverse()}}return{Ranking:s}},onNavBack:function(){this.oNavCon.back()},navigateToCopyCard:function(){var e=this.getView().byId("insightsCopyCardView");var t=this.getView().getModel("view").getProperty(this.currentCardPreviewPath);this.oNavCon.to(e);e.getController().initCopyCard(t)},onCardSearch:function(e){var t=e.getSource().getValue();var i=new n("descriptorContent/sap.card/header/title",a.Contains,t);var r=[];r.push(i);var s=this.byId("insightsCardsListTable");var o=s.getBinding("items");o.filter(r,"Application")},refreshCardList:function(){this.oNavCon.setBusy(true);this.oCardHelperServiceInstance._refreshUserCards(this.isDeleteAllCardsEnabled()).then(function(){this.initUserCards()}.bind(this))},isDeleteAllCardsEnabled:function(){var e=o.fromQuery(window.location.search).get("delete-all-cards")||"";return e.toUpperCase()==="TRUE"?true:false},navigateToParentApp:function(){var e=this.getView().getModel("view");var t=e.getProperty("/parentAppUrl");sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.toExternal({target:{shellHash:t}});this.oNavCon.back()}.bind(this))},navigateToCardPreview:function(e){var t=this.getView().getModel("view");var i=t.getProperty("/cards");var r=i.findIndex(function(t){return t.descriptorContent["sap.app"].id===e});if(r!==-1){var s=this.getView().byId("insightsCardsListTable").getItems();this.handleCardListItemPress(null,s[r])}}})});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/utils/AppConstants", [],function(){"use strict";return{DATE_OPTIONS:{SINGLE_OPTIONS:["DATE","YESTERDAY","TOMORROW","TODAY","FIRSTDAYWEEK","LASTDAYWEEK","FIRSTDAYMONTH","LASTDAYMONTH","FIRSTDAYQUARTER","LASTDAYQUARTER","FIRSTDAYYEAR","LASTDAYYEAR"],RANGE_OPTIONS:["THISWEEK","LASTWEEK","NEXTWEEK","THISMONTH","LASTMONTH","NEXTMONTH","THISQUARTER","LASTQUARTER","NEXTQUARTER","QUARTER1","QUARTER2","QUARTER3","QUARTER4","THISYEAR","LASTYEAR","NEXTYEAR","YEARTODATE","DATETOYEAR","DATERANGE","DATETIMERANGE","FROM","FROMDATETIME","LASTDAYS","LASTMONTHS","LASTQUARTERS","LASTWEEKS","LASTYEARS","NEXTDAYS","NEXTMONTHS","NEXTQUARTERS","NEXTWEEKS","NEXTYEARS","SPECIFICMONTH","TO","TODATETIME","TODAYFROMTO"],EXCLUDE_LIST:["DATE","FROM","SPECIFICMONTH","TO","DATERANGE"],SPECIAL_RANGE:["LASTDAYS","LASTMONTHS","LASTQUARTERS","LASTWEEKS","LASTYEARS","NEXTDAYS","NEXTMONTHS","NEXTQUARTERS","NEXTWEEKS","NEXTYEARS","TODAYFROMTO"]}}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/utils/MetadataAnalyser", [],function(){"use strict";return{getPropertyNamesOfEntitySet:function(t,e){if(!t||!t.getMetaModel){return[]}var a=t.getMetaModel();var r=a.getODataEntitySet(e);var n=[];if(r){var i=a.getODataEntityType(r.entityType);i.property.forEach(function(t){n.push(t.name)})}return n},getParameterisedEntitySetByEntitySet:function(t,e){if(!t||!t.getMetaModel){return}var a=t.getMetaModel();var r=a.getODataEntitySet(e);if(r){var n=a.getODataEntityType(r.entityType);var i=n.navigationProperty;if(!i){return}var o=i.filter(function(t){var e=a.getODataAssociationEnd(n,t.name);var r=a.getODataEntityType(e.type);return r["sap:semantics"]==="parameters"&&r.key});if(o&&o.length){return a.getODataAssociationSetEnd(n,o[0].name).entitySet}}return},getPropertyFilterRestrictionByEntitySet:function(t,e,a){if(!t||!t.getMetaModel){return false}var r=t.getMetaModel();var n=r.getODataEntitySet(e);if(n){var i=r.getODataEntityType(n.entityType);var o;o=i.property.find(function(t){return t.name===a});if(o&&o["sap:filter-restriction"]&&o["sap:filter-restriction"]==="single-value"){return true}}return false},isDate:function(t,e,a){if(!t||!t.getMetaModel){return false}var r=t.getMetaModel(),n=r.getODataEntitySet(e);if(!n){return false}var i=r.getODataEntityType(n.entityType),o=i.property.find(function(t){return t.name===a});return o&&o.type==="Edm.DateTime"},isValueListWithFixedValues:function(t,e,a){if(!t||!t.getMetaModel){return false}var r=t.getMetaModel(),n=r.getODataEntitySet(e),i,o;if(n){var u=r.getODataEntityType(n.entityType),y=u.property.find(function(t){return t.name===a}),f="com.sap.vocabularies.Common.v1.ValueList",s="com.sap.vocabularies.Common.v1.ValueListWithFixedValues",l=y&&y[f],p=y&&y[s],g=y&&y["sap:value-list"];i=l&&g==="fixed-values";o=!!p&&p.Bool==="true"}return i||o||false}}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/utils/SelectionVariantHelper", ["sap/base/security/encodeURL","sap/m/Token","sap/ui/core/CustomData"],function(e,a,r){"use strict";var t=function(e){return"("+e+")"};var n=function(e,a,r){var n="or";var o=a;if(r==="E"){o=["not",t(a)].join(" ");n="and"}if(e===""){return o}return[e,n,o].join(" ")};var o=function(e,a){if(!(a==="integer"||a==="boolean"||a==="datetime")){return"'"+e+"'"}return e};var i=function(e,a,r,i){var u="";a.forEach(function(a){var s;switch(a.Option){case"BT":s=t([e,"ge",o(a.Low,i),"and",e,"le",o(a.High,i)].join(" "));break;case"CP":s="substringof("+o(a.Low,i)+","+e+")";break;default:s=[e,a.Option.toLowerCase(),o(a.Low,i)].join(" ");break}u=n(u,s,r)});return u};var u=function(e,a,r){var n=[],o=[];a.forEach(function(e){if(e.Sign==="I"){if(e.Option==="NE"){o.push(e)}else{n.push(e)}}else{if(e.Option==="NE"){n.push(e)}else{o.push(e)}}});var u=i(e,n,"I",r);var s=[];if(u){s.push(t(u))}var c=i(e,o,"E",r);if(c){s.push(t(c))}return s.join(" and ")};var s=function(a,r){var t=[];a.getSelectOptionsPropertyNames().forEach(function(e){t.push(u(e,a.getSelectOption(e),r[e]))});return t.length?"$filter="+e(t.join(" and ")):null};var c=function(a,r){var n="";a.getParameterNames().forEach(function(e){if(n!==""){n+=","}n+=e+"=";var t=a.getParameter(e);n+=o(t,r[e])});return n===""?null:t(e(n))};var f=function(e){var a=e.Option;switch(e.Option){case"CP":var r=e.Low;var t=r.indexOf("*")===0;var n=r.indexOf("*",1)===r.length-1;if(t&&!n){a="StartsWith"}else if(!t&&n){a="EndsWith"}else if(t&&n){a="Contains"}break;case"EQ":if(e.Low===""){a="Empty"}break}return a};var v=function(e,a){return new r({key:"range",value:{exclude:e.Sign==="E",keyField:a,operation:f(e),value1:e.Option==="CP"?e.Low.replace(/\*/g,""):e.Low,value2:e.High}})};var l=function(e,n){var o=[];var i=0;e.forEach(function(e){var u="";var s="";switch(e.Option){case"BT":u+=e.Low+" .. "+e.High;s="range_"+i++;break;case"CP":u+=e.Low;s="range_"+i++;break;case"EQ":if(e.Low===""){u+="<EMPTY>";s="<EMPTY>"}else{u+=e.Text?e.Text:e.Low;s=e.Low}break;case"NE":u+="!"+e.Low;s="range_"+i++;break;case"GT":u+=">"+e.Low;s="range_"+i++;break;case"GE":u+=">="+e.Low;s="range_"+i++;break;case"LT":u+="<"+e.Low;s="range_"+i++;break;case"LE":u+="<="+e.Low;s="range_"+i++;break}if(e.Sign==="E"){u="!"+t(u)}var c=new a({key:s,text:e.Text?e.Text:u});if(s!==e.Low){c.addCustomData(v(e,n))}c.addCustomData(new r({key:"selectOption",value:e}));o.push(c)});return o};var w=function(){var e=new sap.fe.navigation.SelectionVariant;return e.toJSONString()};var p=function(e){switch(e.Option){case"BT":e.Text+=e.Low+" .. "+e.High;break;case"EQ":if(e.Low===""){e.Text+="<EMPTY>"}else{e.Text+=e.Low}break;case"NE":e.Text+="!"+e.Low;break;case"GT":e.Text+=">"+e.Low;break;case"GE":e.Text+=">="+e.Low;break;case"LT":e.Text+="<"+e.Low;break;case"LE":e.Text+="<="+e.Low;break;default:e.Text+=e.Low;break}return e.Text};var L=function(e,a){var r={Sign:e.exclude?"E":"I",Option:e.operation,Low:e.value1,High:e.value2?e.value2:null,Text:a?a:""};switch(e.operation){case"Contains":r.Option="CP";if(e.value1){r.Low="*"+e.value1+"*"}break;case"StartsWith":r.Option="CP";if(e.value1){r.Low=e.value1+"*"}break;case"EndsWith":r.Option="CP";if(e.value1){r.Low="*"+e.value1}break;case"Empty":r.Option="EQ";r.Low="";break}if(!r.Text){r.Text=p(r)}return r};return{getFilterQueryFromSV:s,getParameterQueryFromSV:c,getTokenFromSelectOptions:l,getEmptySVStringforProperty:w,getSelectOptionFromRange:L}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/utils/UrlGenerateHelper", ["../utils/SelectionVariantHelper","sap/fe/navigation/SelectionVariant","sap/m/DynamicDateUtil","sap/ui/comp/util/DateTimeUtil","sap/ui/core/format/DateFormat","../utils/AppConstants","sap/ui/model/odata/v2/ODataModel"],function(e,a,t,r,i,n,o){function u(t,r){var i=t.descriptorContent["sap.card"].configuration.parameters;var n=t.descriptorContent["sap.card"]["data"]["request"];var u=false;if(n&&n["batch"]){u=true}var l=new a;var p=i._relevantODataFilters.value;var v=i._relevantODataParameters.value;var d=i._semanticDateRangeSetting,m=[];if(d){d=JSON.parse(d.value);m=Object.keys(d)||[]}p.forEach(function(e){var t=new a(i[e].value);var r=t.getSelectOption(e);var n=[];if(r&&r.length){if(m.includes(e)){n=f(r[0],"Filter");if(n.length){r[0].Low=n[0];r[0].High=n[1]?n[1]:null;if(r[0].Low&&r[0].High&&r[0].Option!=="BT"){r[0].Option="BT"}l.massAddSelectOption(e,r)}else if(o&&o.prototype.formatValue&&r[0]){r[0].Low=o.prototype.formatValue(r[0].Low,"Edm.DateTime");if(r[0].High){r[0].High=o.prototype.formatValue(r[0].High,"Edm.DateTime")}l.massAddSelectOption(e,r)}}else{l.massAddSelectOption(e,r)}}});v.forEach(function(e){var a="";if(i[e].value&&typeof i[e].value==="string"){a=i[e].value.toString()}else if(i[e].value.value){a=i[e].value.value.toString()}if(i[e].type==="datetime"&&!m.includes(e)&&!a.includes("datetime")){if(o&&o.oData){a=o.oData.formatValue(a,"Edm.DateTime");l.addParameter(e,a)}}else if(i[e].type==="datetime"&&m.includes(e)){a=f(a,"Parameter");l.addParameter(e,a[0])}else{l.addParameter(e,a)}});var h=i._entitySet.value;var g=h;if(v.length){var S={};v.forEach(function(e){S[e]=i[e].type});g+=e.getParameterQueryFromSV(l,S);var T=g;if(T&&Array.isArray(T.match(/%27datetime[a-zA-Z0-9%-:]*[,)%2c]/gm))&&T.match(/%27datetime[a-zA-Z0-9%-:]*[,)%2c]/gm).length){g=c(T)}}if(i._urlSuffix.value){g+=i._urlSuffix.value}var y={};p.forEach(function(e){y[e]=i[e].type});var D=e.getFilterQueryFromSV(l,y);var E=D;if(E&&Array.isArray(E.match(/%27datetime[a-zA-Z0-9%-:]*[,)%2c]/gm))&&E.match(/%27datetime[a-zA-Z0-9%-:]*[,)%2c]/gm).length){D=c(E)}var O="",A="",_="",H="",Q={header:"",content:""};if(i._headerDataUrl&&i._headerDataUrl.value){O=s(i,"_header",D,t.descriptorContent["sap.card"].type);A=O?g+"?"+O:g;i._headerDataUrl.value=r._headerDataUrl=A}else if(u&&i._headerDataUrl){O=s(i,"_header",D,t.descriptorContent["sap.card"].type);A=O?g+"?"+O:g;Q.header=A}if(i._contentDataUrl&&i._contentDataUrl.value){_=s(i,"_content",D,t.descriptorContent["sap.card"].type);H=_?g+"?"+_:g;i._contentDataUrl.value=r._contentDataUrl=H}else if(i._contentDataUrl){_=s(i,"_content",D,t.descriptorContent["sap.card"].type);H=_?g+"?"+_:g;Q.content=H;return Q}}function l(e,a){var t=u(e);if(a==="header"&&t.header){return t.header}else if(a==="content"&&t.content){return t.content}}function s(e,a,t,r){var i=[];if(t){i.push(t)}if(e[a+"SelectQuery"]&&e[a+"SelectQuery"].value){i.push(e[a+"SelectQuery"].value)}if(e[a+"ExpandQuery"]&&e[a+"ExpandQuery"].value){i.push(e[a+"ExpandQuery"].value)}if(e[a+"SortQuery"]&&e[a+"SortQuery"].value){var n=e[a+"SortQuery"].value;i.push(decodeURI(n)===n?encodeURI(n):n)}if(r==="Table"||r==="List"){i.push("$inlinecount=allpages");i.push("$skip=0&$top=13")}else{if(e[a+"TopQuery"]&&e[a+"TopQuery"].value){i.push(e[a+"TopQuery"].value)}if(e[a+"SkipQuery"]&&e[a+"SkipQuery"].value){i.push(e[a+"SkipQuery"].value)}}return i.length?i.join("&"):null}function c(e){var a=e.match(/%27datetime[a-zA-Z0-9%-:]*[,)%2c]/gm).length;var t=function(){var a=e.match(/%27datetime[a-zA-Z0-9%-:]*[,)%2c]/gm)[0];var t=a;t=t.replace("%27","");var r=t.lastIndexOf("%27");var i=t.substr(0,r)+t.substr(r+3,t.length-1);return i};for(var r=0;r<a;r++){e=e.replace(e.match(/%27datetime[a-zA-Z0-9%-:]*[,)%2c]/gm)[0],t)}return e}function f(e,a){var r,i=[],o=[];if(a==="Parameter"){r=e}else if(a==="Filter"){e=typeof e==="string"?JSON.parse(e):e;r=e.Low;if(n.DATE_OPTIONS.SPECIAL_RANGE.includes(r)){i=e.High.split(",")}}var u;if(n.DATE_OPTIONS.RANGE_OPTIONS.includes(r)||n.DATE_OPTIONS.SINGLE_OPTIONS.includes(r)){if(a==="Filter"){u=t.toDates({values:i,operator:r});o.push(u[0].oDate);o.push(u[1].oDate)}else{u=t.toDates({values:i,operator:r});o.push(u[0].oDate)}}if(o.length){o=p(o,true);return o}return[]}function p(e,a){var t;e.forEach(function(n,o){n=r.localToUtc(n);n=r.normalizeDate(n,true);if(a){t=i.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''",calendarType:"Gregorian"});e[o]=t.format(n,true)}else{var u=i.getDateInstance({pattern:"''yyyy-MM-dd'T'HH:mm:ss.SSS''",calendarType:"Gregorian"});var l=n instanceof Date?n:new Date(n);var s=u.format(l);e[o]=String(s).replace(/'/g,"")}});return e}function v(e,a,r){var i=r;if(e&&a){var n=e.operator;if(n!=="DATE"){return n}else{return n.values[0]}}if(!a){var o=e.operator;var u=e.values;var l="";if(o){switch(o){case"DATE":case"DATERANGE":case"SPECIFICMONTH":l="";if(typeof i==="string"){l=i}var s=t.toDates(e);u=s;var c=p(u,false);if(!c[1]){c[1]=""}var f={Low:c[0],High:c[1],Option:"BT",Text:l};if(f){f.Text=l;return f}break;case"FROM":case"TO":l="";if(typeof i==="string"){l=i}var v=p(u,false),d;d=o==="FROM"?"GE":"LE";var m={Low:v[0],High:"",Option:d,Text:l};if(m){m.Text=l;return m}break;case"LASTDAYS":case"LASTWEEKS":case"LASTMONTHS":case"LASTQUARTERS":case"LASTYEARS":case"NEXTDAYS":case"NEXTWEEKS":case"NEXTMONTHS":case"NEXTQUARTERS":case"NEXTYEARS":l="";if(typeof i==="string"){l=i}return{Low:o,High:u[0].toString(),Option:"BT",Text:l};case"TODAYFROMTO":l="";if(typeof i==="string"){l=i}var h=u&&u[0];var g=u&&u[1];return{Low:o,High:h.toString()+","+g.toString(),Option:"BT",Text:l};default:l="";if(typeof i==="string"){l=i.substring(0,i.indexOf("(")-1)}return{Low:o,High:null,Option:"EQ",Text:l}}}}}return{processPrivateParams:u,formatSemanticDateTime:f,semanticHeaderContentUrl:l,getDateRangeValue:v}});
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine("sap/insights/utils/oDataModelProvider", ["sap/ui/model/odata/v2/ODataModel"],function(e){var t={};function a(t){var a=t.filterService;var r=a&&a.uri;var i=a&&a.settings;var n=[];if(i){i.annotations.forEach(function(e){var a=t[e];var r=a.uri;n.push(r)});if(i.odataVersion==="2.0"){return new e(r,{annotationURI:n,loadAnnotationsJoined:true})}}}function r(e){var r=e.filterService.uri;var i=a(e);t[r]={oData:i,loaded:undefined};return new Promise(function(e){if(i){i.attachMetadataLoaded(function(a){return a.getSource().getMetaModel().loaded().then(function(){t[r].loaded=true;e(t[r])})});i.attachMetadataFailed(function(){t[r].loaded=false;e(t[r])})}else{e(t[r])}})}function i(e){if(e.filterService&&e.filterService.uri){var a=e.filterService.uri;if(t[a]){return Promise.resolve(t[a])}else{return r(e)}}else{Promise.resolve(undefined)}}return{getOdataModel:i}});
sap.ui.require.preload({
	"sap/insights/copy/Copy.view.xml":'<mvc:View displayBlock="true" \n  controllerName="sap.insights.copy.Copy"\n  xmlns="sap.m"\n  xmlns:mvc="sap.ui.core.mvc"\n  xmlns:core="sap.ui.core"\n  xmlns:w="sap.ui.integration.widgets"\n  xmlns:f="sap.ui.layout.form"\n  xmlns:l="sap.ui.layout"><Page id="copyCardPage" backgroundDesign="List" enableScrolling="true" title="{i18n>copyCard}"><headerContent><VBox direction="Row"><Button\n                        class="sapUiTinyMarginEnd"\n                        type="Emphasized"\n                        text="{i18n>save}"\n                        press=".handleCardCopyPress"/><Button\n                        text="{i18n>cancelButton}"\n                        press=".onNavBack"/></VBox></headerContent><FlexBox id="CopyCardFlexWrapper" alignItems="Start" justifyContent="SpaceBetween" height="100%" direction="Column" class="sapUiTinyMarginBegin sapUiSmallMarginEnd"><Title id="CopyCardEditDetailsTitle" text="{i18n>editDetails}" titleStyle="H5" width="100%" class="sapUiSmallMarginTop sapUiSmallMarginBegin" /><f:SimpleForm id="CopyCardsEditDetailsForm" class="sapContrastPlus sapUiSmallMarginBegin" backgroundDesign="Transparent" width="100%" editable="true" layout="ColumnLayout"><f:content><Label id="CopyCardsEditTitleLabel" text="{i18n>title}" required="true" /><Input id="CopyCardsEditTitleField" value="{copyCardView>descriptorContent/sap.card/header/title}" change=".handleCardsInputChange" valueStateText="{i18n>emptyTitle}" /><Label id="CopyCardsEditSubTitleLabel" text="{i18n>subTitle}" /><Input id="CopyCardsEditSubTitleField" value="{copyCardView>descriptorContent/sap.card/header/subTitle}" change=".handleCardsInputChange"/></f:content></f:SimpleForm><FlexBox id="copyCardSmartForm" class="sapUiTinyMarginTop" justifyContent="Center" direction="Column" width="100%"/><DynamicDateRange id="hiddenDDR" hideInput="true"/><DynamicDateRange id="hiddenFilterDDR" hideInput="true"/><VBox id="CopyCardPreviewVBoxWrapper" class="sapUiMediumMarginTop" backgroundDesign="Transparent" height="100%" width="100%" ><HBox id="CopyCardPreviewHBox" alignItems="Center" justifyContent="SpaceBetween" width="100%"><Title id="CopyCardPreviewTitle" text="{i18n>preview}" titleStyle="H5" class="sapUiSmallMarginBegin" /><Link id="CopyCardPreviewRefreshButton" text="{i18n>refresh}" press="_handleCardPreviewPress"/></HBox><VBox id="CopyCardsPreviewVBox" alignItems="Center" class="sapUiMediumMarginBottom"><w:Card id="copyCardPreview" manifest="{copyCardView>descriptorContent}" parameters="{copyCardView>params}" width="16rem" height="23.5rem"/></VBox></VBox></FlexBox></Page></mvc:View>',
	"sap/insights/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.insights","type":"library","embeds":[],"applicationVersion":{"version":"1.108.0"},"title":"SAP UI library: sap.insights","description":"SAP UI library: sap.insights","ach":"CA-FLP-EXT-INS","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.0"},"sap.viz":{"minVersion":"1.108.0","lazy":true},"sap.m":{"minVersion":"1.108.0","lazy":true},"sap.ui.integration":{"minVersion":"1.108.0","lazy":true},"sap.f":{"minVersion":"1.108.0","lazy":true},"sap.ui.layout":{"minVersion":"1.108.0","lazy":true}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":[""]},"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/insights/preview/Preview.view.xml":'<mvc:View displayBlock="true" controllerName="sap.insights.preview.Preview" xmlns="sap.m" xmlns:w="sap.ui.integration.widgets" xmlns:mvc="sap.ui.core.mvc" id="previewView"><Dialog id="previewDialog" title="{i18n>INT_PREVIEW_POPOVER_BUTTON_TITLE}" resizable="true" contentWidth= "352px" draggable="true"><content><VBox class="sapUiSmallMargin"><w:Card id="insightsCard" manifest="{cardPreviewModel>/descriptor}" width="100%" height="500px"/><Label id="labelTitle" class="sapUiTinyMarginTop" text="{i18n>INT_Preview_TitleField_Label}" required="true" labelFor="titleTextInput"/><Input id="titleTextInput" change=".handleTitleChange" value="{cardPreviewModel>/descriptor/sap.card/header/title}" /><Label id="labelSubTitle" text="{i18n>INT_Preview_SubTitleTitleField_Label}" class="sapUiTinyMarginTop" labelFor="subTitleTextInput"/><Input id="subTitleTextInput" change=".handleSubTitleChange" value="{cardPreviewModel>/descriptor/sap.card/header/subTitle}"/><Label id="visibilityLabel" text="{i18n>INT_Preview_Visibility_Label}" class="sapUiTinyMarginTop" labelFor="switch"/><Switch id="switch" change=".handleVisibilityChange" state="{cardPreviewModel>/descriptor/sap.insights/visible}" customTextOn="Yes" customTextOff="No" enabled="{= !${cardPreviewModel>/isMessageVisible}}"/><MessageStrip text="{cardPreviewModel>/message}" type="{cardPreviewModel>/messageType}" visible="{cardPreviewModel>/isMessageVisible}" showIcon="false" showCloseButton="false" class="sapUiTinyMarginTop sapUiMediumMarginBottom"/></VBox></content><buttons><Button text="{i18n>INT_DIALOG_Ok}" type="Emphasized" press=".save"/><Button text="{i18n>INT_DIALOG_CANCEL}" press=".cancel" /><Button text="{i18n>INT_SELECTION_DIALOG_OPEN}" press=".showCardSelectionDialog" /></buttons></Dialog></mvc:View>',
	"sap/insights/selection/CardList.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:dnd="sap.ui.core.dnd"\n    xmlns:l="sap.ui.layout"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"><Page id="insightCardPage" showHeader="false" backgroundDesign="List" enableScrolling="false"><FlexBox id="flexContainerCardsContent" class="flexContainerCards" alignItems="Start" justifyContent="Start" height="100%" width="100%" direction="Column"><VBox id="insightCardMessageVBox" alignItems="Start" width="calc(100% - 2rem)" class="sapUiSmallMarginTop sapUiSmallMarginBegin" visible="{= ${view>/cardCount} === 0 ? false : true}"><MessageStrip id="insightMaxCardMsg" text="{i18n>insightMaxCardText}" type="Warning" showIcon="true" visible="{= ${view>/visibleCardCount} &gt; 9 ? true : false}"/><Text id="insightCardText" text="{i18n>insightCardTabText}" class="sapUiSmallMarginTop" textAlign="Start"  width="100%" visible="{= (${view>/visibleCardCount} &lt; 10 &amp;&amp; ${view>/cards/length} &gt; 0) ? true : false}"/></VBox><VBox id="insightCardTitleVBox" width="calc(100% - 2rem)" class="sapUiSmallMarginTop sapUiSmallMarginBegin" visible="{= ${view>/cardCount} === 0 ? false : true}"><Title id="availableInsightsCardsTitle" text="{i18n>availableCards} ({view>/visibleCardCount}/{view>/cardCount})" titleStyle="H5"/><HBox width="100%" justifyContent="SpaceBetween" class="sapUiTinyMarginTop"><VBox width="90%"><SearchField id="editInsightsSearch" liveChange=".onCardSearch" width="100%"/></VBox><Button width="10%" type="Transparent" icon="sap-icon://refresh" press="refreshCardList" /></HBox></VBox><FlexBox id="editInsightsCardsFlex" class="sapUiSmallMarginBegin sapUiSmallMarginTop flexContainerCards" alignItems="Start" justifyContent="Start" height="100%" width="calc(100% - 2rem)" direction="Row" visible="{= ${view>/cardCount} === 0 ? false : true}"><VBox id="insightsCardsVBox" height="100%" width="100%" justifyContent="Start" direction="Column"><ScrollContainer id="idCardsScrollContainer" vertical="true" horizontal="false" height="100%" width="100%"><Table id="insightsCardsListTable" class="sapContrastPlus" items="{path: \'view>/cards\'}"><columns><Column id="idTableCheckBoxColumn" hAlign="Center" width="10%"/><Column id="idSectionTitleColumn" width="90%"/></columns><dragDropConfig><dnd:DragInfo\n                                    id="idCardsDragInfo"\n                                    groupName="editInsightCards"\n                                    sourceAggregation="items" /><dnd:DropInfo\n                                    id="idCardsDropInfo"\n                                    groupName="editInsightCards"\n                                    targetAggregation="items"\n                                    dropPosition="On"\n                                    drop=".onEditInsightCardsDrop" /></dragDropConfig><items><ColumnListItem id="idCardsListItem" press=".handleCardListItemPress" class="insightsListItem insightsListMargin" type="Navigation"><cells><HBox><core:Icon id="editInsightsCardsDnDIcon" src="sap-icon://BusinessSuiteInAppSymbols/icon-grip" class="insightsDndIcon" /><CheckBox id="idSectionsSelect" selected="{view>visibility}" blocked="{= !${view>visibility} &amp;&amp; ${view>/visibleCardCount} === 10 ? true : false}" select=".handleCardVisibilityToggle" /></HBox></cells><cells><ObjectIdentifier id="idCardTitle" title="{view>descriptorContent/sap.card/header/title}" text="{view>descriptorContent/sap.card/header/subTitle}" tooltip="{view>descriptorContent/sap.card/header/title}"/></cells></ColumnListItem></items></Table></ScrollContainer></VBox></FlexBox><ScrollContainer id="idNoInsightsCardsScrollContainer" visible="{= ${view>/cardCount} === 0 ? true : false}" vertical="true" horizontal="false" height="100%" width="100%"><f:IllustratedMessage id="editInsightNoInsightsCardsMsg" class="sapFIllustratedMessageAlign sapFFrequentIllustratedMessageAlign sapUiMargin-24Top" illustrationSize="Auto" illustrationType="sapIllus-SimpleEmptyList" title="{i18n>editInsightsEmptyCardTitle}" description="{i18n>editInsightsEmptyCardSubTitle}"/></ScrollContainer></FlexBox></Page></core:FragmentDefinition>',
	"sap/insights/selection/CardPreview.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:l="sap.ui.layout"\n    xmlns:f="sap.f"\n    xmlns:w="sap.ui.integration.widgets"><FlexBox id="idCardsPreviewFlex" height="100%" direction="Column" class="sapUiTinyMarginBegin"><ScrollContainer id="idCardsPreviewContainer" vertical="true" horizontal="false" height="100%"><VBox id="idPreviewTitleVBox" height="100%" width="100%"><Title id="previewTitle" text="{i18n>preview}" titleStyle="H4" class="sapUiSmallMargin" /><VBox id="idCardsPreviewVBox" alignItems="Center" justifyContent="Center"><w:Card id="previewCard" manifest="{view>descriptorContent}" width="16rem" height="23.5rem" visible="{= ${view>/cards/length} === 0 ? false : true}" host="previewHost" manifestReady=".setCopyVisible(${view>descriptorContent})"/></VBox><FlexBox id="smartForm" class="sapUiTinyMarginTop" justifyContent="Center" direction="Column"/><HBox id="otherSectionHBox" direction="Column"><VBox id="otherSectionTitleVBox" width="100%"><Title id="otherSectionTitle" text="Others" titleStyle="H5" class="sapUiSmallMargin" /></VBox><l:Grid\n                        id="parentAppLinkGrid"\n                        width="100%"\n                        vSpacing="0"\n                        hSpacing="1"\n                        position="Left"\n                        defaultSpan="XL6 L6 M4 S6"\n                        defaultIndent="XL0 L0 M0 S0"><VBox id="parentAppLabelVBox" width="100%" alignItems="End" class="sapUiSmallMarginEnd"><Label id="parentAppLabel" text="{i18n>parentApp}" /></VBox><VBox id="parentAppLinkVBox" width="100%"><Link id="parentAppLink" text="{view>/parentAppTitle}" wrapping="true" press=".navigateToParentApp"/></VBox></l:Grid></HBox></VBox><VBox></VBox></ScrollContainer></FlexBox></core:FragmentDefinition>',
	"sap/insights/selection/Selection.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:dnd="sap.ui.core.dnd"\n    xmlns:l="sap.ui.layout"\n    xmlns:f="sap.f"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:w="sap.ui.integration.widgets"><NavContainer id="selectionNavCon"><core:Fragment fragmentName="sap.insights.selection.CardList" type="XML" /><Page id="previewPage" showNavButton="true" navButtonPress="onNavBack" backgroundDesign="Transparent" title="{view>/selectedCardTitle}"><headerContent><VBox direction="Row"><Button\n                            class="sapUiTinyMarginEnd"\n                            text="{i18n>delete}"\n                            press=".handleCardDeleteConfirm"/><Button\n                            text="{i18n>copy}"\n                            press=".navigateToCopyCard" visible="{= (${view>/showCopyButton} &amp;&amp; !${view>/selectionDialogOpen}) ? true : false}"/></VBox></headerContent><core:Fragment fragmentName="sap.insights.selection.CardPreview" type="XML" /></Page><mvc:XMLView viewName="sap.insights.copy.Copy" id="insightsCopyCardView" /></NavContainer></core:FragmentDefinition>',
	"sap/insights/selection/Selection.view.xml":'<mvc:View displayBlock="true" controllerName="sap.insights.selection.Selection" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"><core:Fragment fragmentName="sap.insights.selection.Selection" type="XML" /></mvc:View>',
	"sap/insights/selection/SelectionDialog.view.xml":'<mvc:View displayBlock="true" controllerName="sap.insights.selection.Selection" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"><Dialog id="insightsSelectionDialog" title="{i18n>CARD_SELECTION_DIALOG_HEADER}" contentHeight="65rem" contentWidth="50rem" verticalScrolling="false" class="sapContrastPlus" resizable="true" draggable="true"><content><core:Fragment fragmentName="sap.insights.selection.Selection" type="XML" /></content><buttons><Button id="idSectionsCancelBtn" text="{i18n>INT_DIALOG_Close}" type="Transparent" press=".closeDialog" /></buttons></Dialog></mvc:View>'
});
//# sourceMappingURL=library-preload.js.map
