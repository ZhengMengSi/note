{"version":3,"file":"Selection.controller.js","names":["sap","ui","define","ResourceModel","CardHelper","MessageBox","MessageToast","BaseController","Filter","FilterOperator","UriParameters","DEFAULT_CARD_RANK","extend","onInit","I18_BUNDLE","getCore","getLibraryResourceBundle","this","getView","setModel","bundle","i18Bundle","getModel","getResourceBundle","oNavCon","byId","setBusy","initUserCards","showSelectionDialog","oCard","orgCard","setProperty","_getSelectionDialog","open","_getSelectionFragment","_getCardListPage","_getPreviewPage","closeDialog","getServiceAsync","then","oInstance","to","close","showCardPreview","bind","handleCardListItemPress","oEvent","oDynCard","oModel","currentCardPreviewPath","getSource","getBindingContextPath","cardTitle","getProperty","descriptorContent","header","title","oPage","oContext","createBindingContext","setBindingContext","oFormElement","removeAllItems","_setSmartFormForCardEdit","oCardHelperServiceInstance","getParentAppDetails","oParentAppDetails","semanticObject","setCopyVisible","oManifest","oCardDataSource","dataSources","oFilterService","filterService","uri","oTempSettings","settings","odataVersion","handleCardVisibilityToggle","oEventParameters","sPath","getBindingContext","getPath","bToggleValue","getSelected","visibility","visible","setSelectedCards","updateCard","catch","oError","refresh","show","message","insightsCardsListTable","getSelectedCards","length","onEditInsightCardsDrop","oDragItem","getParameter","iDragItemIndex","getParent","indexOfItem","oDropItem","iDropItemIndex","aCards","oCardRankObj","_setCardsRanking","setCardsRanking","oUpdatedCards","_createOdataModelsforDialog","finally","e","handleCardDeleteConfirm","getText","icon","Icon","WARNING","actions","Action","DELETE","CANCEL","emphasizedAction","onClose","sAction","handleCardDelete","sCardId","id","sCardTitle","deleteCard","aNewCardSet","filter","aVisibleCards","back","oService","getUserCardModel","userCardModel","iVisibleCount","forEach","rank","Promise","resolve","aOrgCards","iDragIndex","iDropIndex","JSON","parse","stringify","aCardsRank","getAffectedCardsList","index","iDropIndexCardRank","push","setRankForAffectedCards","removedCard","splice","reverse","Ranking","onNavBack","navigateToCopyCard","getController","initCopyCard","onCardSearch","sQuery","getValue","Contains","aFilters","oList","oBinding","getBinding","refreshCardList","_refreshUserCards","isDeleteAllCardsEnabled","sEnableDeleteAllCardsFlag","fromQuery","window","location","search","get","toUpperCase","navigateToParentApp","sUrl","ushell","Container","oCrossAppNavigator","toExternal","target","shellHash","navigateToCardPreview","iCardIndex","findIndex","aCardList","getItems"],"sources":["Selection-dbg.controller.js"],"mappings":"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"}