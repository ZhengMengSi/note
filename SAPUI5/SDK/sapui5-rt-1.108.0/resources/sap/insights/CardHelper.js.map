{"version":3,"file":"CardHelper.js","names":["sap","ui","define","Log","JSONModel","Core","BASE_URL","REPO_BASE_URL","CARD_ENTITY_NAME","CARD_READ_URL","POST","PUT","bIsSupported","oLogger","getLogger","I18_BUNDLE","getCore","getLibraryResourceBundle","PREVIEW_XML","SELECTION_XML","SELECTION_DIALOG_XML","COPY_XML","getCardEntityUrl","sCardId","fetchCSRFToken","fetch","method","headers","then","resposne","token","get","ok","logAndThrowException","getText","merge","oPayload","sCSRFToken","sMethod","indexOf","id","sUrl","descriptorContent","JSON","stringify","sPayload","body","response","json","oResponse","error","message","parse","setRank","oRank","changedCards","value","forEach","oCard","validateCardId","aTempArray","split","deleteCard","isSupported","DISABLED_ERR_MSG","CUSTOM_HOME_COMP_ID","uShellConfig","window","bInsightsEnabled","apps","insights","enabled","sCustomHomeComponentId","ushell","homeApp","component","name","bComponentIdCorrect","bProductHomeSupported","spaces","myHome","Promise","resolve","reject","Error","oError","sMsg","validateCardManifest","oCardManifest","bInvalidManifest","type","toLowerCase","aValidCardType","parentAppId","cardType","versions","ui5","aContentActions","aHeaderActions","oParameters","bActionExists","sCardType","content","actions","header","filter","oAction","parameters","ibnTarget","semanticObject","action","length","configuration","state","item","row","oHeaderStateParameters","oContentStateParameters","headerState","lineItemState","bHeaderAction","bContentAction","CardHelperService","localCardCache","userCardModel","setDefaultBindingMode","suggestedCardModel","_mergeCard","this","bind","createCard","updateCard","getUserCards","userCards","url","_readCard","aCards","getUserCardModel","aVisibleCards","visibility","setProperty","getSuggestedCards","suggestedCards","getSuggestedCardModel","oData","setCardsRanking","_refreshUserCards","oFlag","oBody","deleteAllCards","getParentAppDetails","oParentApp","Container","getServiceAsync","ClientSideTargetResolution","aAvailableApps","_oAdapter","_aInbounds","oApp","find","resolutionResult","applicationDependencies","title","UIService","_oViewCache","_getLoadLibraryPromise","sViewName","aPromise","all","loadLibrary","_getXMLView","core","mvc","XMLView","create","viewName","oView","showCardPreview","oXMLView","getController","showPreview","_showCardSelectionDialog","showSelectionDialog","sServiceName","catch"],"sources":["CardHelper-dbg.js"],"mappings":"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"}