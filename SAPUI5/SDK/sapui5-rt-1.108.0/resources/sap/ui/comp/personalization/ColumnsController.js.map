{"version":3,"file":"ColumnsController.js","names":["sap","ui","define","BaseController","MLibrary","CompLibrary","Util","merge","ColumnsController","extend","constructor","sId","mSettings","apply","this","arguments","setType","P13nPanelType","columns","setItemType","metadata","properties","triggerModelChangeOnColumnInvisible","type","group","defaultValue","events","afterColumnsModelDataChange","prototype","setTable","oTable","getTableType","personalization","TableType","ResponsiveTable","oColumnResizerPlugin","findElements","oElement","isA","detachColumnResize","_onColumnResize","attachColumnResize","AnalyticalTable","Table","TreeTable","detachColumnMove","_onColumnMove","detachColumnVisibility","_onColumnVisibility","attachColumnMove","attachColumnVisibility","_monkeyPatchTable","getColumn2Json","oColumn","sColumnKey","iIndex","columnKey","index","visible","getVisible","width","getWidth","undefined","total","getSummed","getAdditionalData2Json","oJsonData","fixedColumnCount","getFixedColumnCount","getColumn2JsonTransient","sText","sTooltip","text","tooltip","handleIgnore","oJson","columnsItems","syncJson2Table","getTable","oColumnKey2ColumnMap","getColumnMap","fireBeforePotentialTableChange","_applyChangesToUiTableType","_applyChangesToMTableType","fireAfterPotentialTableChange","getDataSuiteFormat2Json","oDataSuiteFormat","createControlDataStructure","fnAddProperty","sPropertyName","oPropertyValue","getIndexByKey","length","splice","getControlDataInitial","filter","oMItem","forEach","Visualizations","aLineItemVisualizations","oVisualization","Type","Content","oContent","Value","aColumnWidthVisualizations","Width","Total","getDataSuiteFormatSnapshot","oControlDataTotal","getUnionData","getControlData","aColumnsItemsContainingTotal","oColumnsItem","map","aColumnsItemsVisible","sort","_sortByIndex","push","Label","aColumnWidthItems","oEvent","iIndexTo","getParameter","getColumnKey","oControlData","iIndexFrom","aMItem","iItemIndex","updateControlDataBaseFromJson","fireAfterColumnsModelDataChange","_updateInternalModel","_onColumnTotal","oParams","column","isSummed","_onColumnFixedCount","iFixedColumnCount","getInternalModel","setProperty","vPropertyValue","getPanel","oPayload","iVisibleItemsThreshold","visibleItemsThreshold","Promise","resolve","require","P13nColumnsPanel","P13nItem","P13nColumnsItem","items","path","template","beforeNavigationTo","setModelFunction","changeColumnsItems","oControlDataReduce","getControlDataReduce","setControlDataReduce2Model","_enhanceForStableKeys","fireAfterPotentialModelChange","json","bind","retrieveAdaptationUI","SelectionPanel","aP13nData","getAdaptationData","oSelectionPanel","showHeader","enableCount","fieldColumn","getCore","getLibraryResourceBundle","getText","setP13nData","_oListControl","setMultiSelectMode","oPanel","aMapped","attachChange","oChangeEvt","getSource","getP13nData","oP13nItem","oP13nColumnItem","name","position","_sortAdaptationData","oNew","_transformAdaptationData","oReduce","oTransient","oAdaptationItem","a","b","oColumnsItemsMap","that","fSetOrderArray","aColumnsItems","aColumnKeys","aColumnsItemsSortedByIndex","indexOf","fSetVisibility","setVisible","fSetOrder","iTableColumnIndex","indexOfColumn","iModelColumnIndex","removeColumn","insertColumn","fSetWidth","setWidth","fSetTotal","setSummed","aColumnsItemsArray","getColumnKeys","setFixedColumnCount","bTableInvalidateNeeded","setOrder","invalidate","getChangeType","oControlDataReduceBase","oControlDataReduceCompare","oChangeData","getChangeData","bNeedModelChange","getTriggerModelChangeOnColumnInvisible","oChangeType","ChangeType","TableChanged","some","oItem","ModelChanged","Unchanged","copy","bIsEqual","oItemCompare","getArrayElementByKey","semanticEqual","aToBeDeleted","property","Object","keys","_sortArrayByPropertyName","aArrayToBeSorted","bTakeACopy","aSortedArray","propertyA","propertyB","oJsonBase","oUnion","sAttribute","Array","isArray","oMItemBase","oMItemUnion","getStableColumnKeys","_checkFillRequired","aGapsFilled","_getFilledArray","mJson","reduce","obj","bFillRequired","mJsonBase","i","iIndexNew","fixConflictWithIgnore","oJsonIgnore","bIsConflictSituation","oMItemIgnore","isColumnSelected","fSetFixedColumnCountOrigin","fSetFixedColumnCountOverwritten","bSuppressInvalidate","toString","exit"],"sources":["ColumnsController-dbg.js"],"mappings":"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"}