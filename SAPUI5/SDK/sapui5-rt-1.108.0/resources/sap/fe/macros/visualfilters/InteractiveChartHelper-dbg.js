/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/util/JSTokenizer", "sap/fe/core/CommonUtils", "sap/fe/core/controls/filterbar/utils/VisualFilterUtils", "sap/fe/core/helpers/StableIdHelper", "sap/fe/core/templating/CriticalityFormatters", "sap/fe/core/templating/FilterHelper", "sap/fe/macros/CommonHelper", "sap/fe/macros/filter/FilterFieldHelper", "sap/fe/macros/ResourceModel", "sap/ui/core/format/NumberFormat", "sap/ui/mdc/condition/ConditionConverter", "sap/fe/core/type/TypeUtil", "sap/ui/model/odata/v4/AnnotationHelper", "sap/ui/model/odata/v4/ODataUtils"], function (JSTokenizer, CommonUtils, VisualFilterUtils, StableIdHelper, CriticalityFormatters, FilterHelper, CommonHelper, FilterFieldHelper, ResourceModel, NumberFormat, ConditionConverter, TypeUtil, ODataModelAnnotationHelper, ODataUtils) {
  "use strict";

  var getFiltersConditionsFromSelectionVariant = FilterHelper.getFiltersConditionsFromSelectionVariant;
  var buildExpressionForCriticalityColorMicroChart = CriticalityFormatters.buildExpressionForCriticalityColorMicroChart;
  var generate = StableIdHelper.generate;

  var InteractiveChartHelper = {
    getChartDisplayedValue: function (value, oValueFormat, sMetaPath) {
      //var sType = "" + value + "@odata.type";
      var sInfoPath = generate([sMetaPath]);
      return "{parts:[{path:'" + value + "',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}" + (oValueFormat && oValueFormat.ScaleFactor ? ",{value:'" + oValueFormat.ScaleFactor.$Decimal + "'}" : ",{path:'internal>scalefactorNumber/" + sInfoPath + "'}") + (oValueFormat && oValueFormat.NumberOfFractionalDigits ? ",{value:'" + oValueFormat.NumberOfFractionalDigits + "'}" : ",{value:'0'}") + ",{path:'internal>currency/" + sInfoPath + "'}" + ",{path:'" + value + "',type:'sap.ui.model.odata.type.String', constraints:{'nullable':false}}" + "], formatter:'VisualFilterRuntime.scaleVisualFilterValue'}"; //+ sType.split('#').length ? sType.split('#')[1] : 'Decimal' + "}";
    },
    getChartValue: function (oValue) {
      return "{path:'" + oValue + "',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}";
    },
    getChart: function (oMetaPath) {
      var oModel = oMetaPath.getModel();
      var oPresentationVariant = oModel.getObject(oMetaPath.getPath());
      var aVisualizations = oPresentationVariant.Visualizations;

      for (var i = 0; i < aVisualizations.length; i++) {
        if (aVisualizations[i].$AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart") > -1) {
          var sCollectionPath = ODataModelAnnotationHelper.getNavigationPath(oMetaPath.getPath());
          return oModel.createBindingContext(sCollectionPath + "/" + aVisualizations[i].$AnnotationPath);
        }
      }

      return undefined;
    },
    getChartLabel: function () {
      return arguments.length <= 2 ? undefined : arguments[2];
    },

    /**
     * Build the expression for measure path based on whether CustomAggregate/Dynamic/TransformationAggregate measures exists.
     *
     * @param oChartAnnotation Chart configurations.
     * @param bCustomAggregate Indicator for existence for custom aggregates in chart measures.
     * @returns Measure Path
     */
    _getMeasurePath: function (oChartAnnotation, bCustomAggregate) {
      var sMeasurePath;

      if (bCustomAggregate) {
        sMeasurePath = "/Measures/0/$PropertyPath";
      }

      if (oChartAnnotation.DynamicMeasures && oChartAnnotation.DynamicMeasures.length > 0) {
        sMeasurePath = "/DynamicMeasures/0/$AnnotationPath/AggregatableProperty/$PropertyPath";
      } else if (!bCustomAggregate && oChartAnnotation.Measures && oChartAnnotation.Measures.length > 0) {
        sMeasurePath = "/Measures/0/$PropertyPath";
      }

      return sMeasurePath;
    },
    getAggregationBinding: function (oInterface, oChartAnnotations, oCollection, oTextAssociation, oDimensionType, aSortOrder, selectionVariantAnnotation, bCustomAggregate, oAggregation, bUoMHasCustomAggregate, aParameters, oFilterBarContext, bDraftSupported, sChartMeasure) {
      var oContextPath = oFilterBarContext.getProperty("contextPath");
      var sEntityType = oContextPath ? oContextPath.getPath() : "";
      var sDimension = oChartAnnotations.Dimensions[0].$PropertyPath;
      var aFilters = [];
      var sAggregationExpression, sUOMExpression, filterConditions, sBindingPath;
      var sCollectionName = oCollection.$kind == "NavigationProperty" ? oInterface.getPath(1) : (oCollection.$kind == "EntitySet" ? "/" : "") + oInterface.getModel(1).getObject("".concat(oInterface.getPath(1), "@sapui.name"));
      var vUOM = InteractiveChartHelper.getUoM(oInterface, oChartAnnotations, oCollection, undefined, bCustomAggregate, oAggregation);
      var sEntitySetPath = oInterface.getInterface(1).getPath(),
          oMetaModel = oInterface.getInterface(1).getModel();

      if (bDraftSupported) {
        aFilters.push({
          operator: "EQ",
          value1: "true",
          value2: null,
          path: "IsActiveEntity",
          isParameter: true
        });
      }

      if (selectionVariantAnnotation && selectionVariantAnnotation.getObject()) {
        filterConditions = getFiltersConditionsFromSelectionVariant(sEntitySetPath, oMetaModel, selectionVariantAnnotation.getObject(), VisualFilterUtils.getCustomConditions.bind(VisualFilterUtils));

        for (var sPath in filterConditions) {
          var aConditions = filterConditions[sPath];
          aConditions.forEach(function (oCondition) {
            if (!oCondition.isParameter) {
              aFilters.push(oCondition);
            }
          });
        }
      }

      if (sEntityType !== "".concat(sCollectionName, "/") && aParameters && aParameters.length && filterConditions) {
        var aParams = [];
        var convertedFilterConditions = VisualFilterUtils.convertFilterCondions(filterConditions);
        var parameterProperties = CommonUtils.getParameterInfo(oMetaModel, sCollectionName).parameterProperties;

        for (var i in aParameters) {
          var parameter = aParameters[i];
          var oProperty = parameterProperties[parameter];
          var sEntityPath = sEntitySetPath.split("/")[1];
          var oPropertyContext = oMetaModel.createBindingContext("/".concat(sEntityPath, "/").concat(parameter));
          var oFormatOptions = JSTokenizer.parseJS(FilterFieldHelper.formatOptions(oProperty, {
            context: oPropertyContext
          }) || "{}");
          var oConstraints = JSTokenizer.parseJS(FilterFieldHelper.constraints(oProperty, {
            context: oPropertyContext
          }) || "{}");
          var typeConfig = TypeUtil.getTypeConfig(oProperty.$Type, oFormatOptions, oConstraints);
          var oCondition = convertedFilterConditions[parameter];
          var oConditionInternal = oCondition ? oCondition[0] : undefined;

          if (oConditionInternal) {
            var mInternalParameterCondition = ConditionConverter.toType(oConditionInternal, typeConfig, TypeUtil);
            var sEdmType = oProperty.$Type;
            var sValue = encodeURIComponent(ODataUtils.formatLiteral(mInternalParameterCondition.values[0], sEdmType));
            sValue = sValue.replaceAll("'", "\\'");
            aParams.push("".concat(parameter, "=").concat(sValue));
          }
        }

        var sParameterEntitySet = sCollectionName.slice(0, sCollectionName.lastIndexOf("/"));
        var sTargetNavigation = sCollectionName.substring(sCollectionName.lastIndexOf("/") + 1); // create parameter context

        sBindingPath = "".concat(sParameterEntitySet, "(").concat(aParams.toString(), ")/").concat(sTargetNavigation);
        sCollectionName = sBindingPath;
      }

      if (bCustomAggregate) {
        //custom aggregate for a currency or unit of measure corresponding to this aggregatable property
        if (bUoMHasCustomAggregate) {
          sAggregationExpression = vUOM && vUOM.$Path ? "{ 'unit' : '".concat(vUOM.$Path, "' }") : "{}";
          sUOMExpression = "";
        } else {
          sAggregationExpression = "{}";
          sUOMExpression = vUOM && vUOM.$Path ? ", '".concat(vUOM.$Path, "' : {}") : "";
        }
      } else if (oAggregation && oAggregation.AggregatableProperty && oAggregation.AggregatableProperty.value && oAggregation.AggregationMethod) {
        sAggregationExpression = "{ 'name' : '" + oAggregation.AggregatableProperty.value + "', 'with' : '" + oAggregation.AggregationMethod + "'}";
        sUOMExpression = vUOM && vUOM.$Path ? ", '" + vUOM.$Path + "' : {}" : "";
      }

      var sTextAssociationExpression = oTextAssociation ? "' : { 'additionally' : ['" + oTextAssociation.$Path + "'] }" : "' : { }";
      var sFilterExpression = JSON.stringify(aFilters);
      return "{path: '" + sCollectionName + "', templateShareable: true, suspended : true, 'filters' : " + sFilterExpression + ",'parameters' : {" + InteractiveChartHelper.getSortOrder(oInterface, oMetaModel, oChartAnnotations, oDimensionType, aSortOrder, sChartMeasure) + ", '$$aggregation' : {'aggregate' : {'" + sChartMeasure + "' : " + sAggregationExpression + "},'group' : {'" + sDimension + sTextAssociationExpression + sUOMExpression + "} } }" + InteractiveChartHelper.getMaxItems(oChartAnnotations) + "}";
    },
    getSortOrder: function (oInterface, oMetaModel, oChartAnnotations, sDimensionType, aSortOrder, sChartMeasure) {
      var sSortPropertyName;

      if (oChartAnnotations.ChartType.$EnumMember === "com.sap.vocabularies.UI.v1.ChartType/Donut" || oChartAnnotations.ChartType.$EnumMember === "com.sap.vocabularies.UI.v1.ChartType/Bar") {
        if (aSortOrder && aSortOrder.length) {
          if (aSortOrder[0].DynamicProperty) {
            sSortPropertyName = oMetaModel.getObject(oInterface.getPath(0).split("@")[0] + aSortOrder[0].DynamicProperty.$AnnotationPath).Name;
          } else {
            sSortPropertyName = aSortOrder[0].Property.$PropertyPath;
          }

          if (sSortPropertyName === sChartMeasure) {
            return "'$orderby' : '" + sChartMeasure + (aSortOrder[0].Descending ? " desc'" : "'");
          }

          return "'$orderby' : '" + sChartMeasure + " desc'";
        }

        return "'$orderby' : '" + sChartMeasure + " desc'";
      } else if (sDimensionType === "Edm.Date" || sDimensionType === "Edm.Time" || sDimensionType === "Edm.DateTimeOffset") {
        return "'$orderby' : '" + oChartAnnotations.Dimensions[0].$PropertyPath + "'";
      } else if (aSortOrder && aSortOrder.length && aSortOrder[0].Property.$PropertyPath === oChartAnnotations.Dimensions[0].$PropertyPath) {
        return "'$orderby' : '" + aSortOrder[0].Property.$PropertyPath + (aSortOrder[0].Descending ? " desc'" : "'");
      } else {
        return "'$orderby' : '" + oChartAnnotations.Dimensions[0].$PropertyPath + "'";
      }
    },
    getMaxItems: function (oChartAnnotations) {
      if (oChartAnnotations.ChartType.$EnumMember === "com.sap.vocabularies.UI.v1.ChartType/Bar") {
        return ",'startIndex' : 0,'length' : 3";
      } else if (oChartAnnotations.ChartType.$EnumMember === "com.sap.vocabularies.UI.v1.ChartType/Line") {
        return ",'startIndex' : 0,'length' : 6";
      } else {
        return "";
      }
    },
    getColorBinding: function (iContext, oDataPoint, oDimension) {
      var oModel = iContext.getModel(0);
      var oDimensionPath = iContext.getPath(1);
      var aValueCriticality = oModel.getObject("".concat(oDimensionPath, "$PropertyPath@com.sap.vocabularies.UI.v1.ValueCriticality"));
      oDataPoint = oDataPoint.targetObject;

      if (oDataPoint.Criticality) {
        return buildExpressionForCriticalityColorMicroChart(oDataPoint);
      } else if (oDataPoint.CriticalityCalculation) {
        var oDirection = oDataPoint.CriticalityCalculation.ImprovementDirection && oDataPoint.CriticalityCalculation.ImprovementDirection.$EnumMember;
        var oDataPointValue = ODataModelAnnotationHelper.value(oDataPoint.Value, {
          context: iContext.getInterface(0)
        });
        var oDeviationRangeLowValue = ODataModelAnnotationHelper.value(oDataPoint.CriticalityCalculation.DeviationRangeLowValue, {
          context: iContext.getInterface(0)
        });
        var oToleranceRangeLowValue = ODataModelAnnotationHelper.value(oDataPoint.CriticalityCalculation.ToleranceRangeLowValue, {
          context: iContext.getInterface(0)
        });
        var oAcceptanceRangeLowValue = ODataModelAnnotationHelper.value(oDataPoint.CriticalityCalculation.AcceptanceRangeLowValue, {
          context: iContext.getInterface(0)
        });
        var oAcceptanceRangeHighValue = ODataModelAnnotationHelper.value(oDataPoint.CriticalityCalculation.AcceptanceRangeHighValue, {
          context: iContext.getInterface(0)
        });
        var oToleranceRangeHighValue = ODataModelAnnotationHelper.value(oDataPoint.CriticalityCalculation.ToleranceRangeHighValue, {
          context: iContext.getInterface(0)
        });
        var oDeviationRangeHighValue = ODataModelAnnotationHelper.value(oDataPoint.CriticalityCalculation.DeviationRangeHighValue, {
          context: iContext.getInterface(0)
        });
        return CommonHelper.getCriticalityCalculationBinding(oDirection, oDataPointValue, oDeviationRangeLowValue, oToleranceRangeLowValue, oAcceptanceRangeLowValue, oAcceptanceRangeHighValue, oToleranceRangeHighValue, oDeviationRangeHighValue);
      } else if (aValueCriticality && aValueCriticality.length) {
        return CommonHelper.getValueCriticality(oDimension.$PropertyPath, aValueCriticality);
      } else {
        return undefined;
      }
    },
    getScaleUoMTitle: function (oInterface, oChartAnnotation, oCollection, sMetaPath, bCustomAggregate, oAggregation, sSeperator, bIsToolTip) {
      var oModel = oInterface.getModel(0);
      var sScaleFactor = oModel.getObject("".concat(oInterface.getPath(0), "/MeasureAttributes/0/DataPoint/$AnnotationPath/ValueFormat/ScaleFactor/$Decimal"));
      var sInfoPath = generate([sMetaPath]);
      var fixedInteger = NumberFormat.getIntegerInstance({
        style: "short",
        showScale: false,
        shortRefNumber: sScaleFactor
      });
      var sScale = fixedInteger.getScale();
      var vUOM = InteractiveChartHelper.getUoM(oInterface, oChartAnnotation, oCollection, undefined, bCustomAggregate, oAggregation);
      vUOM = vUOM && (vUOM.$Path ? "${internal>uom/" + sInfoPath + "}" : "'" + vUOM + "'");
      sScale = sScale ? "'" + sScale + "'" : "${internal>scalefactor/" + sInfoPath + "}";

      if (!sSeperator) {
        sSeperator = "|";
      }

      sSeperator = vUOM ? "' " + sSeperator + " ' + " : "";
      var sExpression = sScale && vUOM ? sSeperator + sScale + " + ' ' + " + vUOM : sSeperator + (sScale || vUOM);
      return bIsToolTip ? sExpression : "{= " + sExpression + "}";
    },
    getMeasureDimensionTitle: function (oInterface, oChartAnnotation, oCollection, bCustomAggregate, oAggregation) {
      var oModel = oInterface.getModel(0);
      var sMeasureLabel;

      var sMeasurePathExpression = InteractiveChartHelper._getMeasurePath(oChartAnnotation, bCustomAggregate);

      var sMeasurePath = oModel.getObject("".concat(oInterface.getPath(0)) + sMeasurePathExpression);
      var sDimensionPath = oModel.getObject("".concat(oInterface.getPath(0), "/Dimensions/0/$PropertyPath"));
      var sDimensionLabel = InteractiveChartHelper.getLabel(oModel, oInterface, "Dimensions");

      if (!bCustomAggregate && oAggregation) {
        // check if the label is part of aggregated properties (Transformation aggregates)
        sMeasureLabel = oAggregation.annotations && oAggregation.annotations.Common && oAggregation.annotations.Common.Label;

        if (sMeasureLabel === undefined) {
          sMeasureLabel = sMeasureLabel = InteractiveChartHelper.getLabel(oModel, oInterface, "Measures");
        }
      } else {
        sMeasureLabel = InteractiveChartHelper.getLabel(oModel, oInterface, "Measures");
      }

      if (sMeasureLabel === undefined) {
        sMeasureLabel = sMeasurePath;
      }

      if (sDimensionLabel === undefined) {
        sDimensionLabel = sDimensionPath;
      }

      return ResourceModel && ResourceModel.getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_MEASURE_DIMENSION_TITLE", [sMeasureLabel, sDimensionLabel]);
    },
    getLabel: function (oModel, oInterface, sProperty) {
      return oModel.getObject("".concat(oInterface.getPath(0), "/").concat(sProperty, "/0/$PropertyPath@com.sap.vocabularies.Common.v1.Label"));
    },
    getToolTip: function (oInterface, oChartAnnotation, oCollection, sMetaPath, bCustomAggregate, oAggregation, bRenderLineChart) {
      var sChartType = oChartAnnotation && oChartAnnotation["ChartType"] && oChartAnnotation["ChartType"]["$EnumMember"];
      var sMeasureDimensionToolTip = InteractiveChartHelper.getMeasureDimensionTitle(oInterface, oChartAnnotation, oCollection, bCustomAggregate, oAggregation);
      sMeasureDimensionToolTip = CommonHelper.escapeSingleQuotes(sMeasureDimensionToolTip);

      if (bRenderLineChart === "false" && sChartType === "com.sap.vocabularies.UI.v1.ChartType/Line") {
        return "{= '".concat(sMeasureDimensionToolTip, "'}");
      }

      var sSeperator = ResourceModel.getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_TOOLTIP_SEPERATOR");
      var sInfoPath = generate([sMetaPath]);
      var sScaleUOMTooltip = InteractiveChartHelper.getScaleUoMTitle(oInterface, oChartAnnotation, oCollection, sInfoPath, bCustomAggregate, oAggregation, sSeperator, true);
      return "{= '" + sMeasureDimensionToolTip + (sScaleUOMTooltip ? "' + " + sScaleUOMTooltip : "'") + "}";
    },
    getUoM: function (oInterface, oChartAnnotation, oCollection, isCustomData, bCustomAggregate, oAggregation) {
      var oModel = oInterface.getModel(0);

      var sMeasurePathExpression = InteractiveChartHelper._getMeasurePath(oChartAnnotation, bCustomAggregate);

      var vISOCurrency = oModel.getObject("".concat(oInterface.getPath(0)) + sMeasurePathExpression + "@Org.OData.Measures.V1.ISOCurrency");
      var vUnit = oModel.getObject("".concat(oInterface.getPath(0)) + sMeasurePathExpression + "@Org.OData.Measures.V1.Unit");
      var sMeasurePath = oModel.getObject("".concat(oInterface.getPath(0)) + sMeasurePathExpression);
      var sAggregatablePropertyPath;

      if (!bCustomAggregate && oAggregation) {
        sAggregatablePropertyPath = oAggregation.AggregatableProperty && oAggregation.AggregatableProperty.value;
      } else {
        sAggregatablePropertyPath = sMeasurePath;
      }

      var _getUOM = function (vUOM, sAnnotation) {
        var sUOM = sAnnotation && sAnnotation.split("V1.")[1];
        var oUOM = {};

        if (vUOM) {
          // check if the UOM is part of Measure annotations(Custom aggregates)
          oUOM[sUOM] = vUOM;
          return isCustomData && vUOM.$Path ? JSON.stringify(oUOM) : vUOM;
        } else if (sAggregatablePropertyPath) {
          // check if the UOM is part of base property annotations(Transformation aggregates)
          vUOM = oInterface.getModel(1).getObject("".concat(oInterface.getPath(1), "/").concat(sAggregatablePropertyPath).concat(sAnnotation));
          oUOM[sUOM] = vUOM;
          return vUOM && isCustomData && vUOM.$Path ? JSON.stringify(oUOM) : vUOM;
        }
      };

      return _getUOM(vISOCurrency, "@Org.OData.Measures.V1.ISOCurrency") || _getUOM(vUnit, "@Org.OData.Measures.V1.Unit");
    },
    getScaleFactor: function (oValueFormat) {
      if (oValueFormat && oValueFormat.ScaleFactor) {
        return oValueFormat.ScaleFactor.$Decimal;
      }

      return undefined;
    },
    getUoMVisiblity: function (oInterface, oChartAnnotation, bShowError) {
      var sChartType = oChartAnnotation && oChartAnnotation["ChartType"] && oChartAnnotation["ChartType"]["$EnumMember"];

      if (bShowError) {
        return false;
      } else if (!(sChartType === "com.sap.vocabularies.UI.v1.ChartType/Bar" || sChartType === "com.sap.vocabularies.UI.v1.ChartType/Line")) {
        return false;
      } else {
        return true;
      }
    },
    getInParameterFiltersBinding: function (aInParameters) {
      if (aInParameters.length > 0) {
        var aParts = [];
        var sPaths = "";
        aInParameters.forEach(function (oInParameter) {
          if (oInParameter.localDataProperty) {
            aParts.push("{path:'$filters>/conditions/".concat(oInParameter.localDataProperty, "'}"));
          }
        });

        if (aParts.length > 0) {
          sPaths = aParts.join();
          return "{parts:[".concat(sPaths, "], formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFiltersFromConditions'}");
        } else {
          return undefined;
        }
      } else {
        return undefined;
      }
    },
    getfilterCountBinding: function (oInterface, oChartAnnotation) {
      var sDimension = oChartAnnotation.Dimensions[0].$PropertyPath;
      return "{path:'$filters>/conditions/" + sDimension + "', formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFilterCounts'}";
    }
  };
  InteractiveChartHelper.getfilterCountBinding.requiresIContext = true;
  InteractiveChartHelper.getColorBinding.requiresIContext = true;
  InteractiveChartHelper.getAggregationBinding.requiresIContext = true;
  InteractiveChartHelper.getUoM.requiresIContext = true;
  InteractiveChartHelper.getScaleUoMTitle.requiresIContext = true;
  InteractiveChartHelper.getToolTip.requiresIContext = true;
  InteractiveChartHelper.getMeasureDimensionTitle.requiresIContext = true;
  InteractiveChartHelper.getUoMVisiblity.requiresIContext = true;
  return InteractiveChartHelper;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyIiwiZ2V0Q2hhcnREaXNwbGF5ZWRWYWx1ZSIsInZhbHVlIiwib1ZhbHVlRm9ybWF0Iiwic01ldGFQYXRoIiwic0luZm9QYXRoIiwiZ2VuZXJhdGUiLCJTY2FsZUZhY3RvciIsIiREZWNpbWFsIiwiTnVtYmVyT2ZGcmFjdGlvbmFsRGlnaXRzIiwiZ2V0Q2hhcnRWYWx1ZSIsIm9WYWx1ZSIsImdldENoYXJ0Iiwib01ldGFQYXRoIiwib01vZGVsIiwiZ2V0TW9kZWwiLCJvUHJlc2VudGF0aW9uVmFyaWFudCIsImdldE9iamVjdCIsImdldFBhdGgiLCJhVmlzdWFsaXphdGlvbnMiLCJWaXN1YWxpemF0aW9ucyIsImkiLCJsZW5ndGgiLCIkQW5ub3RhdGlvblBhdGgiLCJpbmRleE9mIiwic0NvbGxlY3Rpb25QYXRoIiwiT0RhdGFNb2RlbEFubm90YXRpb25IZWxwZXIiLCJnZXROYXZpZ2F0aW9uUGF0aCIsImNyZWF0ZUJpbmRpbmdDb250ZXh0IiwidW5kZWZpbmVkIiwiZ2V0Q2hhcnRMYWJlbCIsIl9nZXRNZWFzdXJlUGF0aCIsIm9DaGFydEFubm90YXRpb24iLCJiQ3VzdG9tQWdncmVnYXRlIiwic01lYXN1cmVQYXRoIiwiRHluYW1pY01lYXN1cmVzIiwiTWVhc3VyZXMiLCJnZXRBZ2dyZWdhdGlvbkJpbmRpbmciLCJvSW50ZXJmYWNlIiwib0NoYXJ0QW5ub3RhdGlvbnMiLCJvQ29sbGVjdGlvbiIsIm9UZXh0QXNzb2NpYXRpb24iLCJvRGltZW5zaW9uVHlwZSIsImFTb3J0T3JkZXIiLCJzZWxlY3Rpb25WYXJpYW50QW5ub3RhdGlvbiIsIm9BZ2dyZWdhdGlvbiIsImJVb01IYXNDdXN0b21BZ2dyZWdhdGUiLCJhUGFyYW1ldGVycyIsIm9GaWx0ZXJCYXJDb250ZXh0IiwiYkRyYWZ0U3VwcG9ydGVkIiwic0NoYXJ0TWVhc3VyZSIsIm9Db250ZXh0UGF0aCIsImdldFByb3BlcnR5Iiwic0VudGl0eVR5cGUiLCJzRGltZW5zaW9uIiwiRGltZW5zaW9ucyIsIiRQcm9wZXJ0eVBhdGgiLCJhRmlsdGVycyIsInNBZ2dyZWdhdGlvbkV4cHJlc3Npb24iLCJzVU9NRXhwcmVzc2lvbiIsImZpbHRlckNvbmRpdGlvbnMiLCJzQmluZGluZ1BhdGgiLCJzQ29sbGVjdGlvbk5hbWUiLCIka2luZCIsInZVT00iLCJnZXRVb00iLCJzRW50aXR5U2V0UGF0aCIsImdldEludGVyZmFjZSIsIm9NZXRhTW9kZWwiLCJwdXNoIiwib3BlcmF0b3IiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJwYXRoIiwiaXNQYXJhbWV0ZXIiLCJnZXRGaWx0ZXJzQ29uZGl0aW9uc0Zyb21TZWxlY3Rpb25WYXJpYW50IiwiVmlzdWFsRmlsdGVyVXRpbHMiLCJnZXRDdXN0b21Db25kaXRpb25zIiwiYmluZCIsInNQYXRoIiwiYUNvbmRpdGlvbnMiLCJmb3JFYWNoIiwib0NvbmRpdGlvbiIsImFQYXJhbXMiLCJjb252ZXJ0ZWRGaWx0ZXJDb25kaXRpb25zIiwiY29udmVydEZpbHRlckNvbmRpb25zIiwicGFyYW1ldGVyUHJvcGVydGllcyIsIkNvbW1vblV0aWxzIiwiZ2V0UGFyYW1ldGVySW5mbyIsInBhcmFtZXRlciIsIm9Qcm9wZXJ0eSIsInNFbnRpdHlQYXRoIiwic3BsaXQiLCJvUHJvcGVydHlDb250ZXh0Iiwib0Zvcm1hdE9wdGlvbnMiLCJKU1Rva2VuaXplciIsInBhcnNlSlMiLCJGaWx0ZXJGaWVsZEhlbHBlciIsImZvcm1hdE9wdGlvbnMiLCJjb250ZXh0Iiwib0NvbnN0cmFpbnRzIiwiY29uc3RyYWludHMiLCJ0eXBlQ29uZmlnIiwiVHlwZVV0aWwiLCJnZXRUeXBlQ29uZmlnIiwiJFR5cGUiLCJvQ29uZGl0aW9uSW50ZXJuYWwiLCJtSW50ZXJuYWxQYXJhbWV0ZXJDb25kaXRpb24iLCJDb25kaXRpb25Db252ZXJ0ZXIiLCJ0b1R5cGUiLCJzRWRtVHlwZSIsInNWYWx1ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIk9EYXRhVXRpbHMiLCJmb3JtYXRMaXRlcmFsIiwidmFsdWVzIiwicmVwbGFjZUFsbCIsInNQYXJhbWV0ZXJFbnRpdHlTZXQiLCJzbGljZSIsImxhc3RJbmRleE9mIiwic1RhcmdldE5hdmlnYXRpb24iLCJzdWJzdHJpbmciLCJ0b1N0cmluZyIsIiRQYXRoIiwiQWdncmVnYXRhYmxlUHJvcGVydHkiLCJBZ2dyZWdhdGlvbk1ldGhvZCIsInNUZXh0QXNzb2NpYXRpb25FeHByZXNzaW9uIiwic0ZpbHRlckV4cHJlc3Npb24iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0U29ydE9yZGVyIiwiZ2V0TWF4SXRlbXMiLCJzRGltZW5zaW9uVHlwZSIsInNTb3J0UHJvcGVydHlOYW1lIiwiQ2hhcnRUeXBlIiwiJEVudW1NZW1iZXIiLCJEeW5hbWljUHJvcGVydHkiLCJOYW1lIiwiUHJvcGVydHkiLCJEZXNjZW5kaW5nIiwiZ2V0Q29sb3JCaW5kaW5nIiwiaUNvbnRleHQiLCJvRGF0YVBvaW50Iiwib0RpbWVuc2lvbiIsIm9EaW1lbnNpb25QYXRoIiwiYVZhbHVlQ3JpdGljYWxpdHkiLCJ0YXJnZXRPYmplY3QiLCJDcml0aWNhbGl0eSIsImJ1aWxkRXhwcmVzc2lvbkZvckNyaXRpY2FsaXR5Q29sb3JNaWNyb0NoYXJ0IiwiQ3JpdGljYWxpdHlDYWxjdWxhdGlvbiIsIm9EaXJlY3Rpb24iLCJJbXByb3ZlbWVudERpcmVjdGlvbiIsIm9EYXRhUG9pbnRWYWx1ZSIsIlZhbHVlIiwib0RldmlhdGlvblJhbmdlTG93VmFsdWUiLCJEZXZpYXRpb25SYW5nZUxvd1ZhbHVlIiwib1RvbGVyYW5jZVJhbmdlTG93VmFsdWUiLCJUb2xlcmFuY2VSYW5nZUxvd1ZhbHVlIiwib0FjY2VwdGFuY2VSYW5nZUxvd1ZhbHVlIiwiQWNjZXB0YW5jZVJhbmdlTG93VmFsdWUiLCJvQWNjZXB0YW5jZVJhbmdlSGlnaFZhbHVlIiwiQWNjZXB0YW5jZVJhbmdlSGlnaFZhbHVlIiwib1RvbGVyYW5jZVJhbmdlSGlnaFZhbHVlIiwiVG9sZXJhbmNlUmFuZ2VIaWdoVmFsdWUiLCJvRGV2aWF0aW9uUmFuZ2VIaWdoVmFsdWUiLCJEZXZpYXRpb25SYW5nZUhpZ2hWYWx1ZSIsIkNvbW1vbkhlbHBlciIsImdldENyaXRpY2FsaXR5Q2FsY3VsYXRpb25CaW5kaW5nIiwiZ2V0VmFsdWVDcml0aWNhbGl0eSIsImdldFNjYWxlVW9NVGl0bGUiLCJzU2VwZXJhdG9yIiwiYklzVG9vbFRpcCIsInNTY2FsZUZhY3RvciIsImZpeGVkSW50ZWdlciIsIk51bWJlckZvcm1hdCIsImdldEludGVnZXJJbnN0YW5jZSIsInN0eWxlIiwic2hvd1NjYWxlIiwic2hvcnRSZWZOdW1iZXIiLCJzU2NhbGUiLCJnZXRTY2FsZSIsInNFeHByZXNzaW9uIiwiZ2V0TWVhc3VyZURpbWVuc2lvblRpdGxlIiwic01lYXN1cmVMYWJlbCIsInNNZWFzdXJlUGF0aEV4cHJlc3Npb24iLCJzRGltZW5zaW9uUGF0aCIsInNEaW1lbnNpb25MYWJlbCIsImdldExhYmVsIiwiYW5ub3RhdGlvbnMiLCJDb21tb24iLCJMYWJlbCIsIlJlc291cmNlTW9kZWwiLCJnZXRUZXh0Iiwic1Byb3BlcnR5IiwiZ2V0VG9vbFRpcCIsImJSZW5kZXJMaW5lQ2hhcnQiLCJzQ2hhcnRUeXBlIiwic01lYXN1cmVEaW1lbnNpb25Ub29sVGlwIiwiZXNjYXBlU2luZ2xlUXVvdGVzIiwic1NjYWxlVU9NVG9vbHRpcCIsImlzQ3VzdG9tRGF0YSIsInZJU09DdXJyZW5jeSIsInZVbml0Iiwic0FnZ3JlZ2F0YWJsZVByb3BlcnR5UGF0aCIsIl9nZXRVT00iLCJzQW5ub3RhdGlvbiIsInNVT00iLCJvVU9NIiwiZ2V0U2NhbGVGYWN0b3IiLCJnZXRVb01WaXNpYmxpdHkiLCJiU2hvd0Vycm9yIiwiZ2V0SW5QYXJhbWV0ZXJGaWx0ZXJzQmluZGluZyIsImFJblBhcmFtZXRlcnMiLCJhUGFydHMiLCJzUGF0aHMiLCJvSW5QYXJhbWV0ZXIiLCJsb2NhbERhdGFQcm9wZXJ0eSIsImpvaW4iLCJnZXRmaWx0ZXJDb3VudEJpbmRpbmciLCJyZXF1aXJlc0lDb250ZXh0Il0sInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyJJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKU1Rva2VuaXplciBmcm9tIFwic2FwL2Jhc2UvdXRpbC9KU1Rva2VuaXplclwiO1xuaW1wb3J0IENvbW1vblV0aWxzIGZyb20gXCJzYXAvZmUvY29yZS9Db21tb25VdGlsc1wiO1xuaW1wb3J0IFZpc3VhbEZpbHRlclV0aWxzIGZyb20gXCJzYXAvZmUvY29yZS9jb250cm9scy9maWx0ZXJiYXIvdXRpbHMvVmlzdWFsRmlsdGVyVXRpbHNcIjtcbmltcG9ydCB7IGdlbmVyYXRlIH0gZnJvbSBcInNhcC9mZS9jb3JlL2hlbHBlcnMvU3RhYmxlSWRIZWxwZXJcIjtcbmltcG9ydCB7IGJ1aWxkRXhwcmVzc2lvbkZvckNyaXRpY2FsaXR5Q29sb3JNaWNyb0NoYXJ0IH0gZnJvbSBcInNhcC9mZS9jb3JlL3RlbXBsYXRpbmcvQ3JpdGljYWxpdHlGb3JtYXR0ZXJzXCI7XG5pbXBvcnQgeyBnZXRGaWx0ZXJzQ29uZGl0aW9uc0Zyb21TZWxlY3Rpb25WYXJpYW50IH0gZnJvbSBcInNhcC9mZS9jb3JlL3RlbXBsYXRpbmcvRmlsdGVySGVscGVyXCI7XG5pbXBvcnQgQ29tbW9uSGVscGVyIGZyb20gXCJzYXAvZmUvbWFjcm9zL0NvbW1vbkhlbHBlclwiO1xuaW1wb3J0IEZpbHRlckZpZWxkSGVscGVyIGZyb20gXCJzYXAvZmUvbWFjcm9zL2ZpbHRlci9GaWx0ZXJGaWVsZEhlbHBlclwiO1xuaW1wb3J0IFJlc291cmNlTW9kZWwgZnJvbSBcInNhcC9mZS9tYWNyb3MvUmVzb3VyY2VNb2RlbFwiO1xuaW1wb3J0IE51bWJlckZvcm1hdCBmcm9tIFwic2FwL3VpL2NvcmUvZm9ybWF0L051bWJlckZvcm1hdFwiO1xuaW1wb3J0IENvbmRpdGlvbkNvbnZlcnRlciBmcm9tIFwic2FwL3VpL21kYy9jb25kaXRpb24vQ29uZGl0aW9uQ29udmVydGVyXCI7XG5pbXBvcnQgVHlwZVV0aWwgZnJvbSBcInNhcC9mZS9jb3JlL3R5cGUvVHlwZVV0aWxcIjtcbmltcG9ydCBPRGF0YU1vZGVsQW5ub3RhdGlvbkhlbHBlciBmcm9tIFwic2FwL3VpL21vZGVsL29kYXRhL3Y0L0Fubm90YXRpb25IZWxwZXJcIjtcbmltcG9ydCBPRGF0YVV0aWxzIGZyb20gXCJzYXAvdWkvbW9kZWwvb2RhdGEvdjQvT0RhdGFVdGlsc1wiO1xuXG5jb25zdCBJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyID0ge1xuXHRnZXRDaGFydERpc3BsYXllZFZhbHVlOiBmdW5jdGlvbiAodmFsdWU6IGFueSwgb1ZhbHVlRm9ybWF0OiBhbnksIHNNZXRhUGF0aDogYW55KSB7XG5cdFx0Ly92YXIgc1R5cGUgPSBcIlwiICsgdmFsdWUgKyBcIkBvZGF0YS50eXBlXCI7XG5cdFx0Y29uc3Qgc0luZm9QYXRoID0gZ2VuZXJhdGUoW3NNZXRhUGF0aF0pO1xuXHRcdHJldHVybiAoXG5cdFx0XHRcIntwYXJ0czpbe3BhdGg6J1wiICtcblx0XHRcdHZhbHVlICtcblx0XHRcdFwiJyx0eXBlOidzYXAudWkubW9kZWwub2RhdGEudHlwZS5EZWNpbWFsJywgY29uc3RyYWludHM6eydudWxsYWJsZSc6ZmFsc2V9fVwiICtcblx0XHRcdChvVmFsdWVGb3JtYXQgJiYgb1ZhbHVlRm9ybWF0LlNjYWxlRmFjdG9yXG5cdFx0XHRcdD8gXCIse3ZhbHVlOidcIiArIG9WYWx1ZUZvcm1hdC5TY2FsZUZhY3Rvci4kRGVjaW1hbCArIFwiJ31cIlxuXHRcdFx0XHQ6IFwiLHtwYXRoOidpbnRlcm5hbD5zY2FsZWZhY3Rvck51bWJlci9cIiArIHNJbmZvUGF0aCArIFwiJ31cIikgK1xuXHRcdFx0KG9WYWx1ZUZvcm1hdCAmJiBvVmFsdWVGb3JtYXQuTnVtYmVyT2ZGcmFjdGlvbmFsRGlnaXRzXG5cdFx0XHRcdD8gXCIse3ZhbHVlOidcIiArIG9WYWx1ZUZvcm1hdC5OdW1iZXJPZkZyYWN0aW9uYWxEaWdpdHMgKyBcIid9XCJcblx0XHRcdFx0OiBcIix7dmFsdWU6JzAnfVwiKSArXG5cdFx0XHRcIix7cGF0aDonaW50ZXJuYWw+Y3VycmVuY3kvXCIgK1xuXHRcdFx0c0luZm9QYXRoICtcblx0XHRcdFwiJ31cIiArXG5cdFx0XHRcIix7cGF0aDonXCIgK1xuXHRcdFx0dmFsdWUgK1xuXHRcdFx0XCInLHR5cGU6J3NhcC51aS5tb2RlbC5vZGF0YS50eXBlLlN0cmluZycsIGNvbnN0cmFpbnRzOnsnbnVsbGFibGUnOmZhbHNlfX1cIiArXG5cdFx0XHRcIl0sIGZvcm1hdHRlcjonVmlzdWFsRmlsdGVyUnVudGltZS5zY2FsZVZpc3VhbEZpbHRlclZhbHVlJ31cIlxuXHRcdCk7IC8vKyBzVHlwZS5zcGxpdCgnIycpLmxlbmd0aCA/IHNUeXBlLnNwbGl0KCcjJylbMV0gOiAnRGVjaW1hbCcgKyBcIn1cIjtcblx0fSxcblx0Z2V0Q2hhcnRWYWx1ZTogZnVuY3Rpb24gKG9WYWx1ZTogYW55KSB7XG5cdFx0cmV0dXJuIFwie3BhdGg6J1wiICsgb1ZhbHVlICsgXCInLHR5cGU6J3NhcC51aS5tb2RlbC5vZGF0YS50eXBlLkRlY2ltYWwnLCBjb25zdHJhaW50czp7J251bGxhYmxlJzpmYWxzZX19XCI7XG5cdH0sXG5cdGdldENoYXJ0OiBmdW5jdGlvbiAob01ldGFQYXRoOiBhbnkpIHtcblx0XHRjb25zdCBvTW9kZWwgPSBvTWV0YVBhdGguZ2V0TW9kZWwoKTtcblx0XHRjb25zdCBvUHJlc2VudGF0aW9uVmFyaWFudCA9IG9Nb2RlbC5nZXRPYmplY3Qob01ldGFQYXRoLmdldFBhdGgoKSk7XG5cdFx0Y29uc3QgYVZpc3VhbGl6YXRpb25zID0gb1ByZXNlbnRhdGlvblZhcmlhbnQuVmlzdWFsaXphdGlvbnM7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhVmlzdWFsaXphdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChhVmlzdWFsaXphdGlvbnNbaV0uJEFubm90YXRpb25QYXRoLmluZGV4T2YoXCJjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5DaGFydFwiKSA+IC0xKSB7XG5cdFx0XHRcdGNvbnN0IHNDb2xsZWN0aW9uUGF0aCA9IE9EYXRhTW9kZWxBbm5vdGF0aW9uSGVscGVyLmdldE5hdmlnYXRpb25QYXRoKG9NZXRhUGF0aC5nZXRQYXRoKCkpO1xuXHRcdFx0XHRyZXR1cm4gb01vZGVsLmNyZWF0ZUJpbmRpbmdDb250ZXh0KHNDb2xsZWN0aW9uUGF0aCArIFwiL1wiICsgYVZpc3VhbGl6YXRpb25zW2ldLiRBbm5vdGF0aW9uUGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH0sXG5cdGdldENoYXJ0TGFiZWw6IGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkge1xuXHRcdHJldHVybiBhcmdzWzJdO1xuXHR9LFxuXHQvKipcblx0ICogQnVpbGQgdGhlIGV4cHJlc3Npb24gZm9yIG1lYXN1cmUgcGF0aCBiYXNlZCBvbiB3aGV0aGVyIEN1c3RvbUFnZ3JlZ2F0ZS9EeW5hbWljL1RyYW5zZm9ybWF0aW9uQWdncmVnYXRlIG1lYXN1cmVzIGV4aXN0cy5cblx0ICpcblx0ICogQHBhcmFtIG9DaGFydEFubm90YXRpb24gQ2hhcnQgY29uZmlndXJhdGlvbnMuXG5cdCAqIEBwYXJhbSBiQ3VzdG9tQWdncmVnYXRlIEluZGljYXRvciBmb3IgZXhpc3RlbmNlIGZvciBjdXN0b20gYWdncmVnYXRlcyBpbiBjaGFydCBtZWFzdXJlcy5cblx0ICogQHJldHVybnMgTWVhc3VyZSBQYXRoXG5cdCAqL1xuXHRfZ2V0TWVhc3VyZVBhdGg6IGZ1bmN0aW9uIChvQ2hhcnRBbm5vdGF0aW9uOiBhbnksIGJDdXN0b21BZ2dyZWdhdGU6IEJvb2xlYW4pOiBTdHJpbmcge1xuXHRcdGxldCBzTWVhc3VyZVBhdGg7XG5cdFx0aWYgKGJDdXN0b21BZ2dyZWdhdGUpIHtcblx0XHRcdHNNZWFzdXJlUGF0aCA9IFwiL01lYXN1cmVzLzAvJFByb3BlcnR5UGF0aFwiO1xuXHRcdH1cblx0XHRpZiAob0NoYXJ0QW5ub3RhdGlvbi5EeW5hbWljTWVhc3VyZXMgJiYgb0NoYXJ0QW5ub3RhdGlvbi5EeW5hbWljTWVhc3VyZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0c01lYXN1cmVQYXRoID0gXCIvRHluYW1pY01lYXN1cmVzLzAvJEFubm90YXRpb25QYXRoL0FnZ3JlZ2F0YWJsZVByb3BlcnR5LyRQcm9wZXJ0eVBhdGhcIjtcblx0XHR9IGVsc2UgaWYgKCFiQ3VzdG9tQWdncmVnYXRlICYmIG9DaGFydEFubm90YXRpb24uTWVhc3VyZXMgJiYgb0NoYXJ0QW5ub3RhdGlvbi5NZWFzdXJlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRzTWVhc3VyZVBhdGggPSBcIi9NZWFzdXJlcy8wLyRQcm9wZXJ0eVBhdGhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHNNZWFzdXJlUGF0aCBhcyBTdHJpbmc7XG5cdH0sXG5cdGdldEFnZ3JlZ2F0aW9uQmluZGluZzogZnVuY3Rpb24gKFxuXHRcdG9JbnRlcmZhY2U6IGFueSxcblx0XHRvQ2hhcnRBbm5vdGF0aW9uczogYW55LFxuXHRcdG9Db2xsZWN0aW9uOiBhbnksXG5cdFx0b1RleHRBc3NvY2lhdGlvbjogYW55LFxuXHRcdG9EaW1lbnNpb25UeXBlOiBhbnksXG5cdFx0YVNvcnRPcmRlcjogYW55LFxuXHRcdHNlbGVjdGlvblZhcmlhbnRBbm5vdGF0aW9uOiBhbnksXG5cdFx0YkN1c3RvbUFnZ3JlZ2F0ZTogYW55LFxuXHRcdG9BZ2dyZWdhdGlvbjogYW55LFxuXHRcdGJVb01IYXNDdXN0b21BZ2dyZWdhdGU6IGFueSxcblx0XHRhUGFyYW1ldGVyczogYW55LFxuXHRcdG9GaWx0ZXJCYXJDb250ZXh0OiBhbnksXG5cdFx0YkRyYWZ0U3VwcG9ydGVkOiBhbnksXG5cdFx0c0NoYXJ0TWVhc3VyZTogYW55XG5cdCkge1xuXHRcdGNvbnN0IG9Db250ZXh0UGF0aCA9IG9GaWx0ZXJCYXJDb250ZXh0LmdldFByb3BlcnR5KFwiY29udGV4dFBhdGhcIik7XG5cdFx0Y29uc3Qgc0VudGl0eVR5cGUgPSBvQ29udGV4dFBhdGggPyBvQ29udGV4dFBhdGguZ2V0UGF0aCgpIDogXCJcIjtcblx0XHRjb25zdCBzRGltZW5zaW9uID0gb0NoYXJ0QW5ub3RhdGlvbnMuRGltZW5zaW9uc1swXS4kUHJvcGVydHlQYXRoO1xuXHRcdGNvbnN0IGFGaWx0ZXJzOiBhbnlbXSA9IFtdO1xuXHRcdGxldCBzQWdncmVnYXRpb25FeHByZXNzaW9uLCBzVU9NRXhwcmVzc2lvbiwgZmlsdGVyQ29uZGl0aW9ucywgc0JpbmRpbmdQYXRoO1xuXHRcdGxldCBzQ29sbGVjdGlvbk5hbWUgPVxuXHRcdFx0b0NvbGxlY3Rpb24uJGtpbmQgPT0gXCJOYXZpZ2F0aW9uUHJvcGVydHlcIlxuXHRcdFx0XHQ/IG9JbnRlcmZhY2UuZ2V0UGF0aCgxKVxuXHRcdFx0XHQ6IChvQ29sbGVjdGlvbi4ka2luZCA9PSBcIkVudGl0eVNldFwiID8gXCIvXCIgOiBcIlwiKSArIG9JbnRlcmZhY2UuZ2V0TW9kZWwoMSkuZ2V0T2JqZWN0KGAke29JbnRlcmZhY2UuZ2V0UGF0aCgxKX1Ac2FwdWkubmFtZWApO1xuXHRcdGNvbnN0IHZVT00gPSBJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldFVvTShvSW50ZXJmYWNlLCBvQ2hhcnRBbm5vdGF0aW9ucywgb0NvbGxlY3Rpb24sIHVuZGVmaW5lZCwgYkN1c3RvbUFnZ3JlZ2F0ZSwgb0FnZ3JlZ2F0aW9uKTtcblx0XHRjb25zdCBzRW50aXR5U2V0UGF0aCA9IG9JbnRlcmZhY2UuZ2V0SW50ZXJmYWNlKDEpLmdldFBhdGgoKSxcblx0XHRcdG9NZXRhTW9kZWwgPSBvSW50ZXJmYWNlLmdldEludGVyZmFjZSgxKS5nZXRNb2RlbCgpO1xuXHRcdGlmIChiRHJhZnRTdXBwb3J0ZWQpIHtcblx0XHRcdGFGaWx0ZXJzLnB1c2goe1xuXHRcdFx0XHRvcGVyYXRvcjogXCJFUVwiLFxuXHRcdFx0XHR2YWx1ZTE6IFwidHJ1ZVwiLFxuXHRcdFx0XHR2YWx1ZTI6IG51bGwsXG5cdFx0XHRcdHBhdGg6IFwiSXNBY3RpdmVFbnRpdHlcIixcblx0XHRcdFx0aXNQYXJhbWV0ZXI6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpZiAoc2VsZWN0aW9uVmFyaWFudEFubm90YXRpb24gJiYgc2VsZWN0aW9uVmFyaWFudEFubm90YXRpb24uZ2V0T2JqZWN0KCkpIHtcblx0XHRcdGZpbHRlckNvbmRpdGlvbnMgPSBnZXRGaWx0ZXJzQ29uZGl0aW9uc0Zyb21TZWxlY3Rpb25WYXJpYW50KFxuXHRcdFx0XHRzRW50aXR5U2V0UGF0aCxcblx0XHRcdFx0b01ldGFNb2RlbCxcblx0XHRcdFx0c2VsZWN0aW9uVmFyaWFudEFubm90YXRpb24uZ2V0T2JqZWN0KCksXG5cdFx0XHRcdFZpc3VhbEZpbHRlclV0aWxzLmdldEN1c3RvbUNvbmRpdGlvbnMuYmluZChWaXN1YWxGaWx0ZXJVdGlscylcblx0XHRcdCk7XG5cdFx0XHRmb3IgKGNvbnN0IHNQYXRoIGluIGZpbHRlckNvbmRpdGlvbnMpIHtcblx0XHRcdFx0Y29uc3QgYUNvbmRpdGlvbnMgPSBmaWx0ZXJDb25kaXRpb25zW3NQYXRoXTtcblx0XHRcdFx0YUNvbmRpdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAob0NvbmRpdGlvbjogYW55KSB7XG5cdFx0XHRcdFx0aWYgKCFvQ29uZGl0aW9uLmlzUGFyYW1ldGVyKSB7XG5cdFx0XHRcdFx0XHRhRmlsdGVycy5wdXNoKG9Db25kaXRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChzRW50aXR5VHlwZSAhPT0gYCR7c0NvbGxlY3Rpb25OYW1lfS9gICYmIGFQYXJhbWV0ZXJzICYmIGFQYXJhbWV0ZXJzLmxlbmd0aCAmJiBmaWx0ZXJDb25kaXRpb25zKSB7XG5cdFx0XHRjb25zdCBhUGFyYW1zID0gW107XG5cdFx0XHRjb25zdCBjb252ZXJ0ZWRGaWx0ZXJDb25kaXRpb25zID0gVmlzdWFsRmlsdGVyVXRpbHMuY29udmVydEZpbHRlckNvbmRpb25zKGZpbHRlckNvbmRpdGlvbnMpO1xuXHRcdFx0Y29uc3QgcGFyYW1ldGVyUHJvcGVydGllcyA9IENvbW1vblV0aWxzLmdldFBhcmFtZXRlckluZm8ob01ldGFNb2RlbCwgc0NvbGxlY3Rpb25OYW1lKS5wYXJhbWV0ZXJQcm9wZXJ0aWVzO1xuXHRcdFx0Zm9yIChjb25zdCBpIGluIGFQYXJhbWV0ZXJzKSB7XG5cdFx0XHRcdGNvbnN0IHBhcmFtZXRlciA9IGFQYXJhbWV0ZXJzW2ldO1xuXHRcdFx0XHRjb25zdCBvUHJvcGVydHkgPSBwYXJhbWV0ZXJQcm9wZXJ0aWVzW3BhcmFtZXRlcl07XG5cdFx0XHRcdGNvbnN0IHNFbnRpdHlQYXRoID0gc0VudGl0eVNldFBhdGguc3BsaXQoXCIvXCIpWzFdO1xuXHRcdFx0XHRjb25zdCBvUHJvcGVydHlDb250ZXh0ID0gb01ldGFNb2RlbC5jcmVhdGVCaW5kaW5nQ29udGV4dChgLyR7c0VudGl0eVBhdGh9LyR7cGFyYW1ldGVyfWApO1xuXHRcdFx0XHRjb25zdCBvRm9ybWF0T3B0aW9ucyA9IEpTVG9rZW5pemVyLnBhcnNlSlMoXG5cdFx0XHRcdFx0RmlsdGVyRmllbGRIZWxwZXIuZm9ybWF0T3B0aW9ucyhvUHJvcGVydHksIHsgY29udGV4dDogb1Byb3BlcnR5Q29udGV4dCB9KSB8fCBcInt9XCJcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc3Qgb0NvbnN0cmFpbnRzID0gSlNUb2tlbml6ZXIucGFyc2VKUyhGaWx0ZXJGaWVsZEhlbHBlci5jb25zdHJhaW50cyhvUHJvcGVydHksIHsgY29udGV4dDogb1Byb3BlcnR5Q29udGV4dCB9KSB8fCBcInt9XCIpO1xuXHRcdFx0XHRjb25zdCB0eXBlQ29uZmlnID0gVHlwZVV0aWwuZ2V0VHlwZUNvbmZpZyhvUHJvcGVydHkuJFR5cGUsIG9Gb3JtYXRPcHRpb25zLCBvQ29uc3RyYWludHMpO1xuXHRcdFx0XHRjb25zdCBvQ29uZGl0aW9uID0gY29udmVydGVkRmlsdGVyQ29uZGl0aW9uc1twYXJhbWV0ZXJdO1xuXHRcdFx0XHRjb25zdCBvQ29uZGl0aW9uSW50ZXJuYWwgPSBvQ29uZGl0aW9uID8gb0NvbmRpdGlvblswXSA6IHVuZGVmaW5lZDtcblx0XHRcdFx0aWYgKG9Db25kaXRpb25JbnRlcm5hbCkge1xuXHRcdFx0XHRcdGNvbnN0IG1JbnRlcm5hbFBhcmFtZXRlckNvbmRpdGlvbiA9IENvbmRpdGlvbkNvbnZlcnRlci50b1R5cGUob0NvbmRpdGlvbkludGVybmFsLCB0eXBlQ29uZmlnLCBUeXBlVXRpbCBhcyBhbnkpO1xuXHRcdFx0XHRcdGNvbnN0IHNFZG1UeXBlID0gb1Byb3BlcnR5LiRUeXBlO1xuXHRcdFx0XHRcdGxldCBzVmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQoT0RhdGFVdGlscy5mb3JtYXRMaXRlcmFsKG1JbnRlcm5hbFBhcmFtZXRlckNvbmRpdGlvbi52YWx1ZXNbMF0sIHNFZG1UeXBlKSk7XG5cdFx0XHRcdFx0c1ZhbHVlID0gKHNWYWx1ZSBhcyBhbnkpLnJlcGxhY2VBbGwoXCInXCIsIFwiXFxcXCdcIik7XG5cdFx0XHRcdFx0YVBhcmFtcy5wdXNoKGAke3BhcmFtZXRlcn09JHtzVmFsdWV9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc1BhcmFtZXRlckVudGl0eVNldCA9IHNDb2xsZWN0aW9uTmFtZS5zbGljZSgwLCBzQ29sbGVjdGlvbk5hbWUubGFzdEluZGV4T2YoXCIvXCIpKTtcblx0XHRcdGNvbnN0IHNUYXJnZXROYXZpZ2F0aW9uID0gc0NvbGxlY3Rpb25OYW1lLnN1YnN0cmluZyhzQ29sbGVjdGlvbk5hbWUubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG5cdFx0XHQvLyBjcmVhdGUgcGFyYW1ldGVyIGNvbnRleHRcblx0XHRcdHNCaW5kaW5nUGF0aCA9IGAke3NQYXJhbWV0ZXJFbnRpdHlTZXR9KCR7YVBhcmFtcy50b1N0cmluZygpfSkvJHtzVGFyZ2V0TmF2aWdhdGlvbn1gO1xuXHRcdFx0c0NvbGxlY3Rpb25OYW1lID0gc0JpbmRpbmdQYXRoO1xuXHRcdH1cblx0XHRpZiAoYkN1c3RvbUFnZ3JlZ2F0ZSkge1xuXHRcdFx0Ly9jdXN0b20gYWdncmVnYXRlIGZvciBhIGN1cnJlbmN5IG9yIHVuaXQgb2YgbWVhc3VyZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWdncmVnYXRhYmxlIHByb3BlcnR5XG5cdFx0XHRpZiAoYlVvTUhhc0N1c3RvbUFnZ3JlZ2F0ZSkge1xuXHRcdFx0XHRzQWdncmVnYXRpb25FeHByZXNzaW9uID0gdlVPTSAmJiB2VU9NLiRQYXRoID8gYHsgJ3VuaXQnIDogJyR7dlVPTS4kUGF0aH0nIH1gIDogXCJ7fVwiO1xuXHRcdFx0XHRzVU9NRXhwcmVzc2lvbiA9IFwiXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzQWdncmVnYXRpb25FeHByZXNzaW9uID0gXCJ7fVwiO1xuXHRcdFx0XHRzVU9NRXhwcmVzc2lvbiA9IHZVT00gJiYgdlVPTS4kUGF0aCA/IGAsICcke3ZVT00uJFBhdGh9JyA6IHt9YCA6IFwiXCI7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdG9BZ2dyZWdhdGlvbiAmJlxuXHRcdFx0b0FnZ3JlZ2F0aW9uLkFnZ3JlZ2F0YWJsZVByb3BlcnR5ICYmXG5cdFx0XHRvQWdncmVnYXRpb24uQWdncmVnYXRhYmxlUHJvcGVydHkudmFsdWUgJiZcblx0XHRcdG9BZ2dyZWdhdGlvbi5BZ2dyZWdhdGlvbk1ldGhvZFxuXHRcdCkge1xuXHRcdFx0c0FnZ3JlZ2F0aW9uRXhwcmVzc2lvbiA9XG5cdFx0XHRcdFwieyAnbmFtZScgOiAnXCIgKyBvQWdncmVnYXRpb24uQWdncmVnYXRhYmxlUHJvcGVydHkudmFsdWUgKyBcIicsICd3aXRoJyA6ICdcIiArIG9BZ2dyZWdhdGlvbi5BZ2dyZWdhdGlvbk1ldGhvZCArIFwiJ31cIjtcblx0XHRcdHNVT01FeHByZXNzaW9uID0gdlVPTSAmJiB2VU9NLiRQYXRoID8gXCIsICdcIiArIHZVT00uJFBhdGggKyBcIicgOiB7fVwiIDogXCJcIjtcblx0XHR9XG5cdFx0Y29uc3Qgc1RleHRBc3NvY2lhdGlvbkV4cHJlc3Npb24gPSBvVGV4dEFzc29jaWF0aW9uID8gXCInIDogeyAnYWRkaXRpb25hbGx5JyA6IFsnXCIgKyBvVGV4dEFzc29jaWF0aW9uLiRQYXRoICsgXCInXSB9XCIgOiBcIicgOiB7IH1cIjtcblx0XHRjb25zdCBzRmlsdGVyRXhwcmVzc2lvbiA9IEpTT04uc3RyaW5naWZ5KGFGaWx0ZXJzKTtcblx0XHRyZXR1cm4gKFxuXHRcdFx0XCJ7cGF0aDogJ1wiICtcblx0XHRcdHNDb2xsZWN0aW9uTmFtZSArXG5cdFx0XHRcIicsIHRlbXBsYXRlU2hhcmVhYmxlOiB0cnVlLCBzdXNwZW5kZWQgOiB0cnVlLCAnZmlsdGVycycgOiBcIiArXG5cdFx0XHRzRmlsdGVyRXhwcmVzc2lvbiArXG5cdFx0XHRcIiwncGFyYW1ldGVycycgOiB7XCIgK1xuXHRcdFx0SW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRTb3J0T3JkZXIob0ludGVyZmFjZSwgb01ldGFNb2RlbCwgb0NoYXJ0QW5ub3RhdGlvbnMsIG9EaW1lbnNpb25UeXBlLCBhU29ydE9yZGVyLCBzQ2hhcnRNZWFzdXJlKSArXG5cdFx0XHRcIiwgJyQkYWdncmVnYXRpb24nIDogeydhZ2dyZWdhdGUnIDogeydcIiArXG5cdFx0XHRzQ2hhcnRNZWFzdXJlICtcblx0XHRcdFwiJyA6IFwiICtcblx0XHRcdHNBZ2dyZWdhdGlvbkV4cHJlc3Npb24gK1xuXHRcdFx0XCJ9LCdncm91cCcgOiB7J1wiICtcblx0XHRcdHNEaW1lbnNpb24gK1xuXHRcdFx0c1RleHRBc3NvY2lhdGlvbkV4cHJlc3Npb24gK1xuXHRcdFx0c1VPTUV4cHJlc3Npb24gK1xuXHRcdFx0XCJ9IH0gfVwiICtcblx0XHRcdEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0TWF4SXRlbXMob0NoYXJ0QW5ub3RhdGlvbnMpICtcblx0XHRcdFwifVwiXG5cdFx0KTtcblx0fSxcblx0Z2V0U29ydE9yZGVyOiBmdW5jdGlvbiAoXG5cdFx0b0ludGVyZmFjZTogYW55LFxuXHRcdG9NZXRhTW9kZWw6IGFueSxcblx0XHRvQ2hhcnRBbm5vdGF0aW9uczogYW55LFxuXHRcdHNEaW1lbnNpb25UeXBlOiBhbnksXG5cdFx0YVNvcnRPcmRlcjogYW55LFxuXHRcdHNDaGFydE1lYXN1cmU6IGFueVxuXHQpIHtcblx0XHRsZXQgc1NvcnRQcm9wZXJ0eU5hbWU7XG5cdFx0aWYgKFxuXHRcdFx0b0NoYXJ0QW5ub3RhdGlvbnMuQ2hhcnRUeXBlLiRFbnVtTWVtYmVyID09PSBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLkNoYXJ0VHlwZS9Eb251dFwiIHx8XG5cdFx0XHRvQ2hhcnRBbm5vdGF0aW9ucy5DaGFydFR5cGUuJEVudW1NZW1iZXIgPT09IFwiY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuQ2hhcnRUeXBlL0JhclwiXG5cdFx0KSB7XG5cdFx0XHRpZiAoYVNvcnRPcmRlciAmJiBhU29ydE9yZGVyLmxlbmd0aCkge1xuXHRcdFx0XHRpZiAoYVNvcnRPcmRlclswXS5EeW5hbWljUHJvcGVydHkpIHtcblx0XHRcdFx0XHRzU29ydFByb3BlcnR5TmFtZSA9IG9NZXRhTW9kZWwuZ2V0T2JqZWN0KFxuXHRcdFx0XHRcdFx0b0ludGVyZmFjZS5nZXRQYXRoKDApLnNwbGl0KFwiQFwiKVswXSArIGFTb3J0T3JkZXJbMF0uRHluYW1pY1Byb3BlcnR5LiRBbm5vdGF0aW9uUGF0aFxuXHRcdFx0XHRcdCkuTmFtZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzU29ydFByb3BlcnR5TmFtZSA9IGFTb3J0T3JkZXJbMF0uUHJvcGVydHkuJFByb3BlcnR5UGF0aDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc1NvcnRQcm9wZXJ0eU5hbWUgPT09IHNDaGFydE1lYXN1cmUpIHtcblx0XHRcdFx0XHRyZXR1cm4gXCInJG9yZGVyYnknIDogJ1wiICsgc0NoYXJ0TWVhc3VyZSArIChhU29ydE9yZGVyWzBdLkRlc2NlbmRpbmcgPyBcIiBkZXNjJ1wiIDogXCInXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBcIickb3JkZXJieScgOiAnXCIgKyBzQ2hhcnRNZWFzdXJlICsgXCIgZGVzYydcIjtcblx0XHRcdH1cblx0XHRcdHJldHVybiBcIickb3JkZXJieScgOiAnXCIgKyBzQ2hhcnRNZWFzdXJlICsgXCIgZGVzYydcIjtcblx0XHR9IGVsc2UgaWYgKHNEaW1lbnNpb25UeXBlID09PSBcIkVkbS5EYXRlXCIgfHwgc0RpbWVuc2lvblR5cGUgPT09IFwiRWRtLlRpbWVcIiB8fCBzRGltZW5zaW9uVHlwZSA9PT0gXCJFZG0uRGF0ZVRpbWVPZmZzZXRcIikge1xuXHRcdFx0cmV0dXJuIFwiJyRvcmRlcmJ5JyA6ICdcIiArIG9DaGFydEFubm90YXRpb25zLkRpbWVuc2lvbnNbMF0uJFByb3BlcnR5UGF0aCArIFwiJ1wiO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRhU29ydE9yZGVyICYmXG5cdFx0XHRhU29ydE9yZGVyLmxlbmd0aCAmJlxuXHRcdFx0YVNvcnRPcmRlclswXS5Qcm9wZXJ0eS4kUHJvcGVydHlQYXRoID09PSBvQ2hhcnRBbm5vdGF0aW9ucy5EaW1lbnNpb25zWzBdLiRQcm9wZXJ0eVBhdGhcblx0XHQpIHtcblx0XHRcdHJldHVybiBcIickb3JkZXJieScgOiAnXCIgKyBhU29ydE9yZGVyWzBdLlByb3BlcnR5LiRQcm9wZXJ0eVBhdGggKyAoYVNvcnRPcmRlclswXS5EZXNjZW5kaW5nID8gXCIgZGVzYydcIiA6IFwiJ1wiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFwiJyRvcmRlcmJ5JyA6ICdcIiArIG9DaGFydEFubm90YXRpb25zLkRpbWVuc2lvbnNbMF0uJFByb3BlcnR5UGF0aCArIFwiJ1wiO1xuXHRcdH1cblx0fSxcblx0Z2V0TWF4SXRlbXM6IGZ1bmN0aW9uIChvQ2hhcnRBbm5vdGF0aW9uczogYW55KSB7XG5cdFx0aWYgKG9DaGFydEFubm90YXRpb25zLkNoYXJ0VHlwZS4kRW51bU1lbWJlciA9PT0gXCJjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5DaGFydFR5cGUvQmFyXCIpIHtcblx0XHRcdHJldHVybiBcIiwnc3RhcnRJbmRleCcgOiAwLCdsZW5ndGgnIDogM1wiO1xuXHRcdH0gZWxzZSBpZiAob0NoYXJ0QW5ub3RhdGlvbnMuQ2hhcnRUeXBlLiRFbnVtTWVtYmVyID09PSBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLkNoYXJ0VHlwZS9MaW5lXCIpIHtcblx0XHRcdHJldHVybiBcIiwnc3RhcnRJbmRleCcgOiAwLCdsZW5ndGgnIDogNlwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cdH0sXG5cdGdldENvbG9yQmluZGluZzogZnVuY3Rpb24gKGlDb250ZXh0OiBhbnksIG9EYXRhUG9pbnQ6IGFueSwgb0RpbWVuc2lvbjogYW55KSB7XG5cdFx0Y29uc3Qgb01vZGVsID0gaUNvbnRleHQuZ2V0TW9kZWwoMCk7XG5cdFx0Y29uc3Qgb0RpbWVuc2lvblBhdGggPSBpQ29udGV4dC5nZXRQYXRoKDEpO1xuXHRcdGNvbnN0IGFWYWx1ZUNyaXRpY2FsaXR5ID0gb01vZGVsLmdldE9iamVjdChgJHtvRGltZW5zaW9uUGF0aH0kUHJvcGVydHlQYXRoQGNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLlZhbHVlQ3JpdGljYWxpdHlgKTtcblx0XHRvRGF0YVBvaW50ID0gb0RhdGFQb2ludC50YXJnZXRPYmplY3Q7XG5cdFx0aWYgKG9EYXRhUG9pbnQuQ3JpdGljYWxpdHkpIHtcblx0XHRcdHJldHVybiBidWlsZEV4cHJlc3Npb25Gb3JDcml0aWNhbGl0eUNvbG9yTWljcm9DaGFydChvRGF0YVBvaW50KTtcblx0XHR9IGVsc2UgaWYgKG9EYXRhUG9pbnQuQ3JpdGljYWxpdHlDYWxjdWxhdGlvbikge1xuXHRcdFx0Y29uc3Qgb0RpcmVjdGlvbiA9XG5cdFx0XHRcdG9EYXRhUG9pbnQuQ3JpdGljYWxpdHlDYWxjdWxhdGlvbi5JbXByb3ZlbWVudERpcmVjdGlvbiAmJlxuXHRcdFx0XHRvRGF0YVBvaW50LkNyaXRpY2FsaXR5Q2FsY3VsYXRpb24uSW1wcm92ZW1lbnREaXJlY3Rpb24uJEVudW1NZW1iZXI7XG5cdFx0XHRjb25zdCBvRGF0YVBvaW50VmFsdWUgPSBPRGF0YU1vZGVsQW5ub3RhdGlvbkhlbHBlci52YWx1ZShvRGF0YVBvaW50LlZhbHVlLCB7IGNvbnRleHQ6IGlDb250ZXh0LmdldEludGVyZmFjZSgwKSB9KTtcblx0XHRcdGNvbnN0IG9EZXZpYXRpb25SYW5nZUxvd1ZhbHVlID0gT0RhdGFNb2RlbEFubm90YXRpb25IZWxwZXIudmFsdWUob0RhdGFQb2ludC5Dcml0aWNhbGl0eUNhbGN1bGF0aW9uLkRldmlhdGlvblJhbmdlTG93VmFsdWUsIHtcblx0XHRcdFx0Y29udGV4dDogaUNvbnRleHQuZ2V0SW50ZXJmYWNlKDApXG5cdFx0XHR9KTtcblx0XHRcdGNvbnN0IG9Ub2xlcmFuY2VSYW5nZUxvd1ZhbHVlID0gT0RhdGFNb2RlbEFubm90YXRpb25IZWxwZXIudmFsdWUob0RhdGFQb2ludC5Dcml0aWNhbGl0eUNhbGN1bGF0aW9uLlRvbGVyYW5jZVJhbmdlTG93VmFsdWUsIHtcblx0XHRcdFx0Y29udGV4dDogaUNvbnRleHQuZ2V0SW50ZXJmYWNlKDApXG5cdFx0XHR9KTtcblx0XHRcdGNvbnN0IG9BY2NlcHRhbmNlUmFuZ2VMb3dWYWx1ZSA9IE9EYXRhTW9kZWxBbm5vdGF0aW9uSGVscGVyLnZhbHVlKG9EYXRhUG9pbnQuQ3JpdGljYWxpdHlDYWxjdWxhdGlvbi5BY2NlcHRhbmNlUmFuZ2VMb3dWYWx1ZSwge1xuXHRcdFx0XHRjb250ZXh0OiBpQ29udGV4dC5nZXRJbnRlcmZhY2UoMClcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3Qgb0FjY2VwdGFuY2VSYW5nZUhpZ2hWYWx1ZSA9IE9EYXRhTW9kZWxBbm5vdGF0aW9uSGVscGVyLnZhbHVlKG9EYXRhUG9pbnQuQ3JpdGljYWxpdHlDYWxjdWxhdGlvbi5BY2NlcHRhbmNlUmFuZ2VIaWdoVmFsdWUsIHtcblx0XHRcdFx0Y29udGV4dDogaUNvbnRleHQuZ2V0SW50ZXJmYWNlKDApXG5cdFx0XHR9KTtcblx0XHRcdGNvbnN0IG9Ub2xlcmFuY2VSYW5nZUhpZ2hWYWx1ZSA9IE9EYXRhTW9kZWxBbm5vdGF0aW9uSGVscGVyLnZhbHVlKG9EYXRhUG9pbnQuQ3JpdGljYWxpdHlDYWxjdWxhdGlvbi5Ub2xlcmFuY2VSYW5nZUhpZ2hWYWx1ZSwge1xuXHRcdFx0XHRjb250ZXh0OiBpQ29udGV4dC5nZXRJbnRlcmZhY2UoMClcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3Qgb0RldmlhdGlvblJhbmdlSGlnaFZhbHVlID0gT0RhdGFNb2RlbEFubm90YXRpb25IZWxwZXIudmFsdWUob0RhdGFQb2ludC5Dcml0aWNhbGl0eUNhbGN1bGF0aW9uLkRldmlhdGlvblJhbmdlSGlnaFZhbHVlLCB7XG5cdFx0XHRcdGNvbnRleHQ6IGlDb250ZXh0LmdldEludGVyZmFjZSgwKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gQ29tbW9uSGVscGVyLmdldENyaXRpY2FsaXR5Q2FsY3VsYXRpb25CaW5kaW5nKFxuXHRcdFx0XHRvRGlyZWN0aW9uLFxuXHRcdFx0XHRvRGF0YVBvaW50VmFsdWUsXG5cdFx0XHRcdG9EZXZpYXRpb25SYW5nZUxvd1ZhbHVlLFxuXHRcdFx0XHRvVG9sZXJhbmNlUmFuZ2VMb3dWYWx1ZSxcblx0XHRcdFx0b0FjY2VwdGFuY2VSYW5nZUxvd1ZhbHVlLFxuXHRcdFx0XHRvQWNjZXB0YW5jZVJhbmdlSGlnaFZhbHVlLFxuXHRcdFx0XHRvVG9sZXJhbmNlUmFuZ2VIaWdoVmFsdWUsXG5cdFx0XHRcdG9EZXZpYXRpb25SYW5nZUhpZ2hWYWx1ZVxuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKGFWYWx1ZUNyaXRpY2FsaXR5ICYmIGFWYWx1ZUNyaXRpY2FsaXR5Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIENvbW1vbkhlbHBlci5nZXRWYWx1ZUNyaXRpY2FsaXR5KG9EaW1lbnNpb24uJFByb3BlcnR5UGF0aCwgYVZhbHVlQ3JpdGljYWxpdHkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fSxcblx0Z2V0U2NhbGVVb01UaXRsZTogZnVuY3Rpb24gKFxuXHRcdG9JbnRlcmZhY2U6IGFueSxcblx0XHRvQ2hhcnRBbm5vdGF0aW9uOiBhbnksXG5cdFx0b0NvbGxlY3Rpb246IGFueSxcblx0XHRzTWV0YVBhdGg6IGFueSxcblx0XHRiQ3VzdG9tQWdncmVnYXRlOiBhbnksXG5cdFx0b0FnZ3JlZ2F0aW9uOiBhbnksXG5cdFx0c1NlcGVyYXRvcjogYW55LFxuXHRcdGJJc1Rvb2xUaXA6IGFueVxuXHQpIHtcblx0XHRjb25zdCBvTW9kZWwgPSBvSW50ZXJmYWNlLmdldE1vZGVsKDApO1xuXHRcdGNvbnN0IHNTY2FsZUZhY3RvciA9IG9Nb2RlbC5nZXRPYmplY3QoXG5cdFx0XHRgJHtvSW50ZXJmYWNlLmdldFBhdGgoMCl9L01lYXN1cmVBdHRyaWJ1dGVzLzAvRGF0YVBvaW50LyRBbm5vdGF0aW9uUGF0aC9WYWx1ZUZvcm1hdC9TY2FsZUZhY3Rvci8kRGVjaW1hbGBcblx0XHQpO1xuXHRcdGNvbnN0IHNJbmZvUGF0aCA9IGdlbmVyYXRlKFtzTWV0YVBhdGhdKTtcblx0XHRjb25zdCBmaXhlZEludGVnZXIgPSBOdW1iZXJGb3JtYXQuZ2V0SW50ZWdlckluc3RhbmNlKHtcblx0XHRcdHN0eWxlOiBcInNob3J0XCIsXG5cdFx0XHRzaG93U2NhbGU6IGZhbHNlLFxuXHRcdFx0c2hvcnRSZWZOdW1iZXI6IHNTY2FsZUZhY3RvclxuXHRcdH0pO1xuXHRcdGxldCBzU2NhbGUgPSAoZml4ZWRJbnRlZ2VyIGFzIGFueSkuZ2V0U2NhbGUoKTtcblx0XHRsZXQgdlVPTSA9IEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0VW9NKG9JbnRlcmZhY2UsIG9DaGFydEFubm90YXRpb24sIG9Db2xsZWN0aW9uLCB1bmRlZmluZWQsIGJDdXN0b21BZ2dyZWdhdGUsIG9BZ2dyZWdhdGlvbik7XG5cdFx0dlVPTSA9IHZVT00gJiYgKHZVT00uJFBhdGggPyBcIiR7aW50ZXJuYWw+dW9tL1wiICsgc0luZm9QYXRoICsgXCJ9XCIgOiBcIidcIiArIHZVT00gKyBcIidcIik7XG5cdFx0c1NjYWxlID0gc1NjYWxlID8gXCInXCIgKyBzU2NhbGUgKyBcIidcIiA6IFwiJHtpbnRlcm5hbD5zY2FsZWZhY3Rvci9cIiArIHNJbmZvUGF0aCArIFwifVwiO1xuXHRcdGlmICghc1NlcGVyYXRvcikge1xuXHRcdFx0c1NlcGVyYXRvciA9IFwifFwiO1xuXHRcdH1cblx0XHRzU2VwZXJhdG9yID0gdlVPTSA/IFwiJyBcIiArIHNTZXBlcmF0b3IgKyBcIiAnICsgXCIgOiBcIlwiO1xuXHRcdGNvbnN0IHNFeHByZXNzaW9uID0gc1NjYWxlICYmIHZVT00gPyBzU2VwZXJhdG9yICsgc1NjYWxlICsgXCIgKyAnICcgKyBcIiArIHZVT00gOiBzU2VwZXJhdG9yICsgKHNTY2FsZSB8fCB2VU9NKTtcblx0XHRyZXR1cm4gYklzVG9vbFRpcCA/IHNFeHByZXNzaW9uIDogXCJ7PSBcIiArIHNFeHByZXNzaW9uICsgXCJ9XCI7XG5cdH0sXG5cdGdldE1lYXN1cmVEaW1lbnNpb25UaXRsZTogZnVuY3Rpb24gKFxuXHRcdG9JbnRlcmZhY2U6IGFueSxcblx0XHRvQ2hhcnRBbm5vdGF0aW9uOiBhbnksXG5cdFx0b0NvbGxlY3Rpb246IGFueSxcblx0XHRiQ3VzdG9tQWdncmVnYXRlOiBhbnksXG5cdFx0b0FnZ3JlZ2F0aW9uOiBhbnlcblx0KSB7XG5cdFx0Y29uc3Qgb01vZGVsID0gb0ludGVyZmFjZS5nZXRNb2RlbCgwKTtcblx0XHRsZXQgc01lYXN1cmVMYWJlbDtcblx0XHRjb25zdCBzTWVhc3VyZVBhdGhFeHByZXNzaW9uID0gSW50ZXJhY3RpdmVDaGFydEhlbHBlci5fZ2V0TWVhc3VyZVBhdGgob0NoYXJ0QW5ub3RhdGlvbiwgYkN1c3RvbUFnZ3JlZ2F0ZSk7XG5cdFx0Y29uc3Qgc01lYXN1cmVQYXRoID0gb01vZGVsLmdldE9iamVjdChgJHtvSW50ZXJmYWNlLmdldFBhdGgoMCl9YCArIHNNZWFzdXJlUGF0aEV4cHJlc3Npb24pO1xuXHRcdGNvbnN0IHNEaW1lbnNpb25QYXRoID0gb01vZGVsLmdldE9iamVjdChgJHtvSW50ZXJmYWNlLmdldFBhdGgoMCl9L0RpbWVuc2lvbnMvMC8kUHJvcGVydHlQYXRoYCk7XG5cdFx0bGV0IHNEaW1lbnNpb25MYWJlbCA9IEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0TGFiZWwob01vZGVsLCBvSW50ZXJmYWNlLCBcIkRpbWVuc2lvbnNcIik7XG5cdFx0aWYgKCFiQ3VzdG9tQWdncmVnYXRlICYmIG9BZ2dyZWdhdGlvbikge1xuXHRcdFx0Ly8gY2hlY2sgaWYgdGhlIGxhYmVsIGlzIHBhcnQgb2YgYWdncmVnYXRlZCBwcm9wZXJ0aWVzIChUcmFuc2Zvcm1hdGlvbiBhZ2dyZWdhdGVzKVxuXHRcdFx0c01lYXN1cmVMYWJlbCA9IG9BZ2dyZWdhdGlvbi5hbm5vdGF0aW9ucyAmJiBvQWdncmVnYXRpb24uYW5ub3RhdGlvbnMuQ29tbW9uICYmIG9BZ2dyZWdhdGlvbi5hbm5vdGF0aW9ucy5Db21tb24uTGFiZWw7XG5cdFx0XHRpZiAoc01lYXN1cmVMYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHNNZWFzdXJlTGFiZWwgPSBzTWVhc3VyZUxhYmVsID0gSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRMYWJlbChvTW9kZWwsIG9JbnRlcmZhY2UsIFwiTWVhc3VyZXNcIik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNNZWFzdXJlTGFiZWwgPSBJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldExhYmVsKG9Nb2RlbCwgb0ludGVyZmFjZSwgXCJNZWFzdXJlc1wiKTtcblx0XHR9XG5cdFx0aWYgKHNNZWFzdXJlTGFiZWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0c01lYXN1cmVMYWJlbCA9IHNNZWFzdXJlUGF0aDtcblx0XHR9XG5cdFx0aWYgKHNEaW1lbnNpb25MYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRzRGltZW5zaW9uTGFiZWwgPSBzRGltZW5zaW9uUGF0aDtcblx0XHR9XG5cdFx0cmV0dXJuIChcblx0XHRcdFJlc291cmNlTW9kZWwgJiZcblx0XHRcdFJlc291cmNlTW9kZWwuZ2V0VGV4dChcIk1fSU5URVJBQ1RJVkVfQ0hBUlRfSEVMUEVSX1ZJU1VBTEZJTFRFUl9NRUFTVVJFX0RJTUVOU0lPTl9USVRMRVwiLCBbc01lYXN1cmVMYWJlbCwgc0RpbWVuc2lvbkxhYmVsXSlcblx0XHQpO1xuXHR9LFxuXHRnZXRMYWJlbDogZnVuY3Rpb24gKG9Nb2RlbDogYW55LCBvSW50ZXJmYWNlOiBhbnksIHNQcm9wZXJ0eTogYW55KSB7XG5cdFx0cmV0dXJuIG9Nb2RlbC5nZXRPYmplY3QoYCR7b0ludGVyZmFjZS5nZXRQYXRoKDApfS8ke3NQcm9wZXJ0eX0vMC8kUHJvcGVydHlQYXRoQGNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5MYWJlbGApO1xuXHR9LFxuXG5cdGdldFRvb2xUaXA6IGZ1bmN0aW9uIChcblx0XHRvSW50ZXJmYWNlOiBhbnksXG5cdFx0b0NoYXJ0QW5ub3RhdGlvbjogYW55LFxuXHRcdG9Db2xsZWN0aW9uOiBhbnksXG5cdFx0c01ldGFQYXRoOiBhbnksXG5cdFx0YkN1c3RvbUFnZ3JlZ2F0ZTogYW55LFxuXHRcdG9BZ2dyZWdhdGlvbjogYW55LFxuXHRcdGJSZW5kZXJMaW5lQ2hhcnQ6IGFueVxuXHQpIHtcblx0XHRjb25zdCBzQ2hhcnRUeXBlID0gb0NoYXJ0QW5ub3RhdGlvbiAmJiBvQ2hhcnRBbm5vdGF0aW9uW1wiQ2hhcnRUeXBlXCJdICYmIG9DaGFydEFubm90YXRpb25bXCJDaGFydFR5cGVcIl1bXCIkRW51bU1lbWJlclwiXTtcblxuXHRcdGxldCBzTWVhc3VyZURpbWVuc2lvblRvb2xUaXAgPSBJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldE1lYXN1cmVEaW1lbnNpb25UaXRsZShcblx0XHRcdG9JbnRlcmZhY2UsXG5cdFx0XHRvQ2hhcnRBbm5vdGF0aW9uLFxuXHRcdFx0b0NvbGxlY3Rpb24sXG5cdFx0XHRiQ3VzdG9tQWdncmVnYXRlLFxuXHRcdFx0b0FnZ3JlZ2F0aW9uXG5cdFx0KTtcblx0XHRzTWVhc3VyZURpbWVuc2lvblRvb2xUaXAgPSBDb21tb25IZWxwZXIuZXNjYXBlU2luZ2xlUXVvdGVzKHNNZWFzdXJlRGltZW5zaW9uVG9vbFRpcCk7XG5cdFx0aWYgKGJSZW5kZXJMaW5lQ2hhcnQgPT09IFwiZmFsc2VcIiAmJiBzQ2hhcnRUeXBlID09PSBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLkNoYXJ0VHlwZS9MaW5lXCIpIHtcblx0XHRcdHJldHVybiBgez0gJyR7c01lYXN1cmVEaW1lbnNpb25Ub29sVGlwfSd9YDtcblx0XHR9XG5cblx0XHRjb25zdCBzU2VwZXJhdG9yID0gUmVzb3VyY2VNb2RlbC5nZXRUZXh0KFwiTV9JTlRFUkFDVElWRV9DSEFSVF9IRUxQRVJfVklTVUFMRklMVEVSX1RPT0xUSVBfU0VQRVJBVE9SXCIpO1xuXHRcdGNvbnN0IHNJbmZvUGF0aCA9IGdlbmVyYXRlKFtzTWV0YVBhdGhdKTtcblx0XHRjb25zdCBzU2NhbGVVT01Ub29sdGlwID0gSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRTY2FsZVVvTVRpdGxlKFxuXHRcdFx0b0ludGVyZmFjZSxcblx0XHRcdG9DaGFydEFubm90YXRpb24sXG5cdFx0XHRvQ29sbGVjdGlvbixcblx0XHRcdHNJbmZvUGF0aCxcblx0XHRcdGJDdXN0b21BZ2dyZWdhdGUsXG5cdFx0XHRvQWdncmVnYXRpb24sXG5cdFx0XHRzU2VwZXJhdG9yLFxuXHRcdFx0dHJ1ZVxuXHRcdCk7XG5cdFx0cmV0dXJuIFwiez0gJ1wiICsgc01lYXN1cmVEaW1lbnNpb25Ub29sVGlwICsgKHNTY2FsZVVPTVRvb2x0aXAgPyBcIicgKyBcIiArIHNTY2FsZVVPTVRvb2x0aXAgOiBcIidcIikgKyBcIn1cIjtcblx0fSxcblx0Z2V0VW9NOiBmdW5jdGlvbiAoXG5cdFx0b0ludGVyZmFjZTogYW55LFxuXHRcdG9DaGFydEFubm90YXRpb246IGFueSxcblx0XHRvQ29sbGVjdGlvbjogYW55LFxuXHRcdGlzQ3VzdG9tRGF0YTogYW55LFxuXHRcdGJDdXN0b21BZ2dyZWdhdGU6IGFueSxcblx0XHRvQWdncmVnYXRpb246IGFueVxuXHQpIHtcblx0XHRjb25zdCBvTW9kZWwgPSBvSW50ZXJmYWNlLmdldE1vZGVsKDApO1xuXHRcdGNvbnN0IHNNZWFzdXJlUGF0aEV4cHJlc3Npb24gPSBJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLl9nZXRNZWFzdXJlUGF0aChvQ2hhcnRBbm5vdGF0aW9uLCBiQ3VzdG9tQWdncmVnYXRlKTtcblx0XHRjb25zdCB2SVNPQ3VycmVuY3kgPSBvTW9kZWwuZ2V0T2JqZWN0KGAke29JbnRlcmZhY2UuZ2V0UGF0aCgwKX1gICsgc01lYXN1cmVQYXRoRXhwcmVzc2lvbiArIGBAT3JnLk9EYXRhLk1lYXN1cmVzLlYxLklTT0N1cnJlbmN5YCk7XG5cdFx0Y29uc3QgdlVuaXQgPSBvTW9kZWwuZ2V0T2JqZWN0KGAke29JbnRlcmZhY2UuZ2V0UGF0aCgwKX1gICsgc01lYXN1cmVQYXRoRXhwcmVzc2lvbiArIGBAT3JnLk9EYXRhLk1lYXN1cmVzLlYxLlVuaXRgKTtcblx0XHRjb25zdCBzTWVhc3VyZVBhdGggPSBvTW9kZWwuZ2V0T2JqZWN0KGAke29JbnRlcmZhY2UuZ2V0UGF0aCgwKX1gICsgc01lYXN1cmVQYXRoRXhwcmVzc2lvbik7XG5cdFx0bGV0IHNBZ2dyZWdhdGFibGVQcm9wZXJ0eVBhdGg6IGFueTtcblx0XHRpZiAoIWJDdXN0b21BZ2dyZWdhdGUgJiYgb0FnZ3JlZ2F0aW9uKSB7XG5cdFx0XHRzQWdncmVnYXRhYmxlUHJvcGVydHlQYXRoID0gb0FnZ3JlZ2F0aW9uLkFnZ3JlZ2F0YWJsZVByb3BlcnR5ICYmIG9BZ2dyZWdhdGlvbi5BZ2dyZWdhdGFibGVQcm9wZXJ0eS52YWx1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c0FnZ3JlZ2F0YWJsZVByb3BlcnR5UGF0aCA9IHNNZWFzdXJlUGF0aDtcblx0XHR9XG5cdFx0Y29uc3QgX2dldFVPTSA9IGZ1bmN0aW9uICh2VU9NOiBhbnksIHNBbm5vdGF0aW9uOiBhbnkpIHtcblx0XHRcdGNvbnN0IHNVT00gPSBzQW5ub3RhdGlvbiAmJiBzQW5ub3RhdGlvbi5zcGxpdChcIlYxLlwiKVsxXTtcblx0XHRcdGNvbnN0IG9VT006IGFueSA9IHt9O1xuXHRcdFx0aWYgKHZVT00pIHtcblx0XHRcdFx0Ly8gY2hlY2sgaWYgdGhlIFVPTSBpcyBwYXJ0IG9mIE1lYXN1cmUgYW5ub3RhdGlvbnMoQ3VzdG9tIGFnZ3JlZ2F0ZXMpXG5cdFx0XHRcdG9VT01bc1VPTV0gPSB2VU9NO1xuXHRcdFx0XHRyZXR1cm4gaXNDdXN0b21EYXRhICYmIHZVT00uJFBhdGggPyBKU09OLnN0cmluZ2lmeShvVU9NKSA6IHZVT007XG5cdFx0XHR9IGVsc2UgaWYgKHNBZ2dyZWdhdGFibGVQcm9wZXJ0eVBhdGgpIHtcblx0XHRcdFx0Ly8gY2hlY2sgaWYgdGhlIFVPTSBpcyBwYXJ0IG9mIGJhc2UgcHJvcGVydHkgYW5ub3RhdGlvbnMoVHJhbnNmb3JtYXRpb24gYWdncmVnYXRlcylcblx0XHRcdFx0dlVPTSA9IG9JbnRlcmZhY2UuZ2V0TW9kZWwoMSkuZ2V0T2JqZWN0KGAke29JbnRlcmZhY2UuZ2V0UGF0aCgxKX0vJHtzQWdncmVnYXRhYmxlUHJvcGVydHlQYXRofSR7c0Fubm90YXRpb259YCk7XG5cdFx0XHRcdG9VT01bc1VPTV0gPSB2VU9NO1xuXHRcdFx0XHRyZXR1cm4gdlVPTSAmJiBpc0N1c3RvbURhdGEgJiYgdlVPTS4kUGF0aCA/IEpTT04uc3RyaW5naWZ5KG9VT00pIDogdlVPTTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdHJldHVybiBfZ2V0VU9NKHZJU09DdXJyZW5jeSwgXCJAT3JnLk9EYXRhLk1lYXN1cmVzLlYxLklTT0N1cnJlbmN5XCIpIHx8IF9nZXRVT00odlVuaXQsIFwiQE9yZy5PRGF0YS5NZWFzdXJlcy5WMS5Vbml0XCIpO1xuXHR9LFxuXHRnZXRTY2FsZUZhY3RvcjogZnVuY3Rpb24gKG9WYWx1ZUZvcm1hdDogYW55KSB7XG5cdFx0aWYgKG9WYWx1ZUZvcm1hdCAmJiBvVmFsdWVGb3JtYXQuU2NhbGVGYWN0b3IpIHtcblx0XHRcdHJldHVybiBvVmFsdWVGb3JtYXQuU2NhbGVGYWN0b3IuJERlY2ltYWw7XG5cdFx0fVxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH0sXG5cdGdldFVvTVZpc2libGl0eTogZnVuY3Rpb24gKG9JbnRlcmZhY2U6IGFueSwgb0NoYXJ0QW5ub3RhdGlvbjogYW55LCBiU2hvd0Vycm9yOiBhbnkpIHtcblx0XHRjb25zdCBzQ2hhcnRUeXBlID0gb0NoYXJ0QW5ub3RhdGlvbiAmJiBvQ2hhcnRBbm5vdGF0aW9uW1wiQ2hhcnRUeXBlXCJdICYmIG9DaGFydEFubm90YXRpb25bXCJDaGFydFR5cGVcIl1bXCIkRW51bU1lbWJlclwiXTtcblx0XHRpZiAoYlNob3dFcnJvcikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHQhKHNDaGFydFR5cGUgPT09IFwiY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuQ2hhcnRUeXBlL0JhclwiIHx8IHNDaGFydFR5cGUgPT09IFwiY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuQ2hhcnRUeXBlL0xpbmVcIilcblx0XHQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9LFxuXHRnZXRJblBhcmFtZXRlckZpbHRlcnNCaW5kaW5nOiBmdW5jdGlvbiAoYUluUGFyYW1ldGVyczogYW55KSB7XG5cdFx0aWYgKGFJblBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgYVBhcnRzOiBhbnlbXSA9IFtdO1xuXHRcdFx0bGV0IHNQYXRocyA9IFwiXCI7XG5cdFx0XHRhSW5QYXJhbWV0ZXJzLmZvckVhY2goZnVuY3Rpb24gKG9JblBhcmFtZXRlcjogYW55KSB7XG5cdFx0XHRcdGlmIChvSW5QYXJhbWV0ZXIubG9jYWxEYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0XHRhUGFydHMucHVzaChge3BhdGg6JyRmaWx0ZXJzPi9jb25kaXRpb25zLyR7b0luUGFyYW1ldGVyLmxvY2FsRGF0YVByb3BlcnR5fSd9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYgKGFQYXJ0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHNQYXRocyA9IGFQYXJ0cy5qb2luKCk7XG5cdFx0XHRcdHJldHVybiBge3BhcnRzOlske3NQYXRoc31dLCBmb3JtYXR0ZXI6J3NhcC5mZS5tYWNyb3MudmlzdWFsZmlsdGVycy5WaXN1YWxGaWx0ZXJSdW50aW1lLmdldEZpbHRlcnNGcm9tQ29uZGl0aW9ucyd9YDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9LFxuXG5cdGdldGZpbHRlckNvdW50QmluZGluZzogZnVuY3Rpb24gKG9JbnRlcmZhY2U6IGFueSwgb0NoYXJ0QW5ub3RhdGlvbjogYW55KSB7XG5cdFx0Y29uc3Qgc0RpbWVuc2lvbiA9IG9DaGFydEFubm90YXRpb24uRGltZW5zaW9uc1swXS4kUHJvcGVydHlQYXRoO1xuXHRcdHJldHVybiAoXG5cdFx0XHRcIntwYXRoOickZmlsdGVycz4vY29uZGl0aW9ucy9cIiArIHNEaW1lbnNpb24gKyBcIicsIGZvcm1hdHRlcjonc2FwLmZlLm1hY3Jvcy52aXN1YWxmaWx0ZXJzLlZpc3VhbEZpbHRlclJ1bnRpbWUuZ2V0RmlsdGVyQ291bnRzJ31cIlxuXHRcdCk7XG5cdH1cbn07XG4oSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRmaWx0ZXJDb3VudEJpbmRpbmcgYXMgYW55KS5yZXF1aXJlc0lDb250ZXh0ID0gdHJ1ZTtcbihJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldENvbG9yQmluZGluZyBhcyBhbnkpLnJlcXVpcmVzSUNvbnRleHQgPSB0cnVlO1xuKEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0QWdncmVnYXRpb25CaW5kaW5nIGFzIGFueSkucmVxdWlyZXNJQ29udGV4dCA9IHRydWU7XG4oSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRVb00gYXMgYW55KS5yZXF1aXJlc0lDb250ZXh0ID0gdHJ1ZTtcbihJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldFNjYWxlVW9NVGl0bGUgYXMgYW55KS5yZXF1aXJlc0lDb250ZXh0ID0gdHJ1ZTtcbihJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldFRvb2xUaXAgYXMgYW55KS5yZXF1aXJlc0lDb250ZXh0ID0gdHJ1ZTtcbihJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldE1lYXN1cmVEaW1lbnNpb25UaXRsZSBhcyBhbnkpLnJlcXVpcmVzSUNvbnRleHQgPSB0cnVlO1xuKEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0VW9NVmlzaWJsaXR5IGFzIGFueSkucmVxdWlyZXNJQ29udGV4dCA9IHRydWU7XG5cbmV4cG9ydCBkZWZhdWx0IEludGVyYWN0aXZlQ2hhcnRIZWxwZXI7XG4iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7O0VBZUEsSUFBTUEsc0JBQXNCLEdBQUc7SUFDOUJDLHNCQUFzQixFQUFFLFVBQVVDLEtBQVYsRUFBc0JDLFlBQXRCLEVBQXlDQyxTQUF6QyxFQUF5RDtNQUNoRjtNQUNBLElBQU1DLFNBQVMsR0FBR0MsUUFBUSxDQUFDLENBQUNGLFNBQUQsQ0FBRCxDQUExQjtNQUNBLE9BQ0Msb0JBQ0FGLEtBREEsR0FFQSwyRUFGQSxJQUdDQyxZQUFZLElBQUlBLFlBQVksQ0FBQ0ksV0FBN0IsR0FDRSxjQUFjSixZQUFZLENBQUNJLFdBQWIsQ0FBeUJDLFFBQXZDLEdBQWtELElBRHBELEdBRUUsd0NBQXdDSCxTQUF4QyxHQUFvRCxJQUx2RCxLQU1DRixZQUFZLElBQUlBLFlBQVksQ0FBQ00sd0JBQTdCLEdBQ0UsY0FBY04sWUFBWSxDQUFDTSx3QkFBM0IsR0FBc0QsSUFEeEQsR0FFRSxjQVJILElBU0EsNEJBVEEsR0FVQUosU0FWQSxHQVdBLElBWEEsR0FZQSxVQVpBLEdBYUFILEtBYkEsR0FjQSwwRUFkQSxHQWVBLDREQWhCRCxDQUhnRixDQW9CN0U7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