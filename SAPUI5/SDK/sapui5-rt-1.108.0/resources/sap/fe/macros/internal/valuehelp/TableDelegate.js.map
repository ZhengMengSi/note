{"version":3,"file":"TableDelegate.js","names":["sap","ui","define","Log","deepEqual","CommonUtils","FilterBar","MetaModelConverter","ModelHelper","DisplayModeFormatter","PropertyHelper","TypeUtil","MacrosDelegateUtil","ODataMetaModelUtil","Core","TableDelegate","DelegateUtil","FilterUtil","Filter","FilterOperator","Sorter","getLabel","getAssociatedUnitPropertyPath","getAssociatedUnitProperty","getAssociatedTimezonePropertyPath","getAssociatedTimezoneProperty","getAssociatedTextPropertyPath","getAssociatedTextProperty","getAssociatedCurrencyPropertyPath","getAssociatedCurrencyProperty","getDisplayMode","getInvolvedDataModelObjects","fetchTypeConfig","ODataTableDelegate","Object","assign","fetchProperties","oTable","_this","this","oModel","_getModel","pCreatePropertyInfos","Promise","resolve","attachModelContextChange","resolver","onModelContextChange","then","oSubModel","_createPropertyInfos","aProperties","data","oEvent","oData","getSource","detachModelContextChange","_collectRelatedProperties","oProperty","oAdditionalProperty","oColumn","_oProperty$annotation","_oProperty$annotation2","_textAnnotation$annot","_textAnnotation$annot2","_textAnnotation$annot3","relatedProperties","properties","textAnnotation","annotations","Common","Text","textArrangement","UI","TextArrangement","toString","displayMode","name","oMetadataInfo","getDelegate","payload","sEntitySetPath","concat","collectionName","oMetaModel","getMetaModel","requestObject","mEntitySetAnnotations","oSortRestrictions","oSortRestrictionsInfo","getSortRestrictionsInfo","oFilterRestrictions","oFilterRestrictionsInfo","getFilterRestrictionsInfo","customDataForColumns","getCustomData","propertiesToBeCreated","targetEntityType","getModel","getContext","customData","forEach","columnDef","oPropertyInfo","path","label","sortable","_isSortableProperty","filterable","_isFilterableProperty","maxConditions","_getPropertyMaxConditions","typeConfig","isTypeFilterable","$Type","getTypeUtil","getTypeConfig","undefined","entityProperties","find","prop","_getNavigationProperty","navigationProperties","propertyTypeConfig","oTypeConfig","type","formatOptions","constraints","additionalProperty","_getAdditionalProperty","relatedPropertiesInfo","relatedPropertyNames","keys","length","propertyInfos","some","_oProperty","push","relatedColumns","_createRelatedProperties","updateBindingInfo","oMDCTable","oBindingInfo","apply","collectionPath","model","oFilter","byId","getFilter","bFilterEnabled","isFilteringEnabled","mConditions","oInnerFilterInfo","oOuterFilterInfo","aFilters","aTableProperties","getConditions","getFilterInfo","filters","aParameterNames","getParameterNames","_updatePropertyInfo","sParameterPath","getParametersInfo","parameters","$search","normalizeSearchTerm","getSearch","_applyDefaultSorting","$select","reduce","sQuery","indexOf","$count","isDraftSupported","EQ","oPayload","sorter","defaultSortPropertyName","aConditionKey","conditionKey","findIndex","tableProperty","oColumnDef","getObject","updateBinding","oBinding","bNeedManualRefresh","oInternalBindingContext","getBindingContext","sManualUpdatePropertyKey","bPendingManualUpdate","getProperty","oRowBinding","getRowBinding","oldFilters","getFilters","getQueryOptionsFromParameters","setProperty","requestRefresh","getGroupId","finally","catch","oError","error","fireEvent","existingColumns","relatedPropertyNameMap","property","relatedColumn","column","newName","_annotations","_annotations$UI","_annotations$UI$DataF","propertyValue","DataFieldDefault","Value","$target","_column$propertyInfos","map","propertyInfo","_relatedPropertyNameM","isMultiValueFilterExpression","_navigationProperties","navProp","targetType","additionalPropertyPath","associatedProperty"],"sources":["TableDelegate-dbg.js"],"mappings":"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"}