/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/macros/DelegateUtil","sap/m/QuickViewPage"],function(e,t,r,a,i){"use strict";var n,o,s,l,c,p,u;var f=t.defineUI5Class;var g=t.aggregation;function h(e,t,r,a){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return b(e,t)}function d(e,t,r,a,i){var n={};Object.keys(a).forEach(function(e){n[e]=a[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n);if(i&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(i):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function y(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var C=(n=f("sap.fe.core.controls.CustomQuickViewPage"),o=g({type:"sap.ui.core.Control",multiple:true}),s=g({type:"sap.m.QuickViewGroup",multiple:true,singularName:"group",isDefault:true}),n(l=(c=function(t){v(i,t);function i(){var e;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++){a[i]=arguments[i]}e=t.call.apply(t,[this].concat(a))||this;h(e,"customContent",p,m(e));h(e,"groups",u,m(e));return e}var n=i.prototype;n.onBeforeRendering=function i(n){var o=this;if(this.getParent()&&this.getParent().isA("sap.fe.core.controls.ConditionalWrapper")&&this.getParent().getProperty("condition")===true){this.setCrossAppNavCallback(function(){var t=a.getCustomData(o,"titleLink");var i=e.getTargetView(o);var n=e.getAppComponent(i);var s=n.getShellServices();var l=s.parseShellHash(t);var c={target:{semanticObject:l.semanticObject,action:l.action},params:l.params};var p="".concat(c.target.semanticObject,"-").concat(c.target.action);if(p&&o.oCrossAppNavigator&&o.oCrossAppNavigator.isNavigationSupported([p])){if(p&&p!==""){if(typeof p==="string"&&p!==""){var u;var f=o.getParent();while(f&&!f.isA("sap.ui.mdc.Link")){f=f.getParent()}var g=f.getModel("$sapuimdcLink").getProperty("/linkItems");if(g){if(g.length>0){for(var h=0;h<g.length;h++){if(g[h].key===p){u=g[h].href;break}}if(u){l=s.parseShellHash(u)}else{l=s.parseShellHash(p);l.params=c.params}}}else{l=s.parseShellHash(p)}r.storeControlRefreshStrategyForHash(i,l);return{target:{semanticObject:l.semanticObject,action:l.action},params:l.params}}}}else{var m=s.parseShellHash(window.location.hash);r.storeControlRefreshStrategyForHash(i,m);return{target:{semanticObject:m.semanticObject,action:m.action,appSpecificRoute:m.appSpecificRoute},params:m.params}}})}t.prototype.onBeforeRendering.call(this,n);var s=this.getPageContent();var l=s.form;if(l){var c=this.customContent;if(c&&c.length>0){c.forEach(function(e){var t=e.clone();t.setModel(o.getModel());t.setBindingContext(o.getBindingContext());l.addContent(t)});setTimeout(function(){l.rerender()},0)}}};return i}(i),p=d(c.prototype,"customContent",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),u=d(c.prototype,"groups",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||l);return C},false);
//# sourceMappingURL=CustomQuickViewPage.js.map