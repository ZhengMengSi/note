{"version":3,"file":"BuildingBlockRuntime.js","names":["sap","ui","define","Log","deepClone","uid","AttributeModel","BindingToolkit","ResourceModel","BindingParser","XMLPreprocessor","TraceInfo","_forOf","target","body","check","_iteratorSymbol","iterator","step","pact","reject","_cycle","result","next","done","value","then","_isSettledPact","v","_settle","bind","_Pact","e","return","_fixup","TypeError","values","i","length","push","_forTo","array","Symbol","_templateObject","_templateObject2","_templateObject3","_templateObject4","_exports","compileExpression","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","F","s","n","f","normalCompletion","didErr","err","call","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","state","observer","prototype","onFulfilled","onRejected","this","callback","_this","thenable","_for","test","update","stage","shouldContinue","updateValue","_resumeAfterTest","_resumeAfterBody","_resumeAfterUpdate","_catch","recover","_taggedTemplateLiteral","strings","raw","slice","freeze","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","toString","constructor","name","from","iter","len","arr2","processBuildingBlock","buildingBlockDefinition","oNode","oVisitor","isPublic","undefined","sFragmentName","fragment","concat","namespace","sName","mContexts","oMetadataContexts","oSettings","getSettings","models","getResourceBundle","oResourceBundle","setApplicationI18nBundle","catch","error","oMetadata","prepareMetadata","metadata","isOpen","Promise","resolve","processProperties","apiVersion","propertyValues","processContexts","_ref","mMissingContext","extraPropertyValues","assign","initialKeys","_temp18","processChildren","oAggregations","_temp17","oPreviousMacroInfo","oInstance","oControlConfig","viewData","getProperty","processedPropertyValues","isV1MacroDef","create","metadataContexts","sMetadataName","computed","sContextName","hasOwnProperty","propName","oData","isA","SAP_UI_MODEL_CONTEXT","getModel","getObject","BuildingBlockClass","getProperties","targetObject","sAttributeValue","storeValue","sContextPath","converterContext","setProperty","createBindingContext","myStore","oAttributesModel","isTraceInfoActive","oTraceInfo","traceMacroCalls","macroInfo","validateMacroSignature","oContextVisitor","with","oParent","parentNode","iChildIndex","oPromise","processCustomData","_temp16","children","indexOf","getTemplate","oTemplate","addDefaultNamespace","isRuntime","myStoreKey","hasError","firstElementChild","parseXMLString","document","createNodeIterator","NodeFilter","SHOW_TEXT","textnode","nextNode","textContent","trim","localName","_oInstance","isTraceMode","oErrorText","createErrorXML","outerHTML","replaceWith","processSlots","aggregations","visitNode","remove","insertFragment","oMacroElement","oRemainingSlots","querySelectorAll","oSlotElement","traceDetails","initialProperties","resolvedProperties","missingContexts","_iterator","_step","_propertyName","_propertyValue","path","getPath","propertyName","propertyValue","includes","errorAny","oError","stack","_temp10","_temp11","_oFirstElementChild","_temp6","_temp5","oNextChild","nextElementSibling","sChildName","sAggregationName","toUpperCase","defaultAggregation","_temp4","_temp13","aggregationDefinition","_temp14","slot","childDefinition","oNewChild","createElementNS","namespaceURI","getAttribute","nextChild","appendChild","removeAttribute","_temp15","properties","type","_i2","_Object$keys","attributes","attributeIndex","oOutObjects","childIdx","myChild","_i3","_Object$keys2","_attributeIndex","parsedAggregation","parseAggregation","parsedAggregationKey","_temp12","visitChildNodes","currentContextPath","bindingContexts","contextPath","oDefinitionContexts","aDefinitionContextsKeys","contextPathIndex","contextPathDefinition","splice","_i","_aDefinitionContextsK","sAttributeName","bDoNotResolve","hasAttribute","oMetadataContext","_getMetadataContext","addSingleContext","oDefinitionProperties","aDefinitionPropertiesKeys","_temp22","sKeyValue","defaultValue","_temp20","_temp23","visitAttribute","getNamedItem","vValue","startsWith","Number","LOGGER_SCOPE","DOMParserInstance","DOMParser","validateMacroMetadataContext","oContextSettings","sKey","oContext","oContextObject","required","Error","$kind","$Type","aMetadataContextKeys","aProperties","oAttributeNames","iKey","oPropertySettings","warning","SAP_UI_CORE_ELEMENT","buildingBlockMetadata","oProperties","dependents","customData","foundDefaultAggregation","sPropertyName","events","sEventName","isDefault","_checkAbsoluteAndContextPaths","sMetaPath","endsWith","model","_createInitialMetadataContext","returnContext","entitySet","complexParser","getContext","oAggregation","childKey","setAttribute","position","placement","anchor","oMetadataAggregations","oAggregationElement","replace","oElementChild","sSlotName","oTargetElement","querySelector","oCtx","mSetting","ex","registerBuildingBlock","plugIn","xmlTag","publicNamespace","errorMessages","xmlFragment","additionalData","errorLabels","map","errorMessage","xml","escapeXMLAttributeValue","errorStack","stackFormatted","btoa","additionalText","JSON","stringify","replaceAll","propertyUID","xmlString","addDefaultNamespaces","xmlDocument","parseFromString","output","_output","renderInTraceMode","outStr","xmlResult","innerText","innerHTML","split","_len","_key","flat","join","valuefn","_type","compiledExpression","_value$isA","propertyUId"],"sources":["BuildingBlockRuntime-dbg.js"],"mappings":"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"}