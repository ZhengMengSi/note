/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["./AnnotationEnum"],function(e){"use strict";var r={};var n=e.resolveEnumValue;function t(e,r){return u(e)||o(e,r)||l(e,r)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,r){var n=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;var t=[];var a=true;var o=false;var u,i;try{for(n=n.call(e);!(a=(u=n.next()).done);a=true){t.push(u.value);if(r&&t.length===r)break}}catch(e){o=true;i=e}finally{try{if(!a&&n["return"]!=null)n["return"]()}finally{if(o)throw i}}return t}function u(e){if(Array.isArray(e))return e}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach(function(r){f(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f(e,r,n){if(r in e){Object.defineProperty(e,r,{value:n,enumerable:true,configurable:true,writable:true})}else{e[r]=n}return e}function c(e){return v(e)||d(e)||l(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,r){if(!e)return;if(typeof e==="string")return y(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,r)}function d(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v(e){if(Array.isArray(e))return y(e)}function y(e,r){if(r==null||r>e.length)r=e.length;for(var n=0,t=new Array(r);n<r;n++){t[n]=e[n]}return t}var m={_type:"Unresolvable"};r.unresolveableExpression=m;function h(e){return e.replace(/'/g,"\\'")}function g(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}return r.find(function(e){return e._type==="Unresolvable"})!==undefined}r.hasUnresolveableExpression=g;function b(e,r){if(e._type!==r._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===r.value;case"Not":return b(e.operand,r.operand);case"Truthy":return b(e.operand,r.operand);case"Set":return e.operator===r.operator&&e.operands.length===r.operands.length&&e.operands.every(function(e){return r.operands.some(function(r){return b(e,r)})});case"IfElse":return b(e.condition,r.condition)&&b(e.onTrue,r.onTrue)&&b(e.onFalse,r.onFalse);case"Comparison":return e.operator===r.operator&&b(e.operand1,r.operand1)&&b(e.operand2,r.operand2);case"Concat":var n=e.expressions;var t=r.expressions;if(n.length!==t.length){return false}return n.every(function(e,r){return b(e,t[r])});case"Length":return b(e.pathInModel,r.pathInModel);case"PathInModel":return e.modelName===r.modelName&&e.path===r.path&&e.targetEntitySet===r.targetEntitySet;case"Formatter":return e.fn===r.fn&&e.parameters.length===r.parameters.length&&e.parameters.every(function(e,n){return b(r.parameters[n],e)});case"ComplexType":return e.type===r.type&&e.bindingParameters.length===r.bindingParameters.length&&e.bindingParameters.every(function(e,n){return b(r.bindingParameters[n],e)});case"Function":var a=r;if(e.obj===undefined||a.obj===undefined){return e.obj===a}return e.fn===a.fn&&b(e.obj,a.obj)&&e.parameters.length===a.parameters.length&&e.parameters.every(function(e,r){return b(a.parameters[r],e)});case"Ref":return e.ref===r.ref}return false}r._checkExpressionsAreEqual=b;function O(e){return e.operands.reduce(function(r,n){var t=n._type==="Set"&&n.operator===e.operator?n.operands:[n];t.forEach(function(e){if(r.operands.every(function(r){return!b(r,e)})){r.operands.push(e)}});return r},{_type:"Set",operator:e.operator,operands:[]})}function E(e){var r=e.map($);return e.some(function(e,n){for(var t=n+1;t<r.length;t++){if(b(e,r[t])){return true}}return false})}function _(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=O({_type:"Set",operator:"&&",operands:r.map(A)}).operands;if(g.apply(void 0,c(t))){return m}var a=false;var o=t.filter(function(e){if(M(e)){a=true}return!N(e)});if(a){return S(false)}else if(o.length===0){var u=t.reduce(function(e,r){return e&&F(r)},true);return S(u)}else if(o.length===1){return o[0]}else if(E(o)){return S(false)}else{return{_type:"Set",operator:"&&",operands:o}}}r.and=_;function P(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=O({_type:"Set",operator:"||",operands:r.map(A)}).operands;if(g.apply(void 0,c(t))){return m}var a=false;var o=t.filter(function(e){if(F(e)){a=true}return!N(e)||e.value});if(a){return S(true)}else if(o.length===0){var u=t.reduce(function(e,r){return e&&F(r)},true);return S(u)}else if(o.length===1){return o[0]}else if(E(o)){return S(true)}else{return{_type:"Set",operator:"||",operands:o}}}r.or=P;function $(e){e=A(e);if(g(e)){return m}else if(N(e)){return S(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(function(e){return N(e)||G(e)})){return _.apply(void 0,c(e.operands.map(function(e){return $(e)})))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(function(e){return N(e)||G(e)})){return P.apply(void 0,c(e.operands.map(function(e){return $(e)})))}else if(G(e)){switch(e.operator){case"!==":return s(s({},e),{},{operator:"==="});case"<":return s(s({},e),{},{operator:">="});case"<=":return s(s({},e),{},{operator:">"});case"===":return s(s({},e),{},{operator:"!=="});case">":return s(s({},e),{},{operator:"<="});case">=":return s(s({},e),{},{operator:"<"})}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}r.not=$;function w(e){if(N(e)){return S(!!e.value)}else{return{_type:"Truthy",operand:e}}}r.isTruthy=w;function j(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var t=arguments.length>3?arguments[3]:undefined;return I(e,r,n,t)}r.bindingExpression=j;function I(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var t=arguments.length>3?arguments[3]:undefined;if(e===undefined){return m}var a;if(t){a=t(e);if(a===undefined){return m}}else{var o=n.concat();o.push(e);a=o.join("/")}return{_type:"PathInModel",modelName:r,path:a}}r.pathInModel=I;function S(e){var r;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){r=e.map(A)}else if(B(e)){r=e.valueOf()}else{r=Object.entries(e).reduce(function(e,r){var n=t(r,2),a=n[0],o=n[1];var u=A(o);if(u._type!=="Constant"||u.value!==undefined){e[a]=u}return e},{})}}else{r=e}return{_type:"Constant",value:r}}r.constant=S;function x(e,r){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else{return{_type:"EmbeddedBinding",value:e}}}else if(r==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return S(e==="true")}else if(r==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return S(Number(e))}else{return S(e)}}r.resolveBindingString=x;function T(e){return{_type:"Ref",ref:e}}r.ref=T;function C(e){return e!==null&&typeof e==="object"&&e._type!==undefined}function A(e){if(C(e)){return e}return S(e)}function N(e){return typeof e!=="object"||e._type==="Constant"}r.isConstant=N;function F(e){return N(e)&&e.value===true}function M(e){return N(e)&&e.value===false}function k(e){return typeof e==="object"&&e._type==="PathInModel"}r.isPathInModelExpression=k;function L(e){return typeof e==="object"&&e._type==="ComplexType"}r.isComplexTypeExpression=L;function q(e){return typeof e==="object"&&e._type==="Concat"}function G(e){return e._type==="Comparison"}function B(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function U(e){return typeof e==="object"&&!B(e)}function D(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;var t=arguments.length>3?arguments[3]:undefined;return R(e,r,n,t)}r.annotationExpression=D;function R(e){var r;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var t=arguments.length>2?arguments[2]:undefined;var a=arguments.length>3?arguments[3]:undefined;if(e===undefined){return A(t)}e=(r=e)===null||r===void 0?void 0:r.valueOf();if(!U(e)){return S(e)}switch(e.type){case"Path":return I(e.path,undefined,n,a);case"If":return W(e.If,n,a);case"Not":return $(J(e.Not,n,a));case"Eq":return K(J(e.Eq[0],n,a),J(e.Eq[1],n,a));case"Ne":return Q(J(e.Ne[0],n,a),J(e.Ne[1],n,a));case"Gt":return Y(J(e.Gt[0],n,a),J(e.Gt[1],n,a));case"Ge":return X(J(e.Ge[0],n,a),J(e.Ge[1],n,a));case"Lt":return ee(J(e.Lt[0],n,a),J(e.Lt[1],n,a));case"Le":return Z(J(e.Le[0],n,a),J(e.Le[1],n,a));case"Or":return P.apply(void 0,c(e.Or.map(function(e){return J(e,n,a)})));case"And":return _.apply(void 0,c(e.And.map(function(e){return J(e,n,a)})));case"Apply":return V(e,n,a)}return m}r.getExpressionFromAnnotation=R;function J(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var t=arguments.length>2?arguments[2]:undefined;if(e===null||typeof e!=="object"){return S(e)}else if(e.hasOwnProperty("$Or")){return P.apply(void 0,c(e.$Or.map(function(e){return J(e,r,t)})))}else if(e.hasOwnProperty("$And")){return _.apply(void 0,c(e.$And.map(function(e){return J(e,r,t)})))}else if(e.hasOwnProperty("$Not")){return $(J(e.$Not,r,t))}else if(e.hasOwnProperty("$Eq")){return K(J(e.$Eq[0],r,t),J(e.$Eq[1],r,t))}else if(e.hasOwnProperty("$Ne")){return Q(J(e.$Ne[0],r,t),J(e.$Ne[1],r,t))}else if(e.hasOwnProperty("$Gt")){return Y(J(e.$Gt[0],r,t),J(e.$Gt[1],r,t))}else if(e.hasOwnProperty("$Ge")){return X(J(e.$Ge[0],r,t),J(e.$Ge[1],r,t))}else if(e.hasOwnProperty("$Lt")){return ee(J(e.$Lt[0],r,t),J(e.$Lt[1],r,t))}else if(e.hasOwnProperty("$Le")){return Z(J(e.$Le[0],r,t),J(e.$Le[1],r,t))}else if(e.hasOwnProperty("$Path")){return I(e.$Path,undefined,r,t)}else if(e.hasOwnProperty("$Apply")){return R({type:"Apply",Function:e.$Function,Apply:e.$Apply},r,undefined,t)}else if(e.hasOwnProperty("$If")){return R({type:"If",If:e.$If},r,undefined,t)}else if(e.hasOwnProperty("$EnumMember")){return S(n(e.$EnumMember))}return S(false)}function W(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;return re(J(e[0],r,n),J(e[1],r,n),J(e[2],r,n))}r.annotationIfExpression=W;function V(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;switch(e.Function){case"odata.concat":return ie.apply(void 0,c(e.Apply.map(function(e){var t=e;if(e.hasOwnProperty("$Path")){t={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){t={type:"If",If:e.$If}}else if(e.hasOwnProperty("$Apply")){t={type:"Apply",Function:e.$Function,Apply:e.$Apply}}return R(t,r,undefined,n)})))}return m}r.annotationApplyExpression=V;function z(e,r,n){var t=A(r);var a=A(n);if(g(t,a)){return m}if(N(t)&&N(a)){switch(e){case"!==":return S(t.value!==a.value);case"<":return S(t.value<a.value);case"<=":return S(t.value<=a.value);case">":return S(t.value>a.value);case">=":return S(t.value>=a.value);case"===":return S(t.value===a.value)}}else{return{_type:"Comparison",operator:e,operand1:t,operand2:a}}}function H(e){if(e._type==="Unresolvable"){return e}return{_type:"Length",pathInModel:e}}r.length=H;function K(e,r){var n;var t=A(e);var a=A(r);if(g(t,a)){return m}if(b(t,a)){return S(true)}function o(e,r){if(e._type==="Comparison"&&F(r)){return e}else if(e._type==="Comparison"&&M(r)){return $(e)}else if(e._type==="IfElse"&&b(e.onTrue,r)){return P(e.condition,K(e.onFalse,r))}else if(e._type==="IfElse"&&b(e.onFalse,r)){return P($(e.condition),K(e.onTrue,r))}else if(e._type==="IfElse"&&N(e.onTrue)&&N(e.onFalse)&&N(r)&&!b(e.onTrue,r)&&!b(e.onFalse,r)){return S(false)}return undefined}var u=(n=o(t,a))!==null&&n!==void 0?n:o(a,t);return u!==null&&u!==void 0?u:z("===",t,a)}r.equal=K;function Q(e,r){return $(K(e,r))}r.notEqual=Q;function X(e,r){return z(">=",e,r)}r.greaterOrEqual=X;function Y(e,r){return z(">",e,r)}r.greaterThan=Y;function Z(e,r){return z("<=",e,r)}r.lessOrEqual=Z;function ee(e,r){return z("<",e,r)}r.lessThan=ee;function re(e,r,n){var t=A(e);var a=A(r);var o=A(n);if(g(t,a,o)){return m}if(t._type==="Not"){var u=[o,a];a=u[0];o=u[1];t=$(t)}if(a._type==="IfElse"&&b(t,a.condition)){a=a.onTrue}if(o._type==="IfElse"&&b(t,o.condition)){o=o.onFalse}if(N(t)){return t.value?a:o}if(b(a,o)){return a}if(M(o)){return _(t,a)}if(F(o)){return P($(t),a)}if(M(a)){return _($(t),o)}if(F(a)){return P(t,o)}if(L(e)||L(r)||L(n)){var i=0;var s=te([e,r,n],"sap.fe.core.formatters.StandardFormatter#ifElse");var f=[];se(s,"PathInModel",function(e){f.push(e);return I("$".concat(i++),"$")},true);f.unshift(S(JSON.stringify(s)));return te(f,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:t,onTrue:a,onFalse:o}}r.ifElse=re;function ne(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(ne);case"PathInModel":return e.modelName===undefined;case"Comparison":return ne(e.operand1)||ne(e.operand2);case"IfElse":return ne(e.condition)||ne(e.onTrue)||ne(e.onFalse);case"Not":case"Truthy":return ne(e.operand);default:return false}}function te(e,r,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var o=e.map(A);if(g.apply(void 0,c(o))){return m}if(n){if(!o.some(ne)){n.keys.forEach(function(e){return o.push(I(e.name,""))})}}var u="";if(typeof r==="string"){u=r}else{u=r.__functionName}var i=u.split("#"),s=t(i,2),f=s[0],p=s[1];if(!a&&(o.some(L)||o.some(q))){var l=0;var d=te(o,u,undefined,true);var v=[];se(d,"PathInModel",function(e){v.push(e);return I("$".concat(l++),"$")});v.unshift(S(JSON.stringify(d)));return te(v,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}else if(!!p&&p.length>0){o.unshift(S(p))}return{_type:"Formatter",fn:f,parameters:o}}r.formatResult=te;function ae(e,r,n,t){var a,o,u,i,s,f;var p=e.map(A);if(g.apply(void 0,c(p))){return m}if(p.length===1&&N(p[0])&&!n){return p[0]}else if(n){if(!p.some(ne)){n.keys.forEach(function(e){return p.push(I(e.name,""))})}}if(!(t&&t.showNumber===false)&&(((a=e[0])===null||a===void 0?void 0:(o=a.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Int"))===0||((u=e[0])===null||u===void 0?void 0:(i=u.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Decimal"))===0||((s=e[0])===null||s===void 0?void 0:(f=s.type)===null||f===void 0?void 0:f.indexOf("sap.ui.model.odata.type.Double"))===0)){var l,d;if(((l=e[0])===null||l===void 0?void 0:l.type)==="sap.ui.model.odata.type.Int64"||((d=e[0])===null||d===void 0?void 0:d.type)==="sap.ui.model.odata.type.Decimal"){var v;t=((v=t)===null||v===void 0?void 0:v.showMeasure)===false?{emptyString:"",showMeasure:false}:{emptyString:""}}else{var y;t=((y=t)===null||y===void 0?void 0:y.showMeasure)===false?{parseAsString:false,emptyString:"",showMeasure:false}:{parseAsString:false,emptyString:""}}}if(r==="sap.ui.model.odata.type.Unit"){var h=I("/##@@requestUnitsOfMeasure");h.targetType="any";h.mode="OneTime";p.push(h)}else if(r==="sap.ui.model.odata.type.Currency"){var b=I("/##@@requestCurrencyCodes");b.targetType="any";b.mode="OneTime";p.push(b)}return{_type:"ComplexType",type:r,formatOptions:t||{},parameters:{},bindingParameters:p}}r.addTypeInformation=ae;function oe(e,r,n){var t=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:n!==undefined?A(n):undefined,fn:t,parameters:r.map(A)}}r.fn=oe;function ue(e){var r=[];se(e,"PathInModel",function(e){r.push(P(K(e,""),K(e,undefined),K(e,null)));return e});return _.apply(void 0,r)}r.isEmpty=ue;function ie(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=r.map(A);if(g.apply(void 0,c(t))){return m}if(t.every(N)){return S(t.reduce(function(e,r){if(r.value!==undefined){return e+r.value.toString()}return e},""))}else if(t.some(L)){var a=0;var o=te(t,"sap.fe.core.formatters.StandardFormatter#concat",undefined,true);var u=[];se(o,"PathInModel",function(e){u.push(e);return I("$".concat(a++),"$")});u.unshift(S(JSON.stringify(o)));return te(u,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:t}}r.concat=ie;function se(e,r,n){var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=e;switch(a._type){case"Function":case"Formatter":a.parameters=a.parameters.map(function(e){return se(e,r,n,t)});break;case"Concat":a.expressions=a.expressions.map(function(e){return se(e,r,n,t)});a=ie.apply(void 0,c(a.expressions));break;case"ComplexType":a.bindingParameters=a.bindingParameters.map(function(e){return se(e,r,n,t)});break;case"IfElse":var o=se(a.onTrue,r,n,t);var u=se(a.onFalse,r,n,t);var i=a.condition;if(t){i=se(a.condition,r,n,t)}a=re(i,o,u);break;case"Not":if(t){var s=se(a.operand,r,n,t);a=$(s)}break;case"Truthy":break;case"Set":if(t){var f=a.operands.map(function(e){return se(e,r,n,t)});a=a.operator==="||"?P.apply(void 0,c(f)):_.apply(void 0,c(f))}break;case"Comparison":if(t){var p=se(a.operand1,r,n,t);var l=se(a.operand2,r,n,t);a=z(a.operator,p,l)}break;case"Ref":case"Length":case"PathInModel":case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(r===a._type){a=n(e)}return a}r.transformRecursively=se;var fe=function(e){return!N(e)&&!k(e)&&C(e)&&e._type!=="IfElse"&&e._type!=="Function"};function ce(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r&&Object.keys(e.value).length===0){return""}var n=e.value;var t=[];Object.keys(n).forEach(function(e){var a=n[e];var o=ye(a,true,false,r);if(o&&o.length>0){t.push("".concat(e,": ").concat(o))}});return"{".concat(t.join(", "),"}")}function pe(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e.value===null){return t?null:"null"}if(e.value===undefined){return t?undefined:"undefined"}if(typeof e.value==="object"){if(Array.isArray(e.value)){var a=e.value.map(function(e){return ye(e,true)});return"[".concat(a.join(", "),"]")}else{return ce(e,n)}}if(r){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return"'".concat(h(e.value.toString()),"'");default:return""}}else{return t?e.value:e.value.toString()}}r.compileConstant=pe;function le(e,r,n){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){var t={path:Oe(e),type:e.type,targetType:e.targetType,parameters:e.parameters,formatOptions:e.formatOptions,constraints:e.constraints};var a=ye(t,false,false,true);if(r){return"".concat(n).concat(a)}return a}else if(r){return"".concat(n,"{").concat(Oe(e),"}")}else{return"{".concat(Oe(e),"}")}}function de(e){if(e.bindingParameters.length===1){return"{".concat(ge(e.bindingParameters[0],true),", type: '").concat(e.type,"'}")}var r="], type: '".concat(e.type,"'");if(be(e.formatOptions)){r+=", formatOptions: ".concat(ye(e.formatOptions))}if(be(e.parameters)){r+=", parameters: ".concat(ye(e.parameters))}r+="}";return"{mode:'TwoWay', parts:[".concat(e.bindingParameters.map(function(e){return ge(e)}).join(",")).concat(r)}function ve(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(r){if(n){return"(".concat(e,")")}else{return e}}else{return"{= ".concat(e,"}")}}function ye(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=A(e);var o=n?"$":"%";switch(a._type){case"Unresolvable":return undefined;case"Constant":return pe(a,r,t);case"Ref":return a.ref||"null";case"Function":var u="".concat(a.parameters.map(function(e){return ye(e,true)}).join(", "));return a.obj===undefined?"".concat(a.fn,"(").concat(u,")"):"".concat(ye(a.obj,true),".").concat(a.fn,"(").concat(u,")");case"EmbeddedExpressionBinding":return r?"(".concat(a.value.substr(2,a.value.length-3),")"):"".concat(a.value);case"EmbeddedBinding":return r?"".concat(o).concat(a.value):"".concat(a.value);case"PathInModel":return le(a,r,o);case"Comparison":var i=me(a);return ve(i,r);case"IfElse":var s="".concat(ye(a.condition,true)," ? ").concat(ye(a.onTrue,true)," : ").concat(ye(a.onFalse,true));return ve(s,r,true);case"Set":var f=a.operands.map(function(e){return ye(e,true)}).join(" ".concat(a.operator," "));return ve(f,r,true);case"Concat":var c=a.expressions.map(function(e){return ye(e,true,true)}).join(" + ");return ve(c,r);case"Length":var p="".concat(ye(a.pathInModel,true),".length");return ve(p,r);case"Not":var l="!".concat(ye(a.operand,true));return ve(l,r);case"Truthy":var d="!!".concat(ye(a.operand,true));return ve(d,r);case"Formatter":var v=he(a);return r?"$".concat(v):v;case"ComplexType":var y=de(a);return r?"$".concat(y):y;default:return""}}r.compileExpression=ye;function me(e){function r(e){var r;var n=(r=ye(e,true))!==null&&r!==void 0?r:"undefined";return ve(n,true,fe(e))}return"".concat(r(e.operand1)," ").concat(e.operator," ").concat(r(e.operand2))}function he(e){if(e.parameters.length===1){return"{".concat(ge(e.parameters[0],true),", formatter: '").concat(e.fn,"'}")}else{var r=e.parameters.map(function(e){if(e._type==="ComplexType"){return de(e)}else{return ge(e)}});return"{parts: [".concat(r.join(", "),"], formatter: '").concat(e.fn,"'}")}}function ge(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n="";if(e._type==="Constant"){if(e.value===undefined){n="value: 'undefined'"}else{n="value: ".concat(pe(e,true))}}else if(e._type==="PathInModel"){n="path: '".concat(Oe(e),"'");n+=e.type?", type: '".concat(e.type,"'"):", targetType: 'any'";if(be(e.mode)){n+=", mode: '".concat(ye(e.mode),"'")}if(be(e.constraints)){n+=", constraints: ".concat(ye(e.constraints))}if(be(e.formatOptions)){n+=", formatOptions: ".concat(ye(e.formatOptions))}if(be(e.parameters)){n+=", parameters: ".concat(ye(e.parameters))}}else{return""}return r?n:"{".concat(n,"}")}function be(e){return e&&Object.keys(e).length>0}function Oe(e){return"".concat(e.modelName?"".concat(e.modelName,">"):"").concat(e.path)}return r},false);
//# sourceMappingURL=BindingToolkit.js.map