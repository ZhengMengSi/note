{"version":3,"file":"AppLifeCycle.js","names":["sap","ui","define","ElementsModel","Storage","BlueBoxHandler","ShellUIService","Application","RelatedServices","RelatedShellElements","AppMeta","AppConfiguration","utils","Device","Config","ApplicationType","UriParameters","jQuery","Log","EventHub","oUrlParsing","AppLifeCycle","oViewPortContainer","aCachedAppTypes","sRootIntent","oShellUIService","appState","oIntentToStorageId","disableHomeAppCache","oCurrentApplication","oActualElementsModelStateMap","home","embedded","headerless","merged","blank","app","minimal","standalone","lean","oWebGuiV1StatefulCache","oGlobalShellCommunicationHandlers","oGlobalIframeCommunicationHandlers","isBackNavigationChanged","oKeepAliveModes","FULL","RESTRICTED","this","shellElements","service","isCurrentApp","appId","isAppWithSimilarShellHashInCache","sFixedShellHash","oAppEntry","get","shellHash","isAppInCache","normalizeAppId","sAppId","sCmp","isCmp","endsWith","substring","length","onComponentCreated","oEvent","sChannel","oData","oApp","component","getId","active","onGetMe","store","oStorageEntry","meta","stateStored","destroy","oFrom","oDeferred","oInnerControl","oPromiseAppDestroy","doDestroy","getUrl","deleteStateFul","removeControl","getStateFul","isStatefulContainerSupported","oHandler","getHandler","container","Promise","resolve","remove","then","oPromise","sendBeforeAppCloseEvent","undefined","sError","error","restore","handleExitStateful","sFromId","isHomePage","sBBStorageId","oHandlers","getStorageKey","isBackNavigation","getCore","getEventBus","publish","handleExitApplication","sToId","oTo","that","bIsAppOfTypeCachable","oPromiseAppClose","oDeferredAppClose","getIframeReusedForApp","setProperty","postMessageToIframeApp","Deferred","promise","getIsStateful","postMessageRequest","indexOf","getApplicationType","isAppOfTypeCached","closeKeepAliveApps","fnCloseKeepAliveIfRestricted","value","keepAliveMode","fnFilterApps","arrClosePromises","arrKeepAliveRestrictedApps","forEach","apply","push","oRestrictedApp","e","onBeforeNavigate","onAfterNavigate","bIsShellApps","setActiveAppContainer","storeApp","oContainer","oTarget","oKeepAliveMode","set","stt","appRelatedElements","getAppRelatedElement","getMetadata","globalValue","paramValue","appTarget","ui5ComponentName","enableRouterRetrigger","setStorageKey","restoreApp","sKeepAlive","window","location","href","isCachedEnabledAsAppParameter","oShellHash","params","url","calculateAppType","applicationType","additionalInformation","startsWith","getStatefulCapabilities","appCapabilities","statefulContainer","isNotifyInnerAppRouteChangeEnabled","notifyInnerAppRouteChange","isStatefulCapabilityEnabled","oStatefulCap","enabled","isGUICapabilityEnabled","protocol","isFLPCapabilityEnabled","isGUIStatefulCapabilityEnabled","openApp","inAppId","sIntent","oTmpAppContainer","sTmpUrl","semanticObject","action","getById","getControl","removeCapabilities","createApplicationContainer","appFrameworkId","getWebGuiV1StatefulContainer","removeApplication","isCapUT","setCapabilities","getAppMeta","evict","oEntry","key","addEvents","hasBeenCalled","on","do","intent","disable","setApplicationFullWidth","bValue","init","inAppState","oInViewPortContainer","inSRootIntent","inDisableHomeAppCache","oShellUIServiceChange","aActions","oCacheConfigurations","nCacheSize","system","phone","limit","tablet","desktop","scopeObject","ownerComponent","scopeType","evictObj","bind","registerShellCommunicationHandler","oRequestCalls","create","isActiveOnly","distributionType","fnResponseHandler","oPromoise","oRespData","info","catch","oError","oServiceCalls","subscribe","executeServiceCallFn","oServiceParams","mapCapabilities","oMessageData","body","setup","oSetup","arrCap","sAppType","sFrameworkId","getFrameworkId","bIgnoreStateful","getIsKeepAlive","isStateful","isIframeValid","isIframeBusy","session","bLogoutSupport","loadFinished","setWebGuiV1StatefulContainer","setIsStateful","getElementsModel","addControl","oControl","addCenterViewPort","sId","oBlueBox","bIsStateful","removeCenterViewPort","getViewPortControl","getViewPortContainer","navTo","getCurrentApplication","bIsFull","oCurrent","toggleStyleClass","createComponent","oResolvedHashFragment","oParsedShellHash","fnCloseKeepAliveIfSameUI5App","setDangling","all","done","fail","reject","getAppContainer","oResolvedNavigationTarget","bIsColdStart","shellUIService","getInterface","targetNavigationMode","UI5APP","setIframeHandlers","getShellUIService","initShellUIService","_attachHierarchyChanged","onHierarchyChange","_attachTitleChanged","onTitleChange","_attachRelatedAppsChanged","onRelatedAppsChange","_attachBackNavigationChanged","fnOnBackNavigationChange","activeContainer","oApplicationContainer","aAllApplicationContainers","getWebGuiV1AllApplicationContainers","oApplicationContainerToDeactivate","setActive","oAppContainer","showApplicationContainer","hasStyleClass","reuseStateFulContainerAndRestore","sStorageId","vError","message","reuseStateFulContainer","initAppMetaParams","getIsHierarchyChanged","setHierarchy","getIsTitleChanged","setTitle","getIsRelatedAppsChanged","setRelatedApps","setBackNavigation","reuseApplicationContainer","setNewApplicationContext","publishNavigationStateEvents","oApplication","fnOnAfterRendering","origExit","appMetaData","sIcon","icon","sTitle","title","addEventDelegate","onAfterRendering","exit","arguments","_applyContentDensityByPriority","setTimeout","oEventData","extend","componentHandle","usageIcon","usageTitle","oPublicEventData","_publicEventDataFromResolutionResult","ushell","renderers","fiori2","publishExternalEvent","sProp","Object","freeze","getInMemoryInstance","sAppPart","sOldShellHash","sFullAppId","sOldShellHashLowerCase","bNavigateToHomepage","bNavigatingFromHomeWithAppState","toLowerCase","isInstanceSupported","handleOpenStateful","bIsInitial","bIsInCache","handleControl","fnWrapper","sOldFixedShellHash","bReuseGuiV1StatefulContainer","bReuseStatefulContainer","oCachedEntry","bDefaultFullWidth","bKeptAliveApp","oDeferredDestroyApp","oDeferredOpenApp","oDeffedControlCreation","oMetadata","oCurrentAppContainer","oOldAppStorageEntry","oTargetAppContainer","iLastValidTimeDelta","oOldHash","sOldFullAppId","sCurrentPageId","Date","getTime","getIsIframeValidTime","time","isIframeBusySupported","getIsIframeBusy","isIframeIsValidSupported","warning","parseShellHash","getCurrentCenterPage","byId","getDefaultFullWidthSetting","bFullWidthCapability","bFullWidth","fullWidth","getDeffedControlCreation","switchState","setPerformanceMark","switchViewState","sState","bSaveLastState","sActualState","bIsCurrentStateHome","last","destroyManageQueue","assignNew","processDangling","hasher","getHash","searchModel","getModel","setHash","getProperty","JSON","stringify","getJson","oCommunicationHandler","registerIframeCommunicationHandler","sHandlers","sType","sServiceName","sInterface","oMessageBody","bWaitForResponse","checkIfPostIsNeeded","oCurrContainer","fnCallBackHandler","getActiveAppContainer","bActiveContainerPostSent","aContainers","hasIFrame","isCapabilitySupported","isAppTypeSupported","OBBContainer","getResponseHandler","oAllProm","postMessageToIframeAppAccordingToPolicy","oPolicy","isAppTypeSupportedByPolicy","setBackNavigationChanged","isBackNavigationChangedValue","getBackNavigationChanged","parseStatefulContainerConfiguration","sUrl","sKey","_getBlueBoxCacheKey","keys","map","filter"],"sources":["AppLifeCycle-dbg.js"],"mappings":"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"}