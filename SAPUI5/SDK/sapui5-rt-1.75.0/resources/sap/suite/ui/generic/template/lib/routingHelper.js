sap.ui.define(["sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/generic/app/util/ModelUtil","sap/suite/ui/generic/template/lib/CRUDHelper","sap/suite/ui/generic/template/lib/FlexibleColumnLayoutHandler","sap/suite/ui/generic/template/lib/testableHelper","sap/suite/ui/generic/template/js/StableIdHelper","sap/m/MessageBox","sap/base/Log","sap/ui/model/analytics/odata4analytics","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/each"],function(F,a,M,C,b,t,S,c,L,o,e,d,f){"use strict";var p="---";function g(i,j,X,Y,Z){var $={};$={viewName:X,controlId:j,controlAggregation:Z};var _=i.getTargets();_.addTarget(Y,$);}function h(i,j){if(i.oTemplateContract.oFlexibleColumnLayoutHandler){i.oTemplateContract.oFlexibleColumnLayoutHandler.createMessagePageTargets(g.bind(null,i.oRouter,j,"sap.suite.ui.generic.template.fragments.MessagePage"));}else{g(i.oRouter,j,"sap.suite.ui.generic.template.fragments.MessagePage","messagePage","pages");}}function E(i,j,X){var Y=i[j];if(!Y){Y={draftSpec:"OData",level:0,children:[]};for(var Z in i){var $=i[Z];if($.level===1){Y.children.push(Z);break;}}i[j]=Y;}if(Y.hasOwnProperty("isDraft")){return;}if(Y.draftSpec==="parent"){if(Y.parent){E(i,Y.parent,X);var _=i[Y.parent];Y.isDraft=_.isDraft;}else if(Y.level===1){for(var a1 in i){var b1=i[a1];if(b1.level===0){Y.isDraft=b1.isDraft;return;}}}return;}if(Y.draftSpec==="OData"){var c1=X.getDraftContext();Y.isDraft=c1.isDraftEnabled(j);return;}Y.isDraft=Y.draftSpec;}function k(i,j){var X=i.oAppComponent.getModel();var Y=X.getMetaModel();Y.loaded().then(function(){var Z=i.oTemplateContract.mEntityTree;var $=i.oAppComponent.getTransactionController().getDraftController();E(Z,j.entitySet,$);for(var _ in Z){E(Z,_,$);}});}function l(i){var j=i.oTemplateContract.oNavigationHost.getId();var X=i.oAppComponent.getConfig();if(!X.pages||!X.pages.length){throw new Error("Route Configuration missing");}if(X.pages.length>1){throw new Error("Currently only one Top route supported");}var Y=X.pages[0];i.oTemplateContract.mEntityTree=Object.create(null);i.oTemplateContract.mRoutingTree=Object.create(null);var Z={sRouteName:"root",page:Y,pattern:"",contextPath:"",getPath:function(){return"";},level:0,fCLLevel:0,children:[],headerTitle:i.oAppComponent.getManifestEntry("sap.app").title,text:""};var $=w([],Y,"root",Z,null,i,j);i.oRouter.addRoute($);i.oTemplateContract.mRoutingTree.root=Z;s($,i);m("root",Y,0,Z,i,j,Z.children);h(i,j);k(i,$);return Y.entitySet;}function m(j,X,Y,Z,$,_,a1,b1,c1){var i,d1;if(X.pages){d1=X.pages.length;for(i=0;i<d1;i++){r(j,X.pages[i],Y+1,Z,$,_,a1,b1,c1||0);}}}function H(i,j,X,Y,Z,$,_,a1,b1){var c1=Y.target;var d1={pages:j.pages};var e1={entitySet:Y.entitySet,sRouteName:Y.sRouteName,embeddedComponent:i,getPath:function(f1){if(f1===1){return Y.getPath(1)+"/"+i;}return Y.getPath(f1);},patternDelimiter:p};m(c1,d1,X,e1,Z,$,_,a1,b1);}function n(i,j,X,Y,Z,$,_,a1,b1,c1){var d1={};var e1={key:$,definition:_,componentName:_.componentName,componentUsage:_.componentUsage,hiddenByDefault:_.hiddenByDefault,containerId:a1,sectionId:b1,subSectionId:c1,pages:_.pages||[],children:[],communicationObject:d1};i.embeddedComponents[$]=e1;if(_.pages){H($,_,j,i,X,Y,e1.children,d1,Z);}}function q(j,X,Y,Z,$,_){j.embeddedComponents=Object.create(null);j.leadingComponents=Object.create(null);j.facetsWithEmbeddedComponents=Object.create(null);if(X.implementingComponent){n(j,Y,Z,$,_,"implementation",X.implementingComponent,"template::ImplementingComponent");}else if(X.embeddedComponents){var a1=Object.create(null);var b1=Object.create(null);var c1;var d1;var e1;for(c1 in X.embeddedComponents){d1=X.embeddedComponents[c1];if(!d1.leadingSectionIdOrPath||d1.leadingSectionIdOrPath===c1){a1[c1]=[c1];}else if(X.embeddedComponents[d1.leadingSectionIdOrPath]){b1[c1]=d1.leadingSectionIdOrPath;}else{e1=j.facetsWithEmbeddedComponents[d1.leadingSectionIdOrPath];if(e1){e1.push(c1);}else{j.facetsWithEmbeddedComponents[d1.leadingSectionIdOrPath]=[c1];}}}var f1=[];for(c1 in b1){var g1=b1[c1];e1=a1[g1];if(e1){e1.push(c1);}else{f1.push(c1);delete b1[c1];}}for(var i=0;i<f1.length;i++){a1[f1[i]]=[f1[i]];}for(c1 in X.embeddedComponents){d1=X.embeddedComponents[c1];var h1=a1[c1]&&S.getStableId({type:"ObjectPageSection",subType:"ReuseComponentSection",sReuseComponentName:d1.componentName,sReuseComponentUsage:d1.componentUsage,sReuseComponentId:c1});var i1=S.getStableId({type:"ObjectPageSection",subType:"ReuseComponentSubSection",sReuseComponentName:d1.componentName,sReuseComponentUsage:d1.componentUsage,sReuseComponentId:c1});var j1=S.getStableId({type:"ObjectPageSection",subType:"ReuseComponentContainer",sReuseComponentName:d1.componentName,sReuseComponentUsage:d1.componentUsage,sReuseComponentId:c1});n(j,Y,Z,$,_,c1,d1,j1,h1,i1);}Object.keys(a1).forEach(function(g1){var k1=j.embeddedComponents[g1];j.leadingComponents[g1]={sectionId:k1.sectionId,title:k1.definition.groupTitle||k1.definition.title,followingComponents:a1[g1].map(function(l1){var m1=j.embeddedComponents[l1];m1.sectionId=k1.sectionId;return m1;})};});}}function r(i,j,X,Y,Z,$,_,a1,b1){if(j.component){var c1=Z.oTemplateContract.oFlexibleColumnLayoutHandler?Z.oTemplateContract.oFlexibleColumnLayoutHandler.getMaxColumnCountInFCL():1;var d1=(c1===1)||(j.defaultLayoutType==="OneColumn")?0:b1+1;var e1={parent:Y&&Y.entitySet,parentRoute:Y?Y.sRouteName:"root",parentEmbeddedComponent:Y&&Y.embeddedComponent,entitySet:j.entitySet,navigationProperty:j.navigationProperty,level:X,fCLLevel:d1>=c1?3:d1,children:[],communicationObject:a1,page:j,defaultLayoutType:j.defaultLayoutType,noKey:j.routingSpec&&j.routingSpec.noKey,noOData:j.routingSpec&&j.routingSpec.noOData,draftSpec:j.routingSpec?j.routingSpec.draftSpec||"parent":"OData",text:""};v(e1,Y,Z.oTemplateContract.bCreateRequestsCanonical);var f1=w(i,j,j.component.list?"aggregation":"detail",e1,Y,Z,$);e1.sRouteName=f1.name;if(_){_.push(f1.entitySet);}Z.oTemplateContract.mRoutingTree[f1.name]=e1;var g1=Z.oTemplateContract.mEntityTree[f1.entitySet];if(!g1||g1.level>e1.level){Z.oTemplateContract.mEntityTree[f1.entitySet]=e1;}Z.oRouter.addRoute(f1);s(f1,Z);u(Z,e1,j);m(f1.target,j,X,e1,Z,$,e1.children,a1,d1);q(e1,j,X,Z,$,d1);}}function s(i,j){var X=e({},i);X.name=i.name+"query";X.pattern=i.pattern+"{?query}";j.oRouter.addRoute(X);}function u(i,j,X){if(j.noOData){j.headerTitle=X.routingSpec.headerTitle;j.titleIconUrl=X.routingSpec.titleIconUrl;}else{var Y=i.oAppComponent.getModel();var Z=Y.getMetaModel();Z.loaded().then(function(){var $=Z.getODataEntitySet(j.entitySet);var _=Z.getODataEntityType($.entityType);var a1=_["com.sap.vocabularies.UI.v1.HeaderInfo"];var b1=(a1&&a1.TypeName&&a1.TypeName.String)||"";if(b1.substr(0,7)==="{@i18n>"){var c1=b1.substring(1,b1.length-1);var d1=c1.split(">");b1=i.oAppComponent.getModel(d1[0]).getResourceBundle().getText(d1[1]);}j.headerTitle=b1;var e1=(a1&&a1.Title&&a1.Title.IconUrl&&a1.Title.IconUrl.String)||"";j.titleIconUrl=e1;});}}function v(j,X,Y){var Z=(j.level===1)?j.page.entitySet:j.page.navigationProperty;var $=j.noKey?"":"({keys"+j.level+"})";var _=Z+$;var a1=X&&X.getPath(1);if(a1){_=a1+(X.patternDelimiter||"/")+_;}var b1;var c1;if(j.noOData){var d1=j.page.routingSpec.binding?("/"+j.page.routingSpec.binding):"";b1=X.getPath(3)+d1;c1=X.getPath(2)+d1;}else{b1="/"+j.entitySet+$;c1=Y?b1:"/"+_;}j.getPath=function(e1,f1){var g1;switch(e1){case 1:g1=_;break;case 2:g1=c1;break;case 3:g1=b1;}if(f1){for(var i=1;i<=j.level;i++){g1=g1.replace("{keys"+i+"}",f1[i]);}}return g1;};}function w(i,j,X,Y,Z,$,_){var a1=Y.level;var b1=Array.isArray(i)?i:[i];var c1,d1;c1=(a1===1)?j.entitySet:j.navigationProperty;d1=e({},j);d1.path="/"+j.entitySet;d1.operation=X;d1.viewLevel=a1;d1.template=j.component?(j.component.name||j.component):j.template;switch(X){case"root":d1.name="root";break;case"aggregation":d1.name=c1+"~aggregation";break;default:d1.name=c1;break;}if(a1>1){d1.name=Z.sRouteName+"/"+(Z.embeddedComponent?Z.embeddedComponent+"/":"")+d1.name;}var e1;var f1=d1.name;if($.oTemplateContract.oFlexibleColumnLayoutHandler){e1=$.oTemplateContract.oFlexibleColumnLayoutHandler.adaptRoutingInfo(d1,f1,b1,Y);}else{e1="pages";d1.target=f1;}g($.oRouter,_,d1.name,f1,e1);var g1=new Promise(function(h1){$.mRouteToComponentResolve[d1.name]=h1;});$.oTemplateContract.mRouteToTemplateComponentPromise[d1.name]=g1;d1.pattern=Y.getPath(1);return d1;}function I(i,j){var X;if(!i.oHashChanger.getHash()){X="";if(j&&j.route&&j.route.length===1){X=j.route[0];i.navigate(X,true);}}i.oRouter.initialize();i.fnInitializationResolve();}function B(j,X,Y,Z){var i,$,_,a1,b1=[],c1;$=Y.length;for(i=0;i<$;i++){_=Y[i].PropertyPath;a1=Z[_][0];b1.push(new F(_,a.EQ,a1));}if(j.oAppComponent.getTransactionController().getDraftController().getDraftContext().isDraftEnabled(X)){var d1=new F({filters:[new F("IsActiveEntity","EQ",false),new F("SiblingEntity/IsActiveEntity","EQ",null)],and:false});b1.push(d1);}c1=new F(b1,true);return c1;}function R(j,X,Y){var Z="/"+X;try{var $=new o.Model(o.Model.ReferenceByModel(j));var _=$.findQueryResultByName(X);var a1=new o.QueryResultRequest(_);var b1=_&&_.getParameterization();var c1=false;if(b1){a1.setParameterizationRequest(new o.ParameterizationRequest(b1));var d1=b1.getAllParameterNames();f(d1,function(){if(Y.hasOwnProperty(this)){c1=true;a1.getParameterizationRequest().setParameterValue(this,Y[this][0]);}});for(var i=0;i<d1.length;i++){if(d1[i].startsWith("P_")){var e1=d1[i].substr(2);if(Y.hasOwnProperty(e1)){c1=true;a1.getParameterizationRequest().setParameterValue(d1[i],Y[e1][0]);}}}if(c1){Z=a1.getURIToQueryResultEntitySet();}}}catch(f1){L.info(f1.name+":"+f1.message);}return Z;}function x(i,j,X,Y,Z){return new Promise(function($,_){var a1=R(X,i,Y);X.read(a1,{filters:[j],success:function(b1){var c1=z(b1,X,Y);if(c1){var d1=X.getKey(c1);if(d1){$({"status":"success","value":d1,"iLevel":Z});}}$({"status":"noData"});},error:function(){$({"status":"error"});}});});}function y(j,X,Y,Z,$,_,a1){var b1=[],c1,d1,e1;var f1=new Promise(function(g1){g1({"status":"success","value":a1,"iLevel":0});});if(Y&&Z&&$){if(_.aNavigablePages){for(var i=0;i<_.aNavigablePages.length;i++){if(_.aNavigablePages&&_.aNavigablePages[i]&&_.aNavigablePages[i].bNavigationWithTechnicalKeyPossible){b1.push(f1);continue;}c1=_.aNavigablePages[i];d1=B(j,c1.sEntitySet,c1.aSemanticKey,Z);e1=x(c1.sEntitySet,d1,$,Z,c1.iLevel);b1.push(e1);}}return Promise.all(b1).then(function(g1){if(g1[0]&&g1[0].status&&g1[0].status==="success"){var i,h1="",i1;for(i=0;i<g1.length;i++){if(g1[i]&&g1[i].status&&g1[i].status==="success"){i1=g1[i].value;if(i>0){i1=i1.replace(_.aNavigablePages[i].sEntitySet,_.aNavigablePages[i].sNavigationProperty);i1='/'+i1;}h1=h1.concat(i1);continue;}else{break;}}j.navigate(h1,true);}I(j,Z);});}}function z(X,Y,Z){var $,i,_,a1;if(X&&X.results){_=X.results.length;if(_===0){a1=null;}else if(_===1){a1=X.results[0];}else if(_>=1){var b1=[];var c1=[];for(i=0;i<_;i++){$=X.results[i];if($&&$.IsActiveEntity){c1.push($);}else if($&&$.IsActiveEntity===false){b1.push($);}}if(c1.length===0&&b1.length>=2){var d1;for(var j=0;j<b1.length;j++){d1=b1[j];if(d1.DraftUUID===(Z.DraftUUID&&Z.DraftUUID[0])){a1=d1;break;}}if(!a1){a1=b1[0];}}else if(c1.length===1&&b1.length>=1){a1=c1[0];}}}return a1;}function A(i,j){if((i&&j)||(j==="display")){return{mode:"unsupported"};}var X={mode:"display",force:"false"};X.mode=j||i||X.mode;X.force=!!j;return X;}function D(j,X,Y,Z,$){var _=e({},Z);Q(j.getMetaModel(),Y,_);var a1=K(j,X,Y,_,$);if(a1.aNavigablePages&&a1.aNavigablePages[0]&&a1.aNavigablePages[0].aSemanticKey&&a1.aNavigablePages[0].iLevel===0){y(X,Y,a1.aNavigablePages[0].aSemanticKey,_,j,a1);return;}else if(a1.aNavigablePages&&a1.aNavigablePages[0]&&a1.aNavigablePages[0].bNavigationWithTechnicalKeyPossible){if(Z.IsActiveEntity&&Z.IsActiveEntity[0]==="false"&&Z.DraftUUID&&Z.DraftUUID[0]!==""){var b1=[];for(var i=0;i<a1.aNavigablePages[0].aTechnicalKey.length;i++){var c1=a1.aNavigablePages[0].aTechnicalKey[i]&&a1.aNavigablePages[0].aTechnicalKey[i].name;if(c1==="DraftUUID"||c1==="IsActiveEntity"){continue;}if(_.hasOwnProperty(c1)){b1.push({PropertyPath:c1});}}var d1=j.createKey(Y,_);y(X,Y,b1,_,j,a1,d1);return;}var d1=j.createKey(Y,_);if(d1){if(a1){var b1=[];for(var i=0;i<a1.aNavigablePages[0].aTechnicalKey.length;i++){var c1=a1.aNavigablePages[0].aTechnicalKey[i]&&a1.aNavigablePages[0].aTechnicalKey[i].name;if(c1==="DraftUUID"||c1==="IsActiveEntity"){continue;}if(_.hasOwnProperty(c1)){b1.push({PropertyPath:c1});}}y(X,Y,b1,_,j,a1,d1);return;}X.navigate(d1,true);}}I(X,Z);}function G(j,X){var i,Y,Z=false,$,_;if(X&&j){Y=j.length;for(i=0;i<Y;i++){Z=true;$=j[i];_=$.name||$.PropertyPath;if(!X[_]||X[_].length>1){Z=false;break;}}}return Z;}function J(j,X,Y,Z,$,_){var a1,b1,c1,d1,e1,f1,g1;for(var i=0;i<Z.length;i++){f1=Z[i];if(f1&&f1.navigation&&f1.navigation[Y.mode]){continue;}b1=j.getMetaModel().getODataEntitySet(f1.entitySet);c1=f1.component&&f1.component.settings&&f1.component.settings.allowDeepLinking;if(!b1||!($===0||c1)){continue;}d1=j.getMetaModel().getODataEntityType(b1.entityType);e1=d1["com.sap.vocabularies.Common.v1.SemanticKey"];a1={};g1={};if(e1&&G(e1,X)){a1["sEntitySet"]=f1.entitySet;a1["aSemanticKey"]=e1;a1["sNavigationProperty"]=f1.navigationProperty;a1["iLevel"]=$;_.push(a1);}else{if(d1.key.propertyRef&&($===0)&&G(d1.key.propertyRef,X)){g1.bNavigationWithTechnicalKeyPossible=G(d1.key.propertyRef,X);g1.aTechnicalKey=d1.key.propertyRef;_.push(g1);}}if(f1.pages){J(j,X,Y,f1.pages,++$,_);}else{break;}}return _;}function K(i,j,X,Y,Z){var $={},_=[],a1=[];var b1=j.oAppComponent.getConfig();_=b1.pages&&b1.pages[0]&&b1.pages[0].pages;if(!_){return{};}a1=J(i,Y,Z,_,0,a1);$.aNavigablePages=a1;return $;}function P(i){var j=i.oAppComponent.getModel("_templPrivGlobal");j.setProperty("/generic/forceFullscreenCreate",true);}function T(X,Y,Z){var $,_,a1,b1,c1,d1,i,e1,j,f1,g1;if(d(Z)){return;}$=X&&X.getMetaModel();_=$&&$.getODataEntitySet(Y);a1=_&&_.entityType;b1=$&&$.getODataEntityType(a1);c1=b1&&b1.property;d1=[];g1=c1&&c1.length;for(i=0;i<g1;i++){e1=c1[i];if(e1["type"]==="Edm.Guid"){d1.push(e1["name"]);}}for(j=0;j<d1.length;j++){if(!Z[d1[j]]){continue;}f1=Z[d1[j]][0];f1=f1.toLowerCase().replace(/(guid')([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})(')/,"$2");if(!f1.match(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/)){f1=f1.replace(/([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})/,"$1-$2-$3-$4-$5");}Z[d1[j]][0]=f1;}}function N(i){var j=i.oAppComponent.getInboundParameters();return j?Object.keys(j).filter(function(X){return j[X].useForCreate;}):[];}function O(j,X){var Y;var Z=N(j);for(var i=0;i<Z.length;i++){var $=Z[i];var _=X[$];if(_&&_.length===1){Y=Y||Object.create(null);Y[$]=_[0];}}return Y;}function Q(i,j,X){var Y=i.getODataEntityType(i.getODataEntitySet(j).entityType);Y.property.forEach(function(Z){if(Z["com.sap.vocabularies.Common.v1.EditableFieldFor"]){var $=Z["com.sap.vocabularies.Common.v1.EditableFieldFor"].String;var _=Z.name;if(X[$]&&!X[_]){X[_]=X[$];}if(X[_]&&!X[$]){X[$]=X[_];}}});}function U(j,X,Y){var Z=j.oAppComponent.getConfig();var $;$=j.oAppComponent.getModel();$.attachMetadataFailed(j.fnInitializationResolve);$.getMetaModel().loaded().then(function(){var _;T($,X,Y);var a1=Y.preferredMode&&Y.preferredMode[0];var b1=Y.mode&&Y.mode[0];var c1=A(a1,b1);switch(c1.mode){case"create":P(j);var d1=(Z.pages[0]&&Z.pages[0].component&&Z.pages[0].component.settings&&Z.pages[0].component.settings.creationEntitySet);X=d1||X;var e1=O(j,Y);var f1=C.create(j.oAppComponent.getTransactionController().getDraftController(),X,"/"+X,$,j.oTemplateContract.oApplicationProxy,e1);f1.then(function(i){j.navigateToContext(i,"",true,4).then(I.bind(null,j,Y));},function(i){I(j,Y);j.navigateToMessagePage({title:j.oTemplateContract.getText("ST_GENERIC_ERROR_TITLE"),text:i.messageText,description:"",icon:"sap-icon://message-error"});});j.oTemplateContract.oBusyHelper.setBusy(f1,true);break;case"createWithContext":P(j);var g1=new Promise(function(l1,m1){var n1=function(t1){m1();I(j,Y);j.navigateToMessagePage({title:j.oTemplateContract.getText("ST_ERROR"),text:(t1&&t1.messageText)||j.oTemplateContract.getText("ST_GENERIC_UNKNOWN_NAVIGATION_TARGET"),icon:"sap-icon://message-error",description:""});};_=$.getMetaModel().getODataEntitySet(X);var o1=_["com.sap.vocabularies.Common.v1.DraftRoot"];if(o1&&o1.NewAction){var p1=$.getMetaModel().getODataFunctionImport(o1.NewAction.String.split("/")[1]);var q1={};if(p1){var r1=p1.parameter?p1.parameter.length:0;for(var i=0;i<r1;i++){var s1=p1.parameter[i];if(s1.mode==="In"&&Y[s1.name]&&Y[s1.name][0]){q1[s1.name]=Y[s1.name][0];}}$.callFunction("/"+p1.name,{success:function(t1,u1){var v1=new M($);var w1=v1.getContextFromResponse(t1);if(w1){l1();j.navigateToContext(w1,null,true,4).then(I.bind(null,j,Y));}else{n1();}},error:n1,method:"POST",urlParameters:q1});}else{n1();}}else{n1();}});j.oTemplateContract.oBusyHelper.setBusy(g1,true);break;case"edit":var h1=e({},Y);Q($.getMetaModel(),X,h1);var i1=K($,j,X,h1,c1);if(i1.aNavigablePages&&i1.aNavigablePages[0]&&(i1.aNavigablePages[0].bNavigationWithTechnicalKeyPossible||(i1.aNavigablePages[0].aSemanticKey&&i1.aNavigablePages[0].iLevel===0))){var j1="";var k1;if(i1.aNavigablePages[0].bNavigationWithTechnicalKeyPossible){j1=$.createKey(X,h1);k1=C.edit(j.oAppComponent.getTransactionController(),X,"/"+j1,$,j.oTemplateContract,j.fnInitializationResolve);}else if(i1.aNavigablePages&&i1.aNavigablePages[0]&&i1.aNavigablePages[0].aSemanticKey&&i1.aNavigablePages[0].iLevel===0){j1="";k1=C.edit(j.oAppComponent.getTransactionController(),X,j1,$,j.oTemplateContract,j.fnInitializationResolve,i1.aNavigablePages[0].aSemanticKey,h1);}k1.then(function(i){j.navigate(i.context.getPath(),true);I(j);},function(i){if(i.lockedByUser){if(!c1.force){D($,j,X,Y,c1);}else{j.fnInitializationResolve();j.navigateToMessagePage({title:j.oTemplateContract.getText("LOCKED_OBJECT_POPOVER_TITLE"),text:j.oTemplateContract.getText("LOCKED_OBJECT_POPOVER_TITLE"),description:j.oTemplateContract.getText("ST_GENERIC_LOCKED_OBJECT_POPOVER_TEXT",[i.lockedByUser]),icon:"sap-icon://message-error",replaceURL:true});}}else if(i.draftAdminReadResponse){I(j,Y);}else{var l1=j.oTemplateContract.getText("ST_GENERIC_ERROR_NOT_AUTORIZED_EDIT");c.warning(l1,{onClose:function(m1){D($,j,X,Y,{mode:"display",force:false});}});}});}else{I(j,Y);}break;case"display":D($,j,X,Y,c1);break;default:j.fnInitializationResolve();j.navigateToMessagePage({title:j.oTemplateContract.getText("ST_GENERIC_ERROR_TITLE"),text:j.oTemplateContract.getText("ST_GENERIC_ERROR_TITLE"),description:j.oTemplateContract.getText("PARAMETER_COMBINATION_NOT_SUPPORTED",[b1,a1]),icon:"sap-icon://message-error",replaceURL:true});}});}function V(i){var j=i.oAppComponent.getFlexibleColumnLayout();if(j){i.oTemplateContract.oFlexibleColumnLayoutHandler=new b(i.oTemplateContract.oNavigationHost,i);}var X=l(i);var Y=i.oAppComponent.getComponentData();var Z=Y&&Y.startupParameters;if(X&&Z&&!i.oHashChanger.getHash()){U(i,X,Z);}else{I(i);}}function W(i,j){var X,Y,Z;X=i.getPath().substring(1);Y=X.split("(");Z=Y[0];var $=Y[1].substring(0,Y[1].length-1);if(j){X=X.replace(Z,j);if(X.indexOf("/")===0){X=X.substring(1);}}return{entitySet:Z,path:X,key:$};}var l=t.testableStatic(l,"routingHelpergenerateRoutingMetadataAndGetRootEntitySet");var I=t.testableStatic(I,"routingHelper_initialiseRouting");var y=t.testableStatic(y,"routingHelper_readObject");var U=t.testableStatic(U,"routingHelper_processStartupParameters");var T=t.testableStatic(T,"routingHelper_transformStartupGuidParameters");return{startupRouter:V,determineNavigationPath:W,readObjectProcessResults:z};});
