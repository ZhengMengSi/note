/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/fe/macros/ValueListHelper","sap/fe/macros/field/FieldHelper","sap/m/MessageToast","sap/base/Log","sap/fe/macros/CommonHelper"],function(V,F,M,L,C){"use strict";var w=V.getWaitForPromise();var a={launchValueHelpFromActionParameterDialog:function(p,f,s){var m=f.getModel(),o=m.getMetaModel(),W=f.getContent&&f.getContent(),b=W.getId(),t=W&&W.getTable&&W.getTable(),c=f&&f.getFilterBar&&f.getFilterBar(),e=t&&c,d;if(t){d=s?"416px":"Auto";t.setContextualWidth(d);}if(w[b]||e){return;}else{if(!t){w[b]=true;}V.getValueListInfo(f,o,p).then(function(v){var P,g,h=v.valueListInfo;P=h.$model.getMetaModel().getObject(v.fieldPropertyPath+"@");g=h.$model.getMetaModel().getObject("/"+h.CollectionPath+"/$Type@");var D=F.displayMode(P,g);f.getParent().setProperty("display",D);return V.createValueHelpDialog(p,f,t,c,v,s);}).catch(function(g){var h=g.status&&g.status===404?"Metadata not found ("+g.status+") for value help of property "+p:g.message;L.error(h);M.show(h);});}},getTargetCollection:function(c){var p=c.getPath();if(c.getObject("$kind")==="EntitySet"||c.getObject("$kind")==="Action"||c.getObject("0/$kind")==="Action"){return p;}p="/"+p.split("/").filter(Boolean).join("/$NavigationPropertyBinding/");return"/"+c.getObject(p);},setSemanticObjectMappings:function(s,m){var o=JSON.parse(m);for(var i=0;i<o.length;i++){var l=o[i]["LocalProperty"]["$PropertyPath"];var S=o[i]["SemanticObjectProperty"];if(s.getSelectOption(l)){var b=s.getSelectOption(l);var c=b[0]["Sign"];var d=b[0]["Low"];var O=b[0]["Option"];var h=b[0]["High"];s.removeSelectOption(l);s.addSelectOption(S,c,O,d,h);}}return s;}};return a;},true);
