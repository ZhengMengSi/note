sap.ui.define(["sap/ui/test/launchers/iFrameLauncher","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/fe/test/Utils"],function(f,O,a,q,U,b){"use strict";return O.extend("sap.fe.integrations.common.BaseArrangements",{iStartMyApp:function(c,A,s){var u=new U(window.location.href),B=u.get("useBackendUrl")||"http://localhost:4004",S=Object.keys(s||{}).reduce(function(C,k){return C+"&"+k+"="+s[k];},"");this.iStartMyAppInAFrame("test-resources/sap/fe/internal/demokit/flpSandbox.html?sap-ui-log-level=ERROR&sap-ui-xx-viewCache=true&useBackendUrl="+B+S+"#"+c+(A||""));return a.create(this).success(function(){var F=f.getWindow();var p=F.parent;F.history.go=p.history.go;F.history.back=p.history.back;F.confirm=function(m){throw"Unexpected confirm dialog - "+m;};}).description(b.formatMessage("App '{0}{1}' started",c,A||"")).execute();},iResetTestData:function(){var u=new U(window.location.href),B=u.get("useBackendUrl")||"http://localhost:4004",p="/databinding/proxy/"+B.replace("://","/"),s=false,t=window.__karma__&&window.__karma__.config&&window.__karma__.config.ui5?window.__karma__.config.ui5.shardIndex:"default";return a.create(this).success(function(){localStorage.clear();q.post(p+"/redeploy?tenant="+t,function(){s=true;});return a.create(this).check(function(){return s;}).execute();}).description(b.formatMessage("Reset test data on tenant '{0}'",t)).execute();},iTearDownMyApp:function(){return a.create(this).do(this.iTeardownMyAppFrame.bind(this)).description("Tearing down my app").execute();}});});
