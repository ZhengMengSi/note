/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/base/Log","sap/ui/base/Object"],function(L,B){"use strict";var P="@FE.";var r=new RegExp(P,"g");return B.extend("sap.fe.core.TemplateModel",{oMetaModel:null,oConfigModel:null,constructor:function(m,c){this.oMetaModel=m;this.oConfigModel=c;this.fnCreateMetaBindingContext=this.oMetaModel.createBindingContext.bind(this.oMetaModel);this.fnCreateConfigBindingContext=this.oConfigModel.createBindingContext.bind(this.oConfigModel);var g=this.oConfigModel._getObject.bind(this.oConfigModel);this.oConfigModel._getObject=function(p,C){var R="";if(C){R=C.getPath();}if(p){R=R+(R?"/":"")+p;}R=R.replace(r,"");return g(R);};this.oMetaModel.createBindingContext=this.createBindingContext.bind(this);this.oConfigModel.createBindingContext=this.createBindingContext.bind(this);return this.oMetaModel;},isConfig:function(p){var s=p.split("/");return(s&&(s[s.length-1].indexOf(P)===0||(!isNaN(s[s.length-1])&&s[s.length-2].indexOf(P)===0)));},createBindingContext:function(p,c,m,C){var b,R;if(this.isConfig(p)){b=this.fnCreateConfigBindingContext(p,c,m,C);R=b.getObject();if(R&&typeof R==="string"&&!this.isConfig(R)){b=this.fnCreateMetaBindingContext(R,c,m,C);}}else{b=this.fnCreateMetaBindingContext.apply(this.oMetaModel,arguments);}return b;}});});
