// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/_VisualizationInstantiation/VizInstance"],function(V){"use strict";var a=V.extend("sap.ushell.ui.launchpad.VizInstanceAbap",{metadata:{library:"sap.ushell"},constructor:function(v){this._oVizData=v;this._oPageBuildingServicePromise=sap.ushell.Container.getServiceAsync("PageBuilding");V.prototype.constructor.call(this);},fragment:"sap.ushell.services._VisualizationInstantiation.VizInstanceAbap"});a.prototype.init=function(){this._oPageBuildingServicePromise.then(function(p){var f=p.getFactory();this.oChipInstance=f.createChipInstance({chipId:this._oVizData._instantiationData.chip.id,chip:this._oVizData._instantiationData.chip});}.bind(this));};a.prototype.load=function(i){return new Promise(function(r,b){this._oPageBuildingServicePromise.then(function(){this.oChipInstance.load(function(){if(i){var p=this.oChipInstance.getContract("preview");if(!p){b(new Error("The chip instance has no preview contract"));return;}p.setEnabled(true);}var v=this.oChipInstance.getImplementationAsSapui5();var w=parseInt(this.oChipInstance.getConfigurationParameter("col"),10)||1;var h=parseInt(this.oChipInstance.getConfigurationParameter("row"),10)||1;w=w*2;h=h*2;this.setWidth(w);this.setHeight(h);this._setContent(v);r();}.bind(this),b);}.bind(this));}.bind(this));};return a;});
