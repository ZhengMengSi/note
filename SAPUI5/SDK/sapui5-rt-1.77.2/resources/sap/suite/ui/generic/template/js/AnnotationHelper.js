sap.ui.define(["sap/ui/model/odata/AnnotationHelper","sap/ui/comp/smartfield/SmartField","sap/base/Log","sap/base/strings/formatMessage","sap/base/util/deepExtend","sap/base/security/encodeXML","sap/suite/ui/generic/template/js/RuntimeFormatters","sap/suite/ui/generic/template/lib/testableHelper","sap/ui/Global"],function(A,S,L,f,d,a,R,t){"use strict";function E(e,M){var i=M[e];var j=i&&i["sap.ui.generic.app"];return!!(j&&j.enableLazyLoading);}function g(C,P){var N=false;if(C["Org.OData.Capabilities.V1.SortRestrictions"]&&C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var e=C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=e.length-1;i>=0;i--){if(e[i].PropertyPath===P){N=true;break;}}}var r=false;if(C["Org.OData.Capabilities.V1.FilterRestrictions"]){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=='false'){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var s=C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var j=s.length-1;j>=0;j--){if(s[j].PropertyPath===P){r=true;break;}}}}else{r=true;}}var u={getFilterRestriction:function(){return r;},getSortRestriction:function(){return N;}};return u;}function h(e,s){return!!(e.name&&s&&s.some(function(i){return e.name===i.entitySet;}));}function b(s,e,P,i,j,N){var r=i?"":" && !${ui>/editable}";return"{= ${_templPriv>/generic/supportedIntents/"+s+"/"+e+"/"+P+"/supported}"+r+" ? "+j+" : "+N+"}";}function c(s,e,j,M,r){var N;if(j){N=j.split("/")[0];}if(s&&e){for(var i=0;i<e.length;i++){if(s===e[i].entitySet&&(!N||N===e[i].navigationProperty)&&e[i].navigation&&e[i].navigation[M]){if(r){if(e[i].component&&e[i].component.settings&&e[i].component.settings.hideChevronForUnauthorizedExtNav){return e[i].navigation[M].target;}}else{return e[i].navigation[M].target;}}}}return null;}function k(e,s,M,i,I,F,T){var P=F?"1":"Navigation";if(T){return P;}var N=F?"0":"Inactive";var j=F?"":"'";var O=c(e.name,s,i,"display",true);if(O){var C=M["sap.app"].crossNavigation.outbounds[O];var r=C.semanticObject;var u=C.action;var v=e.name+(i?("::"+i.split("/")[0]):"");return b(r,u,v,I,j+P+j,j+N+j);}if(h(e,s)){return I?P:"{= ${ui>/editable} ? "+j+N+j+" : "+j+P+j+" }";}return N;}function l(e,s,M,i,I){return k(e,s,M,i,I,true);}function m(M,e,P){var s=P;var i=M.getODataEntityType(e);if(s.indexOf("/")>-1){var r=s.split("/");for(var j=0;j<r.length-1;j++){var u=M.getODataAssociationEnd(i,r[j]);i=M.getODataEntityType(u.type);}s=r[r.length-1];}var O=M.getODataProperty(i,s);return(!!O&&O.type==="Edm.Boolean");}function n(e){while(!e.getEntitySet){e=e.getParent();}return e;}function o(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="lineItemQualifier"){var s=C[i].getValue();if(s){return s;}}}}function p(r,e){var M=e.getModel();var i=M.getMetaModel();var C=n(r.getParent());var j=i.getODataEntitySet(C.getEntitySet());var s=i.getODataEntityType(j.entityType);var u=C.getCustomData();var v=s["com.sap.vocabularies.UI.v1.LineItem"];var w=s["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var x=o(u);if(x){w=s["com.sap.vocabularies.UI.v1.LineItem#"+x+"@com.sap.vocabularies.UI.v1.Criticality"];}if(v&&w){if(w.Path){var y=w.Path;var z=e.getObject(y);if(z){switch(z.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";default:}}}else if(w.EnumMember){var B=w.EnumMember;if(B){switch(B){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";default:}}}}return"None";}var n=t.testableStatic(n,"AnnotationHelper_getSmartTableControl");var o=t.testableStatic(o,"AnnotationHelper_getLineItemQualifier");var q={formatMessage:f,encodeHTML:function(H){return a(H);},getNewVariable:function(C){var v=C.getProperty();var V={set:function(e,P){e=typeof e==="object"?d({},e):e;if(P){V.value=V.value||{};V.value[P]=e;}else{V.value=e;}}};v.push(V);return"/variables/"+(v.length-1);},getBindingForHiddenPath:function(H){if(H["com.sap.vocabularies.UI.v1.Hidden"]){if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Path")){return"{= !${"+H["com.sap.vocabularies.UI.v1.Hidden"].Path+"} }";}else if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Bool")){if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="true"){return false;}else if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="false"){return true;}else{L.error(H["com.sap.vocabularies.UI.v1.Hidden"].Bool+" is not a boolean value");return true;}}else{return false;}}else{return true;}},getCustomDataForContactPopup:function(C){return((JSON.stringify(C)).replace(/\}/g,"\\}").replace(/\{/g,"\\{"));},renderColumnForConnectedFields:function(C){var e=function(D){return((D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(D.Inline&&D.Inline.Bool==="true"));};if(C.length){if(!C.every(e)){return"true";}else{return"false";}}else{return"false";}},renderColumnHeader:function(C){var e=function(D){return(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation");};if(C.length){if(C.every(e)){return"true";}else{return"false";}}},createP13NColumnForConnectedFields:function(I,e,C,r,D,s,u){var P="",v="",w={},x={},y=[],z;var B=I.getInterface(0);var M=I.getInterface(1).getModel();var F=[];var N=[];var G=[];var H="false";r=r&&r.Data;for(var i=0;i<r.length;i++){D=r[i];M=I.getInterface(0).getModel();x=M.getODataEntityType(M.getContext(I.getInterface(0).getPath()).getObject().entityType);if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(D.Target.AnnotationPath.indexOf("/")>0){var J=D.Target.AnnotationPath.split("/")[0];var K=D.Target.AnnotationPath.split("/")[1].split("@")[1];x=M.getODataEntityType(M.getODataAssociationEnd(x,J).type);u=x[K];}else{u=x[D.Target.AnnotationPath.split("@")[1]];}}if(((D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&D.Inline&&D.Inline.Bool==="true")||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){P=q.createP13NColumnForAction(B,D);}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataField"){var O=q.getRelevantDataForAnnotationRecord(M,D.Value.Path,x);x=O.entityType;var Q=O.dataFieldValuePath;y=(x&&x.property)||[];for(var j=0;j<y.length;j++){if(y[j].name===Q){s=y[j];break;}}P=q.createP13N(I,e,s,D);}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(D.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){P=q.createP13NColumnForContactPopUp(I,e,D,u,D.Target.AnnotationPath);}else if(D.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){P=q.createP13NColumnForChart(I,e,D,u,D.Target.AnnotationPath);}else if(u.Visualization){P=q.createP13NColumnForIndicator(I,e,s,D,u,u.Value,D.Target.AnnotationPath);}}if(P){w=JSON.parse(P.replace(/\\/g,""));}if(!F.length&&w.leadingProperty){F.push(w.leadingProperty);}else{w.leadingProperty&&(G.indexOf(w.leadingProperty)===-1)?G.push(w.leadingProperty):Function.prototype;}w.navigationProperty&&(N.indexOf(w.navigationProperty)===-1)?N.push(w.navigationProperty):Function.prototype;w.additionalProperty&&(G.indexOf(w.additionalProperty)===-1)?G.push(w.additionalProperty):Function.prototype;if(H==="false"){H=w.actionButton;}}P="";v=q.createP13NColumnKey(C);z=q._determineColumnIndex(I.getInterface(1));P='\\{"columnKey":"'+v;P+='", "columnIndex":"'+z;P+='", "sortProperty":"'+"";P+='", "filterProperty":"'+"";if(F.length>0){P+='", "leadingProperty":"'+F.join();}if(N.length>0){P+='", "navigationProperty":"'+N.join();}if(G.length>0){P+='", "additionalProperty":"'+G.join();}P+='", "actionButton":"'+H+'"';P+=' \\}';return P;},tabItemHasPresentationVariant:function(e,v){var V=e[v];return!!(V&&(V.PresentationVariant||V.Visualizations||V.SortOrder));},getPresentationVariant:function(v,e){if(v.Visualizations||v.SortOrder){return v;}else if(v.PresentationVariant&&(v.PresentationVariant.Path||v.PresentationVariant.AnnotationPath)){var s=v.PresentationVariant.Path||v.PresentationVariant.AnnotationPath;return e[s.replace('@','')];}else if(v.PresentationVariant){return q.getPresentationVariant(v.PresentationVariant);}},getPresentationVariantVisualisation:function(e,v){var V=e[v];var P=q.getPresentationVariant(V,e);if(P.Visualizations){return P.Visualizations[0].AnnotationPath.split('#')[1];}},getPresentationVariantSortOrder:function(e,v){var V=e[v];var P=q.getPresentationVariant(V,e);if(P.SortOrder){return q.getSortOrder(P.SortOrder);}},getSmartTableId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="listReport";if(s){r=r.concat(s);}return r;},getAnalyticalTableId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="analyticalTable";if(s){r=r.concat(s);}return r;},getGridTableId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="GridTable";if(s){r=r.concat(s);}return r;},getTreeTableId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="TreeTable";if(s){r=r.concat(s);}return r;},getRowActionsId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="rowActions";if(s){r=r.concat(s);}return r;},getResponsiveTableId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="responsiveTable";if(s){r=r.concat(s);}return r;},getAddEntryId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="addEntry";if(s){r=r.concat(s);}return r;},getDeleteEntryId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="deleteEntry";if(s){r=r.concat(s);}return r;},getShowDetailsId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="showDetails";if(s){r=r.concat(s);}return r;},getDraftObjectMarkerId:function(T){var s=q.getSuffixFromIconTabFilterKey(T);var r="DraftObjectMarker";if(s){r=r.concat(s);}return r;},getBreakoutActionButtonId:function(C,T){if(C.id){var s=q.getSuffixFromIconTabFilterKey(T);var r=C.id;if(s){r=r.concat(s);}return r;}},getIconTabFilterKey:function(T){if(T){if(T.key){return T.key;}else{return q.replaceSpecialCharsInId(T.annotationPath);}}},getSuffixFromIconTabFilterKey:function(T){var K=q.getIconTabFilterKey(T);if(K){return"-".concat(K);}else{return"";}},getIconTabFilterText:function(i,M,T){var e,D,j,r,s,u,v,w;if(T){var x=T.AnnotationPath;var y=x&&x.substring(0,x.indexOf('/'));e=i.getInterface(0).getModel();D=e.getData();j=D.metaModel;v=j.getODataEntityType(D.entityType);w=j.getODataAssociationEnd(v,y);u=j.getODataEntityType(w.type);}else{e=i.getModel();D=e.getData();j=D.metaModel;if(!!M.entitySet){r=j.getODataEntitySet(M.entitySet);s=r.entityType;}else{s=D.entityType;}u=j.getODataEntityType(s);}var z=u[M.annotationPath];if(z&&z.Text){return z.Text.String;}},getAltTextForImage:function(D){if(D["com.sap.vocabularies.Common.v1.Text"]){return D["com.sap.vocabularies.Common.v1.Text"].String;}},getActionButtonVisibility:function(i,D){var s=D["Action"]&&D["Action"].String;s=s&&s.split("/")[1];if(s){var e=i.getModel().getODataFunctionImport(s);}return!!e;},buildAnnotatedActionButtonEnablementExpression:function(i,D,F,e,I,T,C){var j,B,s,M;s=D&&D.Action&&D.Action.String;if(s){B=q.getStableIdPartForDatafieldActionButton(D,F,T,C);if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(!D.RequiresContext||D.RequiresContext.Bool!=="false"){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){M=i.getInterface(0).getModel();j=M.getODataFunctionImport(s);if(!j){L.error("The function import "+s+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");return false;}else if(j["sap:action-for"]&&j["sap:action-for"]!==""&&j["sap:action-for"]!==" "){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}return true;}},buildActionButtonsCustomData:function(I,C,F,e,T,r){var D,M,s;var B=[];I=I.getInterface(0);M=I.getModel();if(C){for(var i=0;i<C.length;i++){D=C[i];s=null;if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&D.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var u=M.getContext(I.getPath()+"/"+i+"/Target");var v=sap.ui.model.odata.AnnotationHelper.resolvePath(u);var w=M.getObject(v);if(w.Data&&w.Data.length>0){for(var j=0;j<w.Data.length;j++){s=q.generateAnnotatedActionCustomData(w.Data[j],F,T,r);if(s){B.push(s);}}}}else{s=q.generateAnnotatedActionCustomData(D,F,T,r);if(s){B.push(s);}}}}return btoa(JSON.stringify(B));},generateAnnotatedActionCustomData:function(D,F,T,C){var i;if((D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!((D.Inline&&D.Inline.Bool===true)||(D.Determining&&D.Determining.Bool===true))&&(D.Action&&D.Action.String.trim())){i=q.getStableIdPartForDatafieldActionButton(D,F,T,C);return{ID:i,RecordType:D.RecordType,Action:D.Action&&D.Action.String};}},getLabelForDFwithIBN:function(i,D,e,G){var M,T,j,P,r;if(D.Label){return D.Label.String;}else{M=i.getInterface(0).getModel();if(M&&e){if(G&&G.Target&&G.Target.AnnotationPath){T=q.getTargetEntitySet(M,e,G.Target.AnnotationPath);j=M.getODataEntityType(T.entityType);}else{j=M.getODataEntityType(e.entityType);}if(D.Value&&D.Value.Path){P=M.getODataProperty(j,D.Value.Path);r=(P["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}}}},getLinkTextForDFwithIBN:function(i,D,e,G){var j,T,P,r;var M=i.getInterface(0).getModel();if(M&&e){if(G&&G.Target&&G.Target.AnnotationPath){T=q.getTargetEntitySet(M,e,G.Target.AnnotationPath);j=M.getODataEntityType(T.entityType);}else{j=M.getODataEntityType(e.entityType);}if(D.Value&&D.Value.Path){P=M.getODataProperty(j,D.Value.Path)||{};r=(P["com.sap.vocabularies.Common.v1.Text"]||D.Value).Path||"";return"{"+r+"}";}}},getTargetEntitySet:function(M,s,e){var N,i,j,r;N=e.split('/');if(N.length>1){i=N[0];}if(i){j=M.getODataEntityType(s.entityType);r=M.getODataAssociationSetEnd(j,i);if(r&&r.entitySet){return M.getODataEntitySet(r.entitySet);}}return s;},getApplicablePathForChartToolbarActions:function(I,C,e){var M=I.getInterface(0).getModel();var j=M.getODataEntityType(e);var r=(C&&C.Actions)||[];var F,s,O,u=[],v=[],w;for(var i=0;i<r.length;i++){if(r[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!r[i].Inline||r[i].Inline.Bool!=="true")&&(!r[i].Determining||r[i].Determining.Bool!=="true")){F=r[i].Action&&r[i].Action.String;s=M.getODataFunctionImport(F);if(s){u.push(s);}}}for(var i=0;i<u.length;i++){s=u[i];if(s&&s["sap:action-for"]&&s["sap:action-for"]!==""&&s["sap:action-for"]!==" "&&s["sap:applicable-path"]&&s["sap:applicable-path"]!==""&&s["sap:applicable-path"]!==" "){w=s["sap:applicable-path"];O=M.getODataProperty(j,w);if(O&&O["sap:aggregation-role"]==="dimension"){v.push(w);}else{L.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+w+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.");}}}if(v.length>0){return v.join();}},formatSmartField:function(i,s){var D={"Path":s.path};return A.simplePath(i.getModel()?i:i.getInterface(0),D);},buildBreadCrumbExpression:function(C,T,e){var B,s=sap.ui.model.odata.AnnotationHelper.format(C,T);if(T&&T.Path&&e&&e.String){var i=e.String.replace(/'/g,"\\'");B="{= $"+s+" ? $"+s+" : '"+i+"' }";return B;}else{if(!s){return e&&e.String||"[[no title]]";}return s;}},buildRatingIndicatorSubtitleExpression:function(s){if(s){return"{parts: [{path: '"+s.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}";}},formatRatingIndicatorSubTitle:function(s){if(s){var r=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_SUBTITLE",[s,this.data("Subtitle")]);}else{var e=s>1?r.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):r.getText("RATING_INDICATOR_SUBTITLE_LABEL");return r.getText("RATING_INDICATOR_SUBTITLE",[s,e]);}}},buildRatingIndicatorFooterExpression:function(v,T){if(T){return"{parts: [{path: '"+v.Path+"'}, {path: '"+T.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";}return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";},formatRatingIndicatorFooterText:function(v,e){if(v){var r=this.getModel("i18n").getResourceBundle();if(e){return r.getText("RATING_INDICATOR_FOOTER",[v,e]);}else if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_FOOTER",[v,this.data("Footer")]);}else{var i=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return r.getText("RATING_INDICATOR_FOOTER",[v,i]);}}},buildRatingIndicatorAggregateCountExpression:function(v){return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}";},formatRatingIndicatorAggregateCount:function(v){var r=this.getModel("i18n").getResourceBundle();var T;if(v){T=r.getText("RATING_INDICATOR_AGGREGATE_COUNT",[v]);}else if(this.getCustomData().length>0){T=r.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")]);}else{T="";}return T;},getIdForMoreBlockContent:function(F){if(F["com.sap.vocabularies.UI.v1.PartOfPreview"]&&F["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent";}},checkMoreBlockContent:function(F){return q.checkFacetContent(F,false);},checkBlockContent:function(F){return q.checkFacetContent(F,true);},checkFacetContent:function(F,B){var P;var i=F.getInterface(0);var e=F.getModel().getProperty("",F);var j=F.getPath().split("/Facets");var C=i.getModel().getContext(j[0]);if(i.getModel().getProperty('',C).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return C.getPath();}else{if(!e){return;}for(var r=0;r<e.length;r++){if(!B){if(e[r]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&e[r]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){P=i.getPath()+"/"+r;break;}}else{if(e[r].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!e[r]["com.sap.vocabularies.UI.v1.PartOfPreview"]||e[r]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){P=i.getPath()+"/"+r;break;}}}}return P;},isInlineCreate:function(F,s){var e=s[q.getStableIdPartFromFacet(F)];return!!(e&&e.createMode&&e.createMode==="inline");},usesPreliminaryContext:function(F,s){var e=s[q.getStableIdPartFromFacet(F)];return!!(e&&e.preliminaryContext);},isInlineCreateSorting:function(F,s){var e=s[q.getStableIdPartFromFacet(F)];return!!(e&&e.disableDefaultInlineCreateSort);},isImageUrl:function(P){var s=P["com.sap.vocabularies.UI.v1.IsImageURL"]||P["com.sap.vocabularies.UI.v1.IsImageUrl"];if(s&&s.Bool&&s.Bool==="false"){return false;}else if(s){return true;}return false;},isPropertySemanticKey:function(I,e,P){var I=I.getInterface(0);var M=I.getModel();var j=M.getODataEntityType(e.entityType);if(j){var s=j["com.sap.vocabularies.Common.v1.SemanticKey"];if(s&&s.length>0){for(var i=0;i<s.length;i++){if(s[i].PropertyPath===P.Path){return true;}}}}return false;},_addFullPathToImageUrlIfNeeded:function(i,s){if(!i){return"";}if((i.substring(0,1)==="/")||(i.substring(0,11)==="sap-icon://")||(i.substring(0,7)==="http://")||(i.substring(0,8)==="https://")){return i;}else{return sap.ui.require.toUrl(s)+"/"+i;}},formatImageUrl:function(i,I,s,e){if(I&&(I.Path||I.Apply)&&e){q.formatWithExpandSimple(i,I);}if(I&&I.Path){return"{parts: [{path: '"+I.Path+"'}, {path: '_templPrivGlobal>/generic/appComponentName'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrlRuntime'}";}else if(I&&I.String){return q._addFullPathToImageUrlIfNeeded(I.String,s);}else if(I&&I.Apply){I.Apply.Parameters[0].Value=q._addFullPathToImageUrlIfNeeded(I.Apply.Parameters[0].Value,s);return sap.ui.model.odata.AnnotationHelper.format(i,I);}else{return"";}},hasImageUrl:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeader sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeader";}},getAvatarInitials:function(i){return((i.Path&&("{"+i.Path+"}"))||i.String||"");},hasImageUrlForHeaderTitle:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithImage sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithoutImage";}},formatImageOrTypeUrl:function(i,I,T,s,e){var j=null;if(I){j=I;}else{j=T;}return q.formatImageUrl(i,j,s,e);},getPathWithExpandFromHeader:function(i,e,N,I,T){var j=[],s;if((I||T)){var i=i.getInterface(0);var M=i.getModel();var r=M.getODataEntityType(e.entityType);var u=null;if(I){u=I;}else{u=T;}if(u&&u.Path&&r){var v=q._getNavigationPrefix(M,r,u.Path);if(v){j.push(v);}}}if(j.length>0){if(j.length>1){j=j.filter(function(w,x,y){return x==y.indexOf(w);});}s="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{s="{ path : '"+N+"' }";}if(s==="{}"){s="";}return s;},disableSemanticObjectLinksOnPopups:function(Q,D){var i="";if(Q&&Q.ignoredFields&&D&&D.Value&&D.Value.Path){if(Q.ignoredFields[D.Value.Path]){i=D.Value.Path;}}return i;},formatImageUrlRuntime:function(i,s){return q._addFullPathToImageUrlIfNeeded(i,s);},formatHeaderImage:function(i,H,s){if(H.ImageUrl){return q.formatImageUrl(i,H.ImageUrl,s,true);}else if(H.TypeImageUrl){return q.formatImageUrl(i,H.TypeImageUrl,s,true);}else{return"";}},matchesBreadCrumb:function(I,C,P){if(P){var s=P.split("/");var e,j,r;if(s.length>0){var M=I.getInterface(0).getModel();var u=s[0];for(var i=0;i<s.length;i++){if(i>0){e=M.getODataEntitySet(u);j=M.getODataEntityType(e.entityType);r=M.getODataAssociationSetEnd(j,s[i]);u=r.entitySet;}if((i+1)===s.length){if(u===C.name){return true;}else{return false;}}}}}},showFullScreenButton:function(r,F){if(r&&F){var s=q.getStableIdPartFromFacet(F);if(r.component&&r.component.settings&&r.component.settings.sections&&r.component.settings.sections[s]&&r.component.settings.sections[s].tableMode==="FullScreenTable"){return true;}}return false;},getPersistencyKeyForSmartTable:function(r){return"listReportFloorplanTable";},getPersistencyKeyForDynamicPageTitle:function(r){return"listReportDynamicPageTitle";},getCreateNavigationIntent:function(s,e,i){return c(s,e,i,"create");},getDisplayNavigationIntent:function(s,e,i){return c(s,e,i,"display");},extensionPointFragmentExists:function(F,s){var i=q.getStableIdPartFromFacet(F);if(i===s){return true;}else{return false;}},containsFormWithBreakoutAction:function(F,i){var C=q.getStableIdPartFromFacet(F);if(C===i){if(F.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&F.Target&&F.Target.AnnotationPath&&F.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")!=-1){return true;}}return false;},setAriaText:function(i,e,D){if(D.Path){return"{parts: [{path: '"+e+"'}, {path: '"+D.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";}D=sap.ui.model.odata.AnnotationHelper.format(i,D);return"{parts: [{path: '"+e+"'}, {value: '"+D+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";},formatWithExpandSimple:function(i,D,e){if(!D){return"";}var r=[],s,u;var M=i&&i.getModel&&i.getModel();if(!M){i=i.getInterface(0);M=i.getModel();}if(e){u=M.getODataEntityType(e.entityType);}else{var v=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(i.getPath());if(v&&v.length&&v[0]){var w=M.getProperty(v[0]);var N=M.getODataEntityContainer().namespace;u=M.getODataEntityType(N+'.'+w.name);}}if(u){if(D&&D.Path){s=q._getNavigationPrefix(M,u,D.Path);if(s){r.push(s);}}else if(D&&D.Apply&&D.Apply.Name==="odata.concat"){D.Apply.Parameters.forEach(function(y){if(y.Type==="Path"){s=q._getNavigationPrefix(M,u,y.Value);if(s){if(r.indexOf(s)===-1){r.push(s);}}}});}if(r.length>0){var P=i.getSetting("preprocessorsData");if(P){var x=P.rootContextExpand||[];for(var j=0;j<r.length;j++){if(x.indexOf(r[j])===-1){x.push(r[j]);}}P.rootContextExpand=x;}}}return sap.ui.model.odata.AnnotationHelper.format(i,D);},formatWithExpandSimplePath:function(i,D,e){q.getNavigationPathWithExpand(i,D,e);i=i.getInterface(0);q.formatWithExpandSimple(i,D,e);return sap.ui.model.odata.AnnotationHelper.simplePath(i,D);},formatWithExpand:function(i,D,e){q.getNavigationPathWithExpand(i,D,e);i=i.getInterface(0);q.formatWithExpandSimple(i,D,e);return sap.ui.model.odata.AnnotationHelper.format(i,D);},_getNavigationPrefix:function(M,e,P){var s="";var j=P.split("/");if(j.length>1){for(var i=0;i<(j.length-1);i++){var r=M.getODataAssociationEnd(e,j[i]);if(r){e=M.getODataEntityType(r.type);if(s){s=s+"/";}s=s+j[i];}else{return s;}}}return s;},getCurrentPathWithExpand:function(i,C,e,N){i=i.getInterface(0);var j=[],s;var M=i.getModel();var r=M.getODataEntitySet(e.name||'');var u=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var v=M.getODataEntityType(e.entityType);j=q.getFacetExpand(u,M,v,r);if(j.length>0){s="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{s="{ path : '"+N+"' }";}if(s==="{}"){s="";}return s;},getCurrentPathWithExpandForContact:function(i,C,e,N){var j=[],s;i=i.getInterface(0);var M=i.getModel();var r=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var u=M.getODataEntityType(e.entityType);j=q.getFacetExpandForContact(r,M,u);if(j.length>0){s="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{s="{ path : '"+N+"' }";}if(s==="{}"){s="";}return s;},getFacetExpandForContact:function(r,M,e){var s=[],F;var G=function(P){if(P){var w=q._getNavigationPrefix(M,e,P);if(w){if(s.indexOf(w)===-1){s.push(w);}}}};if(r&&r.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){F=M.getObject(r)||{};for(var i in F){var P;var u=F[i];if(u&&u.Path){P=u.Path;G(P);}else if(Object.prototype.toString.call(u)==='[object Array]'){for(var j in u){var v=u[j];if(v&&v.uri&&v.uri.Path){P=v.uri.Path;}if(v&&v.address&&v.address.Path){P=v.address.Path;}G(P);}}}}return s;},getNavigationPathWithExpand:function(i,C,e,w){i=i.getInterface(0);var M=i.getModel();var r=M.getODataEntitySet(e.name||'');var s=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var N=sap.ui.model.odata.AnnotationHelper.getNavigationPath(i,C);var u=N.replace("{","").replace("}","");var v;if(u){v=M.getODataEntityType(r.entityType);var x=M.getODataAssociationSetEnd(v,u);if(x&&x.entitySet){r=M.getODataEntitySet(x.entitySet);}}else{v=M.getODataEntityType(e.entityType);w=false;}var y=false;var z=q.getFacetExpand(s,M,v,r);var P=i.getSetting("preprocessorsData")||{};var B=P.rootContextExpand||[];if(z.length>0){if(u){y=true;}else{for(var j=0;j<z.length;j++){if(B.indexOf(z[j])===-1){B.push(z[j]);}}P.rootContextExpand=B;}}w=w&&(B.indexOf(u)===-1||z.some(function(D){return B.indexOf(u+"/"+D)===-1;}));if(y||w){N="{ path : '"+u+"', parameters : { ";if(y){N=N+"expand : '"+z.join(",")+"'";if(w){N=N+", ";}}if(w){N=N+"usePreliminaryContext: true, batchGroupId: 'facets'";}N=N+"} }";}if(N==="{}"){N="";}return N;},getFormGroupBindingString:function(i,C,e){var r=q.getNavigationPathWithExpand(i,C,e,true);return r;},getFacetExpand:function(r,M,j,s){var D=[],u=[],F,v=[];if(r){v=M.getObject(r)||[];}v=v.Data||v;var G=function(P,I){var x=q._getNavigationPrefix(M,j,P);if(x){if(u.indexOf(x)===-1){u.push(x);}}if(I){try{D=S.getSupportedAnnotationPaths(M,s,P,true)||[];}catch(e){D=[];}for(var i=0;i<D.length;i++){if(u.indexOf(D[i])===-1){u.push(D[i]);}}}};var w=function(P){if(P.Type==="LabeledElement"){G(P.Value.Path);}else if(P.Type==="Path"){G(P.Value);}};if(Array.isArray(v)){for(var i=0;i<v.length;i++){F=v[i];if(F.Value&&F.Value.Path){G(F.Value.Path,true);}if(F.Value&&F.Value.Apply&&F.Value.Apply.Name==="odata.concat"){F.Value.Apply.Parameters.forEach(w);}if(F.Action&&F.Action.Path){G(F.Action.Path);}if(F.Target){if(F.Target.Path){G(F.Target.Path);}if(F.Target.AnnotationPath){G(F.Target.AnnotationPath);}}if(F.SemanticObject&&F.SemanticObject.Path){G(F.SemanticObject.Path);}if(F.Url&&F.Url.Path){G(F.Url.Path);}if(F.Url&&F.Url.Apply&&F.Url.Apply.Parameters){F.Url.Apply.Parameters.forEach(w);}if(F.UrlContentType&&F.UrlContentType.Path){G(F.UrlContentType.Path);}}}else{if(v.name){G(v.name,true);}if(v.Value&&v.Value.Path){G(v.Value.Path,true);}if(v.Title&&v.Title.Path){G(v.Title.Path,true);}if(v.Criticality&&v.Criticality.Path){G(v.Criticality.Path,true);}}return u;},isSelf:function(P){if(P===undefined||(P&&P.indexOf('@')===0&&P.indexOf('/')===-1)){return true;}return false;},number:function(v){if(!v){return NaN;}else if(v.Decimal){return+v.Decimal;}else if(v.Path){return'{'+v.Path+'}';}else{return NaN;}},formatColor:(function(){function e(v){if(!v){return NaN;}else if(v.Decimal){return v.Decimal;}else if(v.EnumMember){return'\''+v.EnumMember+'\'';}else if(v.Path){return'${'+v.Path+'}';}else{return NaN;}}function i(D){var r=D.Criticality;return'{= '+e(r)+' === \'UI.CriticalityType/Negative\' ? \'Error\' : '+e(r)+'=== \'UI.CriticalityType/Critical\' ? \'Critical\' : \'Good\'}';}function j(D){var v=e(D.Value);var C=D.CriticalityCalculation;return'{= ('+v+' < '+e(C.DeviationRangeLowValue)+' || '+v+' > '+e(C.DeviationRangeHighValue)+') ? \'Error\' : ('+v+' < '+e(C.ToleranceRangeLowValue)+' || '+v+' > '+e(C.ToleranceRangeHighValue)+') ? \'Critical\' : \'Good\'}';}return function(D){if(D.Criticality){return i(D);}else if(D.CriticalityCalculation){return j(D);}};})(),_determineColumnIndex:function(C){var s=C.getPath();var i=Number(s.slice(s.lastIndexOf("/")+1));var e=s.slice(0,s.lastIndexOf("/"));var j=C.getModel().getObject(e);var r=0;for(var u=0;u<i;u++){if((j[u].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||j[u].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!j[u].Inline||j[u].Inline.Bool==="false")){continue;}else{r++;}}return r;},suppressP13NDuplicateColumns:function(I,e){var s="";var D={};var C=",";var M=I.getModel();for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(e[i].Value&&e[i].Value.Path){var j=e[i].Value.Path;D[j]=true;}}}for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){if(e[i].Value&&e[i].Value.Path){var j=e[i].Value.Path;if(!D[j]){s=s+C+j;}}}else if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var T=M.getContext(I.getPath()+"/"+i+"/Target");var r=sap.ui.model.odata.AnnotationHelper.resolvePath(T);var u=M.getObject(r);if(r.indexOf('com.sap.vocabularies.Communication.v1.Contact')>=0){if(u&&u.fn&&u.fn.Path){var j=u.fn.Path;if(!D[j]){s=s+C+j;}}}else if(r.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>=0){if(u&&u.Value&&u.Value.Path){var j=u.Value.Path;if(!D[j]){s=s+C+j;}}}}}if(s.length>0){s=s.substring(1);}return s;},createP13NColumnForAction:function(C,D){var i=q._determineColumnIndex(C);var s=q.createP13NColumnKey(D);if(D&&D.Value&&D.Value.Path){var P='\\{"columnKey":"'+s+'", "leadingProperty":"'+D.Value.Path+'", "columnIndex":"'+i;var r=g(C,D.Value.Path);var N=r.getFilterRestriction();var e=r.getSortRestriction();if(!e){P+='", "sortProperty":"'+D.Value.Path;}if(!N){P+='", "filterProperty":"'+D.Value.Path;}P+='", "actionButton":"true" \\}';}else{var P='\\{"columnKey":"'+s+'", "columnIndex":"'+i+'", "actionButton":"true" \\}';}return P;},createP13NColumnForContactPopUp:function(i,C,D,e,s){var P="";var N="";var M=i.getInterface(0).getModel();if(M){var j=M.getODataEntityType(C.entityType);if(j){N=q._getNavigationPrefix(M,j,s);}}var r=q.createP13NColumnKey(D);P+='\\{"columnKey":"'+r;if(e&&e.fn&&e.fn.Path){if(N){var u=M.getODataAssociationSetEnd(j,N);if(u&&u.entitySet){C=M.getODataEntitySet(u.entitySet);}var v=g(C,e.fn.Path);var w=v.getFilterRestriction();var x=v.getSortRestriction();P+='", "leadingProperty":"'+N+'/'+e.fn.Path+'", "additionalProperty":"'+N;if(!x){P+='", "sortProperty":"'+N+'/'+e.fn.Path;}if(!w){P+='", "filterProperty":"'+N+'/'+e.fn.Path;}}else{var v=g(C,e.fn.Path);var w=v.getFilterRestriction();var x=v.getSortRestriction();P+='", "leadingProperty":"'+e.fn.Path+'", "filterProperty":"'+e.fn.Path+'", "additionalProperty":"'+e.fn.Path;if(!x){P+='", "sortProperty":"'+N+'/'+e.fn.Path;}if(!w){P+='", "filterProperty":"'+N+'/'+e.fn.Path;}}}P+='", "navigationProperty":"'+N;var y=i.getInterface(1);var z=q._determineColumnIndex(y);if(z){P+='", "columnIndex":"'+z;}P+='" \\}';return P;},createP13NColumnForIndicator:function(i,C,e,D,j,r,s){var P="";var N="";var u=[];var M=i.getInterface(0).getModel();if(M){var v=M.getODataEntityType(C.entityType);if(v){N=q._getNavigationPrefix(M,v,s);}}var w=q.createP13NColumnKey(D);P='\\{"columnKey":"'+w;if(N){N=N+"/";}if(j.Value&&j.Value.Path){P+='", "leadingProperty":"'+N+j.Value.Path;u.push(N+j.Value.Path);}if(j.TargetValue&&j.TargetValue.Path){u.push(N+j.TargetValue.Path);}if(j.Criticality&&j.Criticality.Path){u.push(N+j.Criticality.Path);}if(u.length>0){var x="";u.forEach(function(H){if(x){x=x+",";}x=x+H;});P+='", "additionalProperty":"'+x;}var y=i.getInterface(2);var z=q._determineColumnIndex(y);if(z){P+='", "columnIndex":"'+z;}if(j&&j.Value&&j.Value.Path){var B=g(C,j.Value.Path);var F=B.getFilterRestriction();var G=B.getSortRestriction();if(!G){P+='", "sortProperty":"'+j.Value.Path;}if(!F){P+='", "filterProperty":"'+j.Value.Path;}}P+='" \\}';return P;},createP13NColumnForChart:function(i,C,D,e,s){var P="",j=[],N="";var M=i.getInterface(0).getModel();if(M){var r=M.getODataEntityType(C.entityType);if(r){N=q._getNavigationPrefix(M,r,s);}}var u=q.createP13NColumnKey(D);if(N){P='\\{"columnKey":"'+u+'", "leadingProperty":"'+N;N=N+"/";}else{P='\\{"columnKey":"'+u;}if(Array.isArray(e.Dimensions)){e.Dimensions.forEach(function(x){j.push(N+x.PropertyPath);});}if(Array.isArray(e.Measures)){e.Measures.forEach(function(x){j.push(N+x.PropertyPath);});}if(j.length>0){P+='", "additionalProperty":"'+j.join();}var v=i.getInterface(1);var w=q._determineColumnIndex(v);if(w){P+='", "columnIndex":"'+w;}P+='" \\}';return P;},createP13NColumnKey:function(D,C){var s="";var F="template";var e="::";if(D.RecordType==="com.sap.vocabularies.UI.v1.DataField"){s=D.Value.Path;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){s=F+e+"DataFieldWithIntentBasedNavigation"+e+D.SemanticObject.String+e+D.Action.String+e+D.Value.Path;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){s=F+e+"DataFieldWithNavigationPath"+e+D.Value.Path;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){s=F+e+"DataFieldForIntentBasedNavigation"+e+D.SemanticObject.String+e+D.Action.String;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){s=F+e+"DataFieldForAction"+e+D.Action.String;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(D.Target.AnnotationPath.indexOf('@com.sap.vocabularies.Communication.v1.Contact')>=0||D.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.DataPoint')>=0||D.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.FieldGroup')>=0||D.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.Chart')>=0){s=F+e+"DataFieldForAnnotation"+e+D.Target.AnnotationPath;s=s.replace('@','');}}return s;},createP13N:function(i,C,e,D,j,r){var P="",s=[],N="";if(D.RecordType==="com.sap.vocabularies.UI.v1.DataField"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(D.Value.Path){var u=q.createP13NColumnKey(D,e);P='\\{"columnKey":"'+u+'", "leadingProperty":"'+D.Value.Path;var M=i.getInterface(0).getModel();if(M){var v=M.getODataEntityType(C.entityType);if(v){if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){var T=q.getTextArrangement(v,D);if(T){P+='", "description":"'+e["com.sap.vocabularies.Common.v1.Text"].Path+'", "displayBehaviour":"'+T;}}N=q._getNavigationPrefix(M,v,D.Value.Path);if(N){N=N+"/";}}}}else if(D.Value.Apply&&D.Value.Apply.Name==="odata.concat"){D.Value.Apply.Parameters.forEach(function(H){if(H.Type==="Path"){if(!P){P='\\{"columnKey":"'+H.Value+'", "leadingProperty":"'+H.Value;}else{s.push(H.Value);}}});}if((e.type==="Edm.DateTime")&&(e["sap:display-format"]==="Date")){P+='", "type":"date';}else if(e.type==="Edm.String"){P+='", "type":"string';}if(D.Criticality&&D.Criticality.Path){s.push(D.Criticality.Path);}if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){s.push(N+e["com.sap.vocabularies.Common.v1.Text"].Path);}if(e["Org.OData.Measures.V1.ISOCurrency"]&&e["Org.OData.Measures.V1.ISOCurrency"].Path){s.push(N+e["Org.OData.Measures.V1.ISOCurrency"].Path);}if(e["Org.OData.Measures.V1.Unit"]&&e["Org.OData.Measures.V1.Unit"].Path){s.push(N+e["Org.OData.Measures.V1.Unit"].Path);}if(e["com.sap.vocabularies.Common.v1.FieldControl"]&&e["com.sap.vocabularies.Common.v1.FieldControl"].Path){s.push(N+e["com.sap.vocabularies.Common.v1.FieldControl"].Path);}if((D["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&D.Url&&D.Url.Apply&&D.Url.Apply.Parameters){D.Url.Apply.Parameters.forEach(function(H){if(H.Type==="LabeledElement"){s.push(H.Value.Path);}});}if((D["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&D.Url&&D.Url.Path){s.push(D.Url.Path);}if(s.length>0){var w="";s.forEach(function(H){if(w){w=w+",";}w=w+H;});P+='", "additionalProperty":"'+w;}var x=g(C,e.name);var y=x.getFilterRestriction();var z=x.getSortRestriction();var B=q.checkMultiplicityForDataFieldAssociationInTable(i,C,D);if(!z){if(B){P+='", "sortProperty":"'+"";}else if(N){P+='", "sortProperty":"'+N+e.name;}else{P+='", "sortProperty":"'+e.name;}}if(!y){if(B){P+='", "filterProperty":"'+"";}else{P+='", "filterProperty":"'+e.name;}}var F=i.getInterface(2);var G=q._determineColumnIndex(F);if(G>=0){P+='", "columnIndex":"'+G;}}return P+'" \\}';},hasActions:function(P){for(var i=0;i<P.length;i++){if((!P[i].Inline||P[i].Inline.Bool!=="true")&&(P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&P[i].RequiresContext&&P[i].RequiresContext.Bool==="true"))){return true;}}return false;},hasCustomActions:function(r,e,M,F){if(e&&M){if(F){if(M[e]){var j=M[e];if(j.EntitySet===e){var s=q.getStableIdPartFromFacet(F);if(!j.Sections){return false;}var u=j.Sections[s];if(u&&u.id===s&&u.Actions){for(var i in u.Actions){if(u.Actions[i].requiresSelection!==false){return true;}}}}}}else{if(M["sap.suite.ui.generic.template.ListReport.view.ListReport"]){M=M["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"];}else if(M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]){M=M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"];}if(M&&M[e]){var j=M[e];if(j.EntitySet===e){if(j.Actions){for(var i in j.Actions){if(j.Actions[i].requiresSelection!==false){return true;}}}}}}}return false;},getMultiSelectForTable:function(F,s,G){var e=s&&s[q.getStableIdPartFromFacet(F)];var M=(e&&e.multiSelect);if(M===true||(G===true&&M!==false)){return true;}return false;},getInlineDeleteForTable:function(F,s){var e=s&&s[q.getStableIdPartFromFacet(F)];return e&&e.tableSettings&&e.tableSettings.inlineDelete;},getSelectionModeForTable:function(e,r,M,F,s,i,j,I,G){var u=q.getMultiSelectForTable(F,s,G),v=(u)?"MultiToggle":"Single";if((q.hasActions(e)||q.hasCustomActions(j,r,M,F))){return v;}var D=i["Org.OData.Capabilities.V1.DeleteRestrictions"];if(!D||D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path)){return"{= "+((I)?"":"!")+"${ui>/editable} ? '"+v+"' : 'None' }";}return"None";},getSelectionModeResponsiveTable:function(e,r,M,F,s,i,j,I,G){var u=q.getMultiSelectForTable(F,s,G),v=q.getInlineDeleteForTable(F,s),T;if(u&&v){throw new Error("Both inlineDelete and multiSelect option for table are not possible");}if(u){T="MultiSelect";}else if(v){T="Delete";}else{T="SingleSelectLeft";}if(!v&&(q.hasActions(e)||q.hasCustomActions(j,r,M,F))){return T;}var D=i["Org.OData.Capabilities.V1.DeleteRestrictions"];if(!D||D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path)){return"{= "+((I)?"":"!")+"${ui>/editable} ? '"+T+"' : 'None' }";}return"None";},getSortOrder:function(P){var s='';for(var i=0;i<P.length;i++){if(!s){s=P[i].Property.PropertyPath;}else{s=s+', '+P[i].Property.PropertyPath;}if(P[i].Descending){s=s+' '+P[i].Descending.Bool;}}return s;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){L.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},getStableIdPartFromDataField:function(D){var P="",I="";if(D.RecordType&&D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return q.replaceSpecialCharsInId(D.Action.String);}else if(D.RecordType&&(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(D.SemanticObject.String){I=q.replaceSpecialCharsInId(D.SemanticObject.String);}else if(D.SemanticObject.Path){I=q.replaceSpecialCharsInId(D.SemanticObject.Path);}if(D.Action&&D.Action.String){I=I+"::"+q.replaceSpecialCharsInId(D.Action.String);}else if(D.Action&&D.Action.Path){I=I+"::"+q.replaceSpecialCharsInId(D.Action.Path);}return I;}else if(D.RecordType&&D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return q.replaceSpecialCharsInId(D.Target.AnnotationPath);}else if(D.Value&&D.Value.Path){return q.replaceSpecialCharsInId(D.Value.Path);}else if(D.Value&&D.Value.Apply&&D.Value.Apply.Name==="odata.concat"){for(var i=0;i<D.Value.Apply.Parameters.length;i++){if(D.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+q.replaceSpecialCharsInId(D.Value.Apply.Parameters[i].Value);}}return P;}else{L.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}},getStableIdPartFromDataPoint:function(D){var P="";if(D.Value&&D.Value.Path){return q.replaceSpecialCharsInId(D.Value.Path);}else if(D.Value&&D.Value.Apply&&D.Value.Apply.Name==="odata.concat"){for(var i=0;i<D.Value.Apply.Parameters.length;i++){if(D.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+q.replaceSpecialCharsInId(D.Value.Apply.Parameters[i].Value);}}return P;}else{L.error("Annotation Helper: Unable to create stable ID derived from annotations.");}},getStableIdPartFromFacet:function(F){var H="";if(typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0){H="headerEditable::";}if(F.RecordType&&F.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(F.ID&&F.ID.String){return H+F.ID.String;}else{L.error("Annotation Helper: Unable to create a stable ID. You have to set an ID at all collection facets.");return Math.floor((Math.random()*99999)+1).toString();}}else if(F.RecordType&&F.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(F.ID&&F.ID.String){return H+F.ID.String;}else{return H+q.replaceSpecialCharsInId(F.Target.AnnotationPath);}}else{L.error("Annotation Helper: Unable to create a stable ID. Please check the facet annotations.");return Math.floor((Math.random()*99999)+1).toString();}},getVisibilityForExtensionPointReplaceHeader:function(e,M){var s="ReplaceHeaderExtensionFacet|"+e;var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderExists:function(e,M){if(M){var s="ReplaceHeaderExtensionFacet|"+e;return M[s];}return false;},getVisibilityForExtensionPointNoImage:function(e,M){var s="NoImageExtensionFacet|"+e;var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointNoImageExists:function(e,M){if(M){var s="NoImageExtensionFacet|"+e;return M[s];}return false;},getVisibilityForExtensionPointAfterImage:function(e,M){var s="AfterImageExtensionFacet|"+e;var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterImageExists:function(e,M){if(M){var s="AfterImageExtensionFacet|"+e;return M[s];}return false;},getVisibilityForExtensionPointBeforeSimpleHeaderFacet:function(e,F,M,D){var s;var i=q.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=q.getStableIdPartFromDataPoint(D);}else{s=q.getStableIdPartFromDataField(D);}var I=i+"::"+s;var j="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;var r=M[j];if(r&&r['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeSimpleHeaderFacetExists:function(e,F,M,D){if(M){var s;var i=q.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=q.getStableIdPartFromDataPoint(D);}else{s=q.getStableIdPartFromDataField(D);}var I=i+"::"+s;var j="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[j];}return false;},getVisibilityForExtensionPointReplaceSimpleHeaderFacet:function(e,F,M,D){var s;var i=q.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=q.getStableIdPartFromDataPoint(D);}else{s=q.getStableIdPartFromDataField(D);}var I=i+"::"+s;var j="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;var r=M[j];if(r&&r['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceSimpleHeaderFacetExists:function(e,F,M,D){if(M){var s;var i=q.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=q.getStableIdPartFromDataPoint(D);}else{s=q.getStableIdPartFromDataField(D);}var I=i+"::"+s;var j="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[j];}return false;},getVisibilityForExtensionPointAfterSimpleHeaderFacet:function(e,F,M,D){var s;var i=q.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=q.getStableIdPartFromDataPoint(D);}else{s=q.getStableIdPartFromDataField(D);}var I=i+"::"+s;var j="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;var r=M[j];if(r&&r['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterSimpleHeaderFacetExists:function(e,F,M,D){if(M){var s;var i=q.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=q.getStableIdPartFromDataPoint(D);}else{s=q.getStableIdPartFromDataField(D);}var I=i+"::"+s;var j="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[j];}return false;},getVisibilityForExtensionPointBeforeHeaderFacet:function(e,F,M){var s="BeforeHeaderFacet|"+e+"|headerEditable::"+q.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeHeaderFacetExists:function(e,F,M){if(M){var s="BeforeHeaderFacet|"+e+"|headerEditable::"+q.getStableIdPartFromFacet(F);return M[s];}return false;},getVisibilityForExtensionPointReplaceHeaderFacet:function(e,F,M){var s="ReplaceHeaderFacet|"+e+"|headerEditable::"+q.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderFacetExists:function(e,F,M){if(M){var s="ReplaceHeaderFacet|"+e+"|headerEditable::"+q.getStableIdPartFromFacet(F);return M[s];}return false;},getVisibilityForExtensionPointAfterHeaderFacet:function(e,F,M){var s="AfterHeaderFacet|"+e+"|headerEditable::"+q.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterHeaderFacetExists:function(e,F,M){if(M){var s="AfterHeaderFacet|"+e+"|headerEditable::"+q.getStableIdPartFromFacet(F);return M[s];}return false;},extensionPointBeforeHeaderDataPointExists:function(e,D,M){if(M){var s="BeforeHeaderDataPoint|"+e+"|"+q.getStableIdPartFromDataPoint(D);return M[s];}return false;},extensionPointReplaceHeaderDataPointExists:function(e,D,M){if(M){var s="ReplaceHeaderDataPoint|"+e+"|"+q.getStableIdPartFromDataPoint(D);return M[s];}return false;},extensionPointAfterHeaderDataPointExists:function(e,D,M){if(M){var s="AfterHeaderDataPoint|"+e+"|"+q.getStableIdPartFromDataPoint(D);return M[s];}return false;},getObjectPageExtensions:function(C){var M=C.getObject();for(var e in M){if(e.split('|').length===4&&!(M[e]['sap.ui.generic.app']&&M[e]['sap.ui.generic.app']['key'])){d(M[e],{'sap.ui.generic.app':{'key':e.split('|')[3]}});}}C.getModel().setProperty("/manifestViewExtensions",M);return"/manifestViewExtensions";},extensionPointBeforeFacetExists:function(e,F,M){if(M){var s="BeforeFacet|"+e+"|"+q.getStableIdPartFromFacet(F);var i=Object.keys(M);for(var j in i){if(i[j].indexOf(s)>-1){return true;}}}return false;},getExtensions:function(C){var M=C.getObject();var e=Object.keys(M);var i=C.getModel();i.setProperty("/extensionKeys",e);return"/extensionKeys";},isCurrentManifestEntryForBeforeFacet:function(M,e,F){if(M){var s="BeforeFacet|"+e+"|"+q.getStableIdPartFromFacet(F);return M.indexOf(s)>-1;}return false;},isCurrentManifestEntryForAfterFacet:function(M,e,F){if(M){var s="AfterFacet|"+e+"|"+q.getStableIdPartFromFacet(F);return M.indexOf(s)>-1;}return false;},isManifestKeyLegacy:function(M){if(M){return(M.split('|').length===3);}return false;},extensionPointAfterFacetExists:function(e,F,M){if(M){var s="AfterFacet|"+e+"|"+q.getStableIdPartFromFacet(F);var i=Object.keys(M);for(var j in i){if(i[j].indexOf(s)>-1){return true;}}}return false;},extensionPointBeforeSubSectionExists:function(e,F,M){if(M){var s="BeforeSubSection|"+e+"|"+q.getStableIdPartFromFacet(F);return M[s];}return false;},extensionPointAfterSubSectionExists:function(e,F,M){if(M){var s="AfterSubSection|"+e+"|"+q.getStableIdPartFromFacet(F);return M[s];}return false;},extensionPointReplaceSubSectionExists:function(e,F,M){if(M){var s="ReplaceSubSection|"+e+"|"+q.getStableIdPartFromFacet(F);return M[s];}return false;},getExtensionPointFacetTitle:function(M,e){var i=e[M];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointAfterFacetTitle:function(e,F,M){var s="AfterFacet|"+e+"|"+q.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointBeforeSubSectionTitle:function(e,F,M){var s="BeforeSubSection|"+e+"|"+q.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointAfterSubSectionTitle:function(e,F,M){var s="AfterSubSection|"+e+"|"+q.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointReplaceSubSectionTitle:function(e,F,M){var s="ReplaceSubSection|"+e+"|"+q.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},isExtensionPointBeforeSubSectionLazyLoadingEnabled:function(e,F,M){return E("BeforeSubSection|"+e+"|"+q.getStableIdPartFromFacet(F),M);},isExtensionPointAfterSubSectionLazyLoadingEnabled:function(e,F,M){return E("AfterSubSection|"+e+"|"+q.getStableIdPartFromFacet(F),M);},isExtensionPointReplaceSubSectionLazyLoadingEnabled:function(e,F,M){return E("ReplaceSubSection|"+e+"|"+q.getStableIdPartFromFacet(F),M);},isExtensionPointFacetLazyLoadingEnabled:function(M,e){return E(M,e);},isExtensionPointAfterFacetLazyLoadingEnabled:function(e,F,M){return E("AfterFacet|"+e+"|"+q.getStableIdPartFromFacet(F),M);},isExtensionPointReplaceFacetLazyLoadingEnabled:function(e,F,M){return E("ReplaceFacet|"+e+"|"+q.getStableIdPartFromFacet(F),M);},getRepeatIndex:function(v){if(v&&v.getPath()){var P="0000000000";var s=P+((parseInt(v.getPath().substring(v.getPath().lastIndexOf("/")+1),10)+1)*10).toString();return s.substr(s.length-P.length);}else{L.error("Annotation Helper: Unable to get index.");}},getColumnListItemType:function(e,s,M,i,I,j){var r=i&&i.routeConfig&&i.routeConfig.name;var u=r==="root";var v=u&&s.some(function(x){return x.navigationProperty;});var w=I||u;return k(e,s,M,j,w,false,v);},getRowActionCountForDetailPage:function(e,s,M,i,I){return l(e,s,M,i,I);},getRowActionCountForListReport:function(e,s,M,i){return l(e,s,M,"",true);},hasSubObjectPage:function(e,s){return h(e,s);},isRelatedEntityCreatable:function(I,s,r,e,F,j,u){var v=false;var M=I.getInterface(0).getModel();var w=s["Org.OData.Capabilities.V1.InsertRestrictions"];var x=M.getODataEntityType(s.entityType);var y;var z;if(q.hasSubObjectPage(r,e)||(j&&q.isInlineCreate(F,j))){if(u){v="{= ${ui>/editable}}";}else{v="{= !${ui>/editable}}";}y=q.handleNavigationRestrictions(M,s,r,"Insertable");if(y&&y["Insertable"]){if(y["Insertable"].Path){z=y["Insertable"].Path;v=u?"{= ${ui>/editable} ? ${"+z+"} : false}":"{= !${ui>/editable} ? ${"+z+"} : false}";}}else if(w&&w.NonInsertableNavigationProperties&&w.NonInsertableNavigationProperties.length>0){for(var i=0;i<w.NonInsertableNavigationProperties.length;i++){var N=w.NonInsertableNavigationProperties[i];var B=q._getNonInsertableNavigationPropertyPath(N);if(B){var C=M.getODataAssociationSetEnd(x,B);if(C&&C.entitySet===r.name){if(N.If&&N.If.length===2){var D=N.If[0];z=D.Not?D.Not.Path:D.Path;if(m(M,s.entityType,z)){q._actionControlExpand(I,z,x.name);if(u){if(D.Not){v="{= ${ui>/editable} ? ${"+z+"} : false}";}else{v="{= ${ui>/editable} ? !${"+z+"} : false}";}}else{if(D.Not){v="{= !${ui>/editable} ? ${"+z+"} : false}";}else{v="{= !${ui>/editable} ? !${"+z+"} : false}";}}}else{v=false;L.warning("Creatable-Path is not valid. Creation for "+r.name+" is disabled");}}else{v=false;}break;}}}}}return v;},_getNonInsertableNavigationPropertyPath:function(N){var s;if(N.NavigationPropertyPath){s=N.NavigationPropertyPath;}else if(N.If){s=N.If[1].NavigationPropertyPath;}return s;},areBooleanRestrictionsValidAndPossible:function(i,r,e,s,j,O){var u;var M=i.getInterface(0).getModel();var v=e.entityType;var w,x,y;if(j){u=M.getODataEntitySet(j);y=u.entityType;}var z=q.handleNavigationRestrictions(M,u,e,s);if(z){w=z[s];x=y;}else{w=r&&r[s];x=v;}var V=!w||(w.Bool?!w.Path:(!!w.Path&&m(M,x,w.Path)));if(!V){L.error("Service Broken: Restrictions annotations for entity type "+v+" for section '"+s+"' are invalid.");}return V&&(!!O||!w||w.Bool!=="false");},handleNavigationRestrictions:function(M,s,r,e){if(!s){return false;}var j={"Insertable":"InsertRestrictions","Deletable":"DeleteRestrictions","Updatable":"UpdateRestrictions"};var i,N;var u=s["Org.OData.Capabilities.V1.NavigationRestrictions"];if(u&&u.RestrictedProperties){var v=u.RestrictedProperties;for(i in v){N=v[i];var w=M.getODataEntityType(s.entityType);var x=N.NavigationProperty.NavigationPropertyPath;var y=M.getODataAssociationSetEnd(w,x);if(y&&y.entitySet===r.name&&N[j[e]]){return N[j[e]];}}}return false;},_isPropertyPathBoolean:function(M,e,P){return m(M,e,P);},actionControl:function(i,s,e,D){if(D["com.sap.vocabularies.UI.v1.Hidden"]){return q.getBindingForHiddenPath(D);}else{q._actionControlExpand(i,s,e);if(s){return"{path: '"+s+"'}";}else{return"true";}}},_actionControlExpand:function(i,P,e){var r=[],s;i=i.getInterface(0);var M=i.getModel();var u=M.getODataEntityType(e);if(P){s=q._getNavigationPrefix(M,u,P);if(s){r.push(s);}}if(r.length>0){var v=i.getSetting("preprocessorsData");if(v){var w=v.rootContextExpand||[];for(var j=0;j<r.length;j++){if(w.indexOf(r[j])===-1){w.push(r[j]);}}v.rootContextExpand=w;}}},getEntityTypesForFormPersonalization:function(i,F,e){i=i.getInterface(0);var j=[];var M=i.getModel();var r=M.getODataEntitySet(e.name||'');var s=[];if(F.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"&&F.Facets){s=F.Facets;}else if(F.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){s.push(F);}s.forEach(function(F){var N;if(F.Target&&F.Target.AnnotationPath&&F.Target.AnnotationPath.indexOf("/")>0){N=F.Target.AnnotationPath.split("/")[0];var u=M.getODataEntityType(r.entityType);var v=M.getODataAssociationSetEnd(u,N);if(v&&v.entitySet){r=M.getODataEntitySet(v.entitySet);if(j.indexOf(r.entityType.split(".")[1])===-1){j.push(r.entityType.split(".")[1]);}}}else{if(j.indexOf(e.entityType.split(".")[1])===-1){j.push(e.entityType.split(".")[1]);}}});return j.join(", ");},_mapTextArrangement4smartControl:function(T){var s="descriptionAndId";switch(T){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":s="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":s="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":s="descriptionOnly";break;default:break;}return s;},getTextArrangementForSmartControl:function(i,F,r,e){i=i.getInterface(0);var j;var M=i.getModel();if(r.name==undefined){j=M.getODataEntityType(e.entityType);}else{j=M.getODataEntityType(r.entityType);}var T="descriptionAndId";if(M.getODataProperty(j,F.Value.Path)){var P=M.getODataProperty(j,F.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=q._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(j["com.sap.vocabularies.UI.v1.TextArrangement"]&&j["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=q._mapTextArrangement4smartControl(j["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}return T;},getTableTitle:function(F,e,H){var P=null;var j=new Map();var r=new RegExp("'",'g');var s=new RegExp('"','g');var G=function(F,P){for(var i=0;i<F.length;i++){if(F[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){G(F[i].Facets,F[i].Label.String);}else if(F[i].RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&F[i].Target&&F[i].Target.AnnotationPath.indexOf("LineItem")>-1){if(P!==null){j.set(F[i].Target.AnnotationPath,P);}else{j.set(F[i].Target.AnnotationPath,F[i].Label.String);}}}};G(F,P);var u=j.get(e.Target.AnnotationPath);u=u.replace(r,"\\'");u=u.replace(s,'\\"');if(u.indexOf(">")>-1){u="@i18n>"+u.split(">")[1].split("}")[0];}else{u="@i18n>"+u;}if(H&&H.TypeNamePlural&&H.TypeNamePlural.String){var T=H.TypeNamePlural.String;T=T.replace(r,"\\'");T=T.replace(s,'\\"');if(T===''){return"";}else if(T.indexOf(">")>-1){T="@i18n>"+T.split(">")[1].split("}")[0];}else{T="@i18n>"+T;}return"{parts: [{path: '"+T+"'}, {path: '"+u+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatTableTitle'}";}else{return"";}},formatTableTitle:function(T,s){if(T&&T!==s){return T;}return"";},getTitle:function(s,e,N){var r;var T=q.getTextArrangementObject(s,e,N);if(T){r=q.getTitleTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return r;},getDescription:function(s,e,N){var r;var T=q.getTextArrangementObject(s,e,N);if(T){r=q.getDescriptionTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return r;},getTextArrangementObject:function(s,e,N){var T,P,i;if(e){P=e.name;var j=e["com.sap.vocabularies.Common.v1.Text"];if(j){i=j.Path;}T=q.getTextArrangement(s,e);return{textArrangement:T,propertyPath:P,textPath:i};}},getTextArrangement:function(e,F){var T;if(F["com.sap.vocabularies.UI.v1.TextArrangement"]&&F["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=q._mapTextArrangement4smartControl(F["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}if(!T){var P=F["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=q._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){if(e&&e["com.sap.vocabularies.UI.v1.TextArrangement"]&&e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=q._mapTextArrangement4smartControl(e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){T="descriptionAndId";}return T;},getTitleTextArrangementBindingPath:function(T,P,s){var e="{"+P+"}";var i="{"+s+"}";if(!s){return e;}if(T==="descriptionAndId"){return i;}else if(T==="descriptionOnly"){return i;}else if(T==="idAndDescription"){return e;}else if(T==="idOnly"){return e;}},getDescriptionTextArrangementBindingPath:function(T,P,s){var e="{"+P+"}";var i="{"+s+"}";if(!s){return"";}if(T==="descriptionAndId"){return e;}else if(T==="descriptionOnly"){return"";}else if(T==="idAndDescription"){return i;}else if(T==="idOnly"){return"";}},isDeepFacetHierarchy:function(F){if(F.Facets){for(var i=0;i<F.Facets.length;i++){if(F.Facets[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){return true;}}}return false;},doesCollectionFacetOnlyContainForms:function(F){var r=true;if(F.Facets){for(var i=0;i<F.Facets.length;i++){if(F.Facets[i].Target&&F.Facets[i].Target.AnnotationPath){if((F.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")<0)&&(F.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Identification")<0)&&(F.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.DataPoint")<0)){r=false;}}}}else{r=false;}return r;},doesFieldGroupContainOnlyOneMultiLineDataField:function(F,e){if(F.Data.length!==1){return false;}if((e['com.sap.vocabularies.UI.v1.MultiLineText']===undefined)||(F.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField")){return false;}return true;},testFormatter:function(v){return"formatted:"+v;},getFacetID:function(e,F){return e+"|"+q.getStableIdPartFromFacet(F);},isListReportTemplate:function(r){if(r){return r.template==="sap.suite.ui.generic.template.ListReport";}},isAnalyticalListPageOrListReportTemplate:function(r){if(r){return(r.template==="sap.suite.ui.generic.template.AnalyticalListPage"||r.template==="sap.suite.ui.generic.template.ListReport");}},getStableIdPartForDatafieldActionButton:function(D,F,T,C){var s="";var e="";var i="";if(F){i=q.getStableIdPartFromFacet(F);}if(D){e=q.getStableIdPartFromDataField(D);}s=(i!==""?i+"::":"")+"action::"+e;var j=q.getSuffixFromIconTabFilterKey(T);if(j){s=s.concat(j);}if(C){s=s+"::chart";}return s;},_hasCustomDeterminingActionsInListReport:function(e,M){if(M&&M[e]){var i=M[e];if(i.Actions){for(var j in i.Actions){if(i.Actions[j].determining){return true;}}}}return false;},hasDeterminingActionsRespectingApplicablePath:function(C,T,e,M){var s="";C=C.getInterface(0);if(e&&M&&M["sap.suite.ui.generic.template.ObjectPage.view.Details"]){var i=M["sap.suite.ui.generic.template.ObjectPage.view.Details"]["sap.ui.generic.app"];if(i&&i[e]){var j=i[e];if(j.Header&&j.Header.Actions){for(var r in j.Header.Actions){if(j.Header.Actions[r].determining){if(j.Header.Actions[r].applicablePath){if(s.length>0){s+=" || ";}s+="${path: '"+j.Header.Actions[r].applicablePath+"'}";}else{return true;}}}}}}if(T){for(var u=0;u<T.length;u++){if((T[u].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction")&&T[u].Determining&&T[u].Determining.Bool==="true"){var F=C.getModel().getODataFunctionImport(T[u].Action.String,true);var v=C.getModel().getObject(F);if(v["sap:applicable-path"]){if(s.length>0){s+=" || ";}s+="${path: '"+v["sap:applicable-path"]+"'}";}else{return"true";}}}}if(s.length>0){return"{= "+s+" || ${ui>/editable}}";}else{return"{ui>/editable}";}},hasDeterminingActions:function(T,e,M){if(e&&M&&M["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&q._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true";}else if(e&&M&&M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&q._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true";}for(var r=0;r<T.length;r++){if((T[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||T[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&T[r].Determining&&T[r].Determining.Bool==="true"){return"true";}}return"false";},actionControlDetermining:function(r,s,D){if(D["com.sap.vocabularies.UI.v1.Hidden"]){return q.getBindingForHiddenPath(D);}else if(q.isListReportTemplate(r)||!s){return true;}else{return"{path: '"+s+"'}";}},actionControlInline:function(s){if(!s){return true;}else{return"{path: '"+s+"'}";}},buildExpressionForProgressIndicatorPercentValue:function(i,e,u){var P="0";if(e.Value&&e.Value.Path){var v="$"+sap.ui.model.odata.AnnotationHelper.format(i,e.Value);var T,U;if(e.TargetValue){T=sap.ui.model.odata.AnnotationHelper.format(i,e.TargetValue);T=e.TargetValue.Path?"$"+T:T;}if(u){u=u['Org.OData.Measures.V1.Unit']||u["Org.OData.Measures.V1.ISOCurrency"];if(u){U=sap.ui.model.odata.AnnotationHelper.simplePath(i,u);U=U&&u.Path?"$"+U:"'"+U+"'";}}var s="({0} > 100 ? 100 : {0} < 0 ? 0 : {0} * 1)";var j="(({1}*1 > 0) ? (({0}*1 > {1}*1) ? 100 : (({0}*1 < 0) ? 0 : ({0} / {1} * 100))) : 0)";var r="'{'= ({2} === ''%'') ? "+s+" : "+j+" '}'";P=f(r,[v,T,U]);}return P;},buildExpressionForProgressIndicatorDisplayValue:function(i,e,u){var P;var j=function(i,r){var s=q.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(i,r));var v="{path: '"+s+"'}";return v;};P=j(i,e.Value)+", "+j(i,e.TargetValue)+", "+j(i,u);var D="{ parts: ["+P+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return D;},getProgressIndicatorTooltip:function(i,u){if(u&&u['com.sap.vocabularies.Common.v1.QuickInfo']&&u['com.sap.vocabularies.Common.v1.QuickInfo'].String){return u['com.sap.vocabularies.Common.v1.QuickInfo'].String;}else{return'';}},formatDisplayValue:function(v,T,u){var D="";if(v!==null&&v!==undefined){v=v.toString();}if(v){var C=this;var r=C.getModel("i18n").getResourceBundle();var e=C.getCustomData();var i=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();v=sap.ui.core.format.NumberFormat.getInstance(i).format(v);T=T||e.filter(function(O){if(O.getKey()==="Target"){return O;}});T=typeof(T)==="object"?(T[0]&&T[0].getValue()):T;u=u||e.filter(function(O){if(O.getKey()==="UoM"){return O;}});u=typeof(u)==="object"?(u[0]&&u[0].getValue()):u;if(u){if(u==='%'){D=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[v]);}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(i).format(T);D=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[v,T,u]);}else{D=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[v,u]);}}}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(i).format(T);D=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[v,T]);}else{D=v;}}}else{L.warning("Value property is mandatory, the default (empty string) will be returned");}return D;},buildExpressionForProgressIndicatorCriticality:function(i,e){var F=sap.ui.core.ValueState.None;var s;var C=e.Criticality;if(C){s="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(C.Path){var j='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,C);F=f(s,j);}else if(C.EnumMember){var r="'"+C.EnumMember+"'";F=f(s,r);}else{L.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{L.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return F;},trimCurlyBraces:function(v){return v?v.replace("{","").replace("}",""):undefined;},getEntitySetName:function(r,e){var s="";try{s=r.name||e.name;}catch(i){L.warning("At least one of the input parameters is undefined. Returning default value for entity set name.");}return s;},getBreakoutActionEnabledKey:function(e,T){var B=q.getBreakoutActionButtonId(e,T);var s="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+B+"/enabled}";return s;},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(D){if(D["com.sap.vocabularies.UI.v1.Hidden"]){return q.getBindingForHiddenPath(D);}else if(!!D.RequiresContext&&D.RequiresContext.Bool=="false"&&(!D.Inline||D.Inline.Bool==="false")){var s=D.SemanticObject.String;var e=D.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+s+"/"+e+"/visible}}";}else{return true;}},searchForFirstSemKey_Title_Description:function(e){var s,T,j,r,u,M,v,D,w,x,y,F,z,H,B,C,G,i;if(!e){return;}s=e.getPath();if(s.indexOf("com.sap.vocabularies.UI.v1.LineItem")<0){return;}j=s&&s.lastIndexOf("/");r=s.substring(0,j);u=s.substring(j+1);M=e.getModel();y=M&&M.getObject(r);if(y){F=y["com.sap.vocabularies.Common.v1.SemanticKey"]&&y["com.sap.vocabularies.Common.v1.SemanticKey"][0]&&y["com.sap.vocabularies.Common.v1.SemanticKey"][0].PropertyPath;z=y[u];H=y["com.sap.vocabularies.UI.v1.HeaderInfo"];B="";C="";if(H){B=H&&H["Title"]&&H["Title"].Value&&H["Title"].Value.Path;C=H&&H["Description"]&&H["Description"].Value&&H["Description"].Value.Path;}G=z&&z.length;T=s+"/";for(i=0;i<G;i++){if(z[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&z[i].Value.Path===F){if(q.isPropertyHidden(z[i])){continue;}T=T+i+'/Value/Path';return T;}if(z[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&z[i].Value.Path===B){if(q.isPropertyHidden(z[i])){continue;}v=true;x=i;}if(z[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&z[i].Value.Path===C){if(q.isPropertyHidden(z[i])){continue;}D=true;w=i;}}if(v){T=T+x+'/Value/Path';return T;}else if(D){T=T+w+'/Value/Path';return T;}}else{L.warning("No entity type provided");}},isPropertyHidden:function(e){var H=false;if(e["com.sap.vocabularies.UI.v1.Hidden"]||(e["com.sap.vocabularies.Common.v1.FieldControl"]&&e["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember&&e["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden")){H=true;}return H;},getColumnHeaderText:function(D,e){var r;if(e.Label){return e.Label.String;}else{r=D["sap:label"]||(D["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}},getColumnToolTip:function(D,e){var r;if(e.Label){return e.Label.String;}else{r=D["sap:quickinfo"]||(D["com.sap.vocabularies.Common.v1.QuickInfo"]||"").String||D["sap:label"]||(D["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}},getTextForDataField:function(D){var v=D["com.sap.vocabularies.Common.v1.Text"]&&D["com.sap.vocabularies.Common.v1.Text"].Path;return v;},getColumnCellFirstText:function(D,e,i,C){var r,T;T=q.getTextArrangement(i,D);switch(T){case"idAndDescription":r=e.Value.Path;if(!r){r=q.getTextForDataField(D);}break;case"idOnly":r=e.Value.Path;if(!r){r=q.getTextForDataField(D);}break;case"descriptionAndId":case"descriptionOnly":default:r=q.getTextForDataField(D);if(!r){r=e.Value.Path;}break;}if(r){if(C){return true;}else{if(D.type==="Edm.DateTimeOffset"||D.type==="Edm.DateTime"||D.type==="Edm.Time"){var F=q.formatDateTimeForCustomColumn(D.type,r);return F;}else{return"{"+r+"}";}}}},getColumnCellSecondText:function(D,e,i,C){var r;r=q.getTitlePath(D,e,i);if(r){if(C){return true;}else{if(D.type==="Edm.DateTimeOffset"||D.type==="Edm.DateTime"||D.type==="Edm.Time"){var F=q.formatDateTimeForCustomColumn(D.type,r);return F;}else{return"{"+r+"}";}}}},getTitlePath:function(D,e,i){var r,T;T=q.getTextArrangement(i,D);switch(T){case"idOnly":case"descriptionOnly":break;case"idAndDescription":if(!e.Value.Path){break;}r=q.getTextForDataField(D);break;case"descriptionAndId":default:if(!q.getTextForDataField(D)){break;}r=e.Value.Path;break;}return r;},getHeaderVisibility:function(D,e,i){var T,s;T=q.getTitlePath(D,e,i);if(!T){if(D.type==="Edm.DateTimeOffset"||D.type==="Edm.DateTime"||D.type==="Edm.Time"){T=q.getColumnCellFirstText(D,e,i);return"{= "+T+" ? false : true}";}else{T=q.getColumnCellFirstText(D,e,i).replace("{","").replace("}","");}}else{s=q.getTextArrangement(i,D);if(!s||s==="descriptionAndId"){T=q.getColumnCellFirstText(D,e,i).replace("{","").replace("}","");}if(s==="idAndDescription"){T=q.getTitlePath(D,e,i);}}if(T){return"{= ${path: '"+T+"'} ? false : true}";}return false;},formatDateTimeForCustomColumn:function(D,r){if(D==="Edm.DateTimeOffset"){return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.DateTimeOffset', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else if(D==="Edm.DateTime"){return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else{return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.Time', formatOptions: { style: 'medium'}}";}},getAdditionalSemanticObjects:function(D){var e;var i=[];for(e in D){if(e.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")!=-1){i.push(D[e].String);}}if(i.length>0){return i;}},getColumnCellFirstTextVisibility:function(D,e,i){var C=true;var v=!!q.getColumnCellFirstText(D,e,i,C);return v;},getColumnCellSecondTextVisibility:function(D,e,i){var C=true;var v=!!q.getColumnCellSecondText(D,e,i,C);return v;},isSmartLink:function(D){var e;for(e in D){if(e.indexOf('com.sap.vocabularies.Common.v1.SemanticObject')>=0){return true;}}return false;},setRowHighlight:function(T,s,C){var e=(T.entitySet===s)?T.isDraft:(T.isDraft||T.level===0)&&C(s);var i=T.level>0&&(e||!T.isDraft);var D=e?"{path: 'IsActiveEntity'}, {path: 'HasActiveEntity'}":"{value: true}, {value: true}";var M=i?"{path: 'ui>/editable'}, {path: '_templPrivMessage>'}":"{value: false}, {value: ''}";return"{parts: ["+D+", "+M+", {path: ''}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.setInfoHighlight'}";},setInfoHighlight:function(e,j,r){var s=this.getBindingContext();if(!s){return"None";}var M="None";var u=sap.ui.core.MessageType;if(r){var v=s.getMessages();for(var i=0;i<v.length;i++){var w=v[i];var T=w.getType();if(T===u.Error){return"Error";}if(T===u.Warning){M="Warning";}else if(T===u.Information&&M!==u.Warning){M="Information";}}}if(e===false&&j===false){return M==="None"?"Information":M;}var C=p(this,s);return(C==="Error"||C==="Warning"||M==="None")?C:M;},getGroupElementQualifier:function(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="sap-ui-custom-settings"){var e=C[i].getValue()['sap.ui.dt'].annotation;if(typeof e=="string"){e=JSON.parse(e);}if(e){return(e.value[0]=="@")?e.value.substring(1):e.value;}else{return null;}}}return null;},getDataFieldLabel:function(i,D,e){var r;if(e.Label){return sap.ui.model.odata.AnnotationHelper.format(i,e.Label);}else{r=D["sap:label"]||(D["com.sap.vocabularies.Common.v1.Label"]||"").String||"";if(r===""){var j=(D.extensions)?D.extensions.find(function(s){return s.name==="label";}):null;if(j!==undefined&&j!==null){if(j.length!==undefined&&j.length>0){r=j[0].value;}else{r=j.value;}}else{r="";}}return r;}},getDataFieldValue:function(i,D,M){if(D&&!D.Path&&!D.Apply&&!D.String){return"";}var r=A.format(i.getModel()?i:i.getInterface(0),D);if(M){r=r.replace("{","{ mode:'"+M+"', ");}return r;},getDataFieldValueSimplePath:function(i,D,M){if(D&&!D.Path&&!D.Apply&&!D.String){return"";}var r=A.simplePath(i.getModel()?i:i.getInterface(0),D);if(M){r=r.replace("{","{ mode:'"+M+"', ");}return r;},formatObjectMarker:function(e,i,j){if(e&&i&&j){return sap.m.ObjectMarkerType.Locked;}else if(e&&i&&!j){return sap.m.ObjectMarkerType.Unsaved;}else{return sap.m.ObjectMarkerType.Flagged;}},formatObjectMarkerVisibility:function(e,i,j){if(e&&i&&j){return true;}else if(e&&i&&!j){return true;}else{return false;}},setNoDataTextForSmartTable:function(e,s){s="::"+e+"--"+s;return"{parts: [{value: '"+s+"'}], formatter: '._templateFormatters.setNoDataTextForSmartTable'}";},getRelevantDataForAnnotationRecord:function(M,D,e){var N,i;while(D.indexOf('/')>-1){N=D.split("/")[0];D=D.split('/').slice(1).join('/');i=M.getODataAssociationEnd(e,N);e=M.getODataEntityType(i&&i.type);}return{"entityType":e,"association":i,"dataFieldValuePath":D};},getTextArrangementForSCFields:function(I,F,e,C){var M=I.getInterface(0).getModel();var r=M.getODataEntityType(e.entityType);var D=F.Value.Path;r=q.getRelevantDataForAnnotationRecord(M,F.Value.Path,r).entityType;var P=r.property||[];var s,T;for(var i=0;i<P.length;i++){if(D===P[i].name){s=P[i]["sap:text"];break;}}for(var j=0;j<C.length;j++){if(C[j].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[j].Value.Path===s){return"idOnly";}}T=q.getTextArrangementForSmartControl(I,F,{},e);return T;},checkMultiplicityForDataFieldAssociation:function(i,e,D){if(D.Value&&D.Value.Path){var s=D.Value.Path;var M=i.getModel(0);var j=M.getODataEntityType(e.entityType);var r;if(!(s.indexOf('/')>-1)){return true;}while(s.indexOf('/')>-1){var N=s.split("/")[0];s=s.split('/').slice(1).join('/');j=M.getODataEntityType(r&&r.type)||j;r=M.getODataAssociationEnd(j,N);}if(r&&r.multiplicity==="*"){return false;}}return true;},checkMultiplicityForDataFieldAssociationInTable:function(i,e,D){if(D.Value&&D.Value.Path){var s=D.Value.Path;var M=i&&i.getModel&&i.getModel(0);var j=M&&M.getODataEntityType&&M.getODataEntityType(e.entityType);var r;if(!(s.indexOf('/')>-1)||!j){return false;}while(s.indexOf('/')>-1){var N=s.split("/")[0];s=s.split('/').slice(1).join('/');j=M.getODataEntityType(r&&r.type)||j;r=M.getODataAssociationEnd(j,N);}if(r&&r.multiplicity==="*"){return true;}}return false;},hasQuickViewFacet:function(I,e){var M=I.getModel();var r=M.getODataEntityType(e.entityType);var P=[];var s=[];var u,T,v,N,F;if(!r||!r.navigationProperty){return'\\{\\}';}var w=r.property||[];for(var i=0;i<w.length;i++){if(w[i]["com.sap.vocabularies.Common.v1.SemanticObject"]){P.push(w[i].name);}}for(var i=0;i<r.navigationProperty.length;i++){if(r.navigationProperty.name==="SiblingEntity"||r.navigationProperty.name==="DraftAdministrativeData"){continue;}T=M.getODataEntityType(M.getODataAssociationEnd(r,r.navigationProperty[i].name).type);if(T["com.sap.vocabularies.UI.v1.QuickViewFacets"]){v=M.getObject("/dataServices/schema");N=T.namespace;for(var j in v){if(v[j].namespace===N){u=v[j];break;}}var x;var y=u.association;var Q=r.navigationProperty[i].relationship;var z=Q.lastIndexOf(".");var B=Q.slice(z+1);for(var j in y){if(y[j].name===B){x=y[j];break;}}var C=(x.referentialConstraint&&x.referentialConstraint.dependent&&x.referentialConstraint.dependent.propertyRef)||[];for(var j=0;j<C.length;j++){if(P.indexOf(C[j].name)!==-1){s.push(C[j].name);}}}}if(s.length){F='\\{';for(var i=0;i<s.length;i++){F+='"'+s[i]+'":"true",';}return F.slice(0,-1)+'\\}';}else{return'\\{\\}';}},buildHeaderInfoCustomData:function(i,D){var H="";var v="";var I;var e;if(D&&D.Title&&D.Title.Value){H=D.Title.Value.Path?D.Title.Value.Path:(D.Title.Value.String||"");I=D.Title.Value.Path?true:false;e=false;if(D&&D.Description&&D.Description.Value){v=D.Description.Value.Path?D.Description.Value.Path:(D.Description.Value.String||"");e=D.Description.Value.Path?true:false;}}return'\{"headerTitle":"'+H+'"\,"isHeaderTitlePath":'+I+'\,"headerSubTitle":"'+v+'"\,"isHeaderSubTitlePath":'+e+'\}';},getPresentationVariantQualifier:function(e,v){var V=e[v];if(V.Visualizations||V.SortOrder){return v.split("#")[1]||"";}else if(V.PresentationVariant&&(V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath)){var s=V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath;return s.split("#")[1]||"";}else if(V.PresentationVariant){return"";}},getPresentationVariantInitialExpansionLevel:function(e,v){var V=e[v];var P=q.getPresentationVariant(V,e);if(P.InitialExpansionLevel){return P.InitialExpansionLevel.Int;}}};q.setAriaText.requiresIContext=true;q.getLinkTextForDFwithIBN.requiresIContext=true;q.getLabelForDFwithIBN.requiresIContext=true;q.isPropertySemanticKey.requiresIContext=true;q.getRepeatIndex.requiresIContext=true;q.suppressP13NDuplicateColumns.requiresIContext=true;q.formatWithExpand.requiresIContext=true;q.formatWithExpandSimple.requiresIContext=true;q.getNavigationPathWithExpand.requiresIContext=true;q.getFormGroupBindingString.requiresIContext=true;q.getCurrentPathWithExpand.requiresIContext=true;q.getCurrentPathWithExpandForContact.requiresIContext=true;q.getEntityTypesForFormPersonalization.requiresIContext=true;q.actionControl.requiresIContext=true;q.getTextArrangementForSmartControl.requiresIContext=true;q.matchesBreadCrumb.requiresIContext=true;q.createP13N.requiresIContext=true;q.createP13NColumnForConnectedFields.requiresIContext=true;q.createP13NColumnForIndicator.requiresIContext=true;q.createP13NColumnForAction.requiresIContext=true;q.createP13NColumnForContactPopUp.requiresIContext=true;q.createP13NColumnForChart.requiresIContext=true;q.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;q.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;q.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;q.getProgressIndicatorTooltip.requiresIContext=true;q.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;q.areBooleanRestrictionsValidAndPossible.requiresIContext=true;q.isRelatedEntityCreatable.requiresIContext=true;q.buildBreadCrumbExpression.requiresIContext=true;q.getApplicablePathForChartToolbarActions.requiresIContext=true;q.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;q.getIconTabFilterText.requiresIContext=true;q.formatImageUrl.requiresIContext=true;q.getPathWithExpandFromHeader.requiresIContext=true;q.formatImageOrTypeUrl.requiresIContext=true;q.formatHeaderImage.requiresIContext=true;q.getDataFieldLabel.requiresIContext=true;q.getDataFieldValue.requiresIContext=true;q.getDataFieldValueSimplePath.requiresIContext=true;q.getActionButtonVisibility.requiresIContext=true;q.checkMultiplicityForDataFieldAssociation.requiresIContext=true;q.checkMultiplicityForDataFieldAssociationInTable.requiresIContext=true;q.getTextArrangementForSCFields.requiresIContext=true;q.hasQuickViewFacet.requiresIContext=true;q.buildActionButtonsCustomData.requiresIContext=true;q.buildHeaderInfoCustomData.requiresIContext=true;q.formatWithExpandSimplePath.requiresIContext=true;q.formatSmartField.requiresIContext=true;return q;},true);
